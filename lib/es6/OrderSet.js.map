{"version":3,"sources":["OrderSet.ts"],"names":[],"mappings":"AAAA;;EAEE;AACF,YAAY,CAAC;AAEb,OAAO,EAAE,KAAK,EAAa,MAAM,SAAS,CAAC;AAE3C,MAAM;IAIF,YAAY,MAAoB;QAHxB,WAAM,GAAkC,EAAE,CAAC;QAC3C,YAAO,GAAG,CAAC,CAAC;QAGhB,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACT,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;gBACtB,IAAI,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;YAClC,CAAC,CAAC,CAAA;QACN,CAAC;IACL,CAAC;IAED,GAAG,CAAC,QAAe;QAEf,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QACtC,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAEjC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YACxB,MAAM,CAAC;QACX,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;QAC5B,IAAI,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC;IAED,OAAO,CAAC,UAAU;QACd,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;IACrE,CAAC;IAED,OAAO;QACH,MAAM,CAAC,IAAI,CAAC,OAAO,KAAK,CAAC,CAAC;IAC9B,CAAC;CACJ","file":"OrderSet.js","sourcesContent":["/*!\n    Copyright 2017 Kuromatch\n*/\n\"use strict\";\n\nimport { Order, OrderLike } from \"./Order\";\n\nexport class OrderSet {\n    private orders: { [priceKey: string]: Order } = {};\n    private _length = 0;\n\n    constructor(orders?: OrderLike[]) {\n        if (orders) {\n            orders.forEach(position => {\n                this.add(new Order(position));\n            })\n        }\n    }\n\n    add(position: Order) {\n\n        const key = position.price.toString();\n        const existed = this.orders[key];\n\n        if (existed) {\n            existed.merge(position);\n            return;\n        }\n\n        this.orders[key] = position;\n        this._length++;\n    }\n\n    forEach(callbackFn) {\n        const orders = this.orders;\n        Object.keys(orders).forEach(key => callbackFn(orders[key], key));\n    }\n\n    isEmpty() {\n        return this._length === 0;\n    }\n}\n"]}