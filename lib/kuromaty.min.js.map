{"version":3,"sources":["kuromaty.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Object","defineProperty","value","Order","undefined","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_decimal","order","instance","TypeError","_classCallCheck","this","time","price","Decimal","origSize","size","side","type","equals","plus","decimal.js-light","2","OrderSet","_Order","orders","_this","_length","forEach","position","add","toString","existed","merge","callbackFn","keys","./Order","3","Position","_sideSign","minus","mul","toNumber","4","PositionSet","_Position","positions","_size","margin","pos","marginAgainst","get","./Position","5","Kuromaty","_slicedToArray","arr","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","push","err","sliceIterator","util","obj","__esModule","newObj","hasOwnProperty","default","_interopRequireWildcard","_PositionSet","_OrderSet","_flagrate2","_interopRequireDefault","container","options","arguments","timePeriod","barIndex","cursorPrice","cursorVolume","cursorBoard","cursorBoardPrice","pinnedPrices","maxBarCount","hasDepleted","color","bg","text","textStrong","textWeak","short","long","askOrder","bidOrder","volume","askDepth","bidDepth","askDepthLast","bidDepthLast","grid","border","borderText","borderLTP","borderLTPText","lineMA1","lineMA2","lineMA3","cursorX","cursorY","canvasW","canvasH","_dpr","window","devicePixelRatio","_hasUpdated","_hasRemoved","_afs","_pricePops","_lastPointerdown","_lastPointerButtons","_positions","_orders","__keydownHandler","_keydownHandler","bind","chartCount","chartTitles","chartOverlay","barWidth","barMargin","decimalPower","parseInt","join","_create","insertTo","appendChild","_rootContainer","resize","_removeListeners","parentNode","removeChild","cancelAnimationFrame","_afr","w","_chartContainer","clientWidth","h","clientHeight","canvases","canvas","width","height","_redraw","delta","Math","min","max","index","bars","charts","hBars","_tick","chart","tickDelta","ticks","unshift","pop","lastTime","Date","now","bar","getMinutes","floor","setSeconds","board","groupUp","boardItems","current","groupPrice","currentSize","groupedItems","minPrice","maxPrice","boardMaxSize","deepCopy","generatePriceGrouping","boardGroupSize","highest","lowest","asks","bids","option","style","borderColor","document","createElement","className","contexts","overlay","context","getContext","addEventListener","_pointerdownHandler","_pointerupHandler","_pointermoveHandler","_pointeroutHandler","_wheelHandler","_contextmenuHandler","title","_bars","range","highestPrice","highestPricePrinted","lowestPrice","lowestPricePrinted","askPrice","bidPrice","maxVolume","volumeRatio","maxDepth","minDepth","depthRatio","latest","ratio","selected","reverse","_addListeners","removeEventListener","_this2","scale","imageSmoothingEnabled","requestAnimationFrame","tick","_draw","_this3","barW","chartW","chartH","chartM","chartI","barCount","round","decimal","period","j","m","Infinity","barH","barDate","barDateMinutes","barDateHours","barDateDate","clearRect","_getBars","priceRatio","opacity","fillStyle","fillRect","textAlign","_loop","ctx","barX","ceil","hpX","hpY","beginPath","moveTo","lineTo","fill","fillText","toFixed","_drawBorder","lpX","lpY","getHours","getDate","timeStr","getMonth","zeroPadding","font","ltpp","lp","cp","_drawVerticalRange","priceRangeLabelY","save","globalAlpha","restore","grad","createLinearGradient","addColorStop","_grad","_drawDepthIndicator","askp","bidp","_drawPriceTag2","boardItemHeight","_drawPriceTag","_drawPositionMarker","_drawOrderMarker","pricePopEffect","_drawPricePopEffect","_chart","_ctx","_barX","_drawSMA","pX","_chart2","cursorPriceY","cursorBoardPriceY","barTime","diff","toLocaleString","toStringWithSign","isEmpty","marginText","_chart3","_margin","_marginText","strokeStyle","strokeText","splice","abs","_pricePops$i","alpha","posX","posY","start","slice","map","date","backCount","apply","getTime","mBars","ev","active","activeElement","tagName","getSelection","activated","keyCode","stopPropagation","preventDefault","_this4","limitSide","stopSide","limitSideLabel","stopSideLabel","quickOrderItems","quickOrder","labelHTML","onSelect","quickOrderHandler","_contextMenu","visible","close","ContextMenu","items","label","isDisabled","copyTextToClipboard","concat","open","offsetX","offsetY","rect","getBoundingClientRect","clientX","left","clientY","top","buttons","which","_dragStartX","pointerType","pinnedPriceIndex","indexOf","_dragStartI","deltaX","ctrlKey","zoom","deltaY","x","y","lineDash","globalCompositeOperation","lineWidth","setLineDash","stroke","textColor","tagColor","ltp","count","lineCap","lineJoin","p","./OrderSet","./PositionSet","./util","flagrate/lib/es6/flagrate","6","_typeof","assign","constructor","number","groupSize","span","insertText","body","createRange","selectNode","selection","removeAllRanges","addRange","execCommand","remove","7","globalScope","carry","d","k","len","xd","yd","Ctor","pr","precision","external","LOG_BASE","BASE","checkInt32","invalidArgument","digitsToString","ws","indexOfLastWord","str","getZeroString","exp","sd","denominator","pow","sum","wpr","getBase10Exponent","exponentOutOfRange","ONE","gte","times","log","mathpow","LN10","divide","getLn10","decimalError","zs","ln","c","c0","numerator","x2","eq","charAt","parseDecimal","replace","search","substring","charCodeAt","mathfloor","MAX_E","rm","rd","doRound","xdi","subtract","xe","xLTy","shift","isExp","truncate","clone","isDecimal","test","ps","P","ROUND_UP","ROUND_DOWN","ROUND_CEIL","ROUND_FLOOR","ROUND_HALF_UP","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_CEIL","ROUND_HALF_FLOOR","config","set","v","MAX_DIGITS","rounding","toExpNeg","toExpPos","absoluteValue","comparedTo","cmp","xdL","ydL","decimalPlaces","dp","dividedBy","div","dividedToIntegerBy","idiv","exponent","greaterThan","gt","greaterThanOrEqualTo","isInteger","isint","isNegative","isneg","isPositive","ispos","isZero","lessThan","lt","lessThanOrEqualTo","lte","logarithm","base","sub","modulo","mod","q","naturalExponential","naturalLogarithm","negated","neg","z","squareRoot","sqrt","toExponential","rL","toDecimalPlaces","todp","toInteger","toint","toPower","sign","yIsInt","yn","toPrecision","toSignificantDigits","tosd","valueOf","val","toJSON","multiplyInteger","temp","compare","b","aL","bL","prod","prodL","qd","rem","remL","rem0","xi","xL","yd0","yL","yz","define","amd","self","Function","8","Flagrate","element","button","menu","pulldown","textInput","tokenizer","textArea","comboBox","select","contextMenu","toolbar","searchBox","checkbox","checkboxes","radio","radios","sw","progress","slider","tab","popover","tutorial","notify","modal","form","identity","extendObject","emptyFunction","jsonPointer","Element","Button","createButton","Buttons","createButtons","Menu","createMenu","Pulldown","createPulldown","TextInput","createTextInput","Tokenizer","createTokenizer","TextArea","createTextArea","ComboBox","createComboBox","Select","createSelect","createContextMenu","Toolbar","createToolbar","SearchBox","createSearchBox","Checkbox","createCheckbox","Checkboxes","createCheckboxes","Radio","createRadio","Radios","createRadios","Switch","createSwitch","Progress","createProgress","Slider","createSlider","Tab","createTab","Popover","createPopover","Tutorial","createTutorial","Notify","createNotify","Modal","createModal","Grid","createGrid","Form","createForm","flagrate","./flagrate/button","./flagrate/buttons","./flagrate/checkbox","./flagrate/checkboxes","./flagrate/combo-box","./flagrate/context-menu","./flagrate/element","./flagrate/form","./flagrate/grid","./flagrate/menu","./flagrate/modal","./flagrate/notify","./flagrate/popover","./flagrate/progress","./flagrate/pulldown","./flagrate/radio","./flagrate/radios","./flagrate/search-box","./flagrate/select","./flagrate/slider","./flagrate/switch","./flagrate/tab","./flagrate/text-area","./flagrate/text-input","./flagrate/tokenizer","./flagrate/toolbar","./flagrate/tutorial","./flagrate/util","9","_util","_element","isRemovableByUser","onRemove","attr","attribute","id","isFocused","labelElement","insert","addClassName","_onSelectHandler","_removeButton","class","_onRemoveHandler","setStyle","setColor","icon","setIcon","disable","writeAttribute","enable","removeClassName","isEnabled","hasClassName","setLabel","updateText","setLabelHTML","html","update","backgroundColor","_color","getColor","identifier","_iconIdentifier","backgroundImage","getIcon","layerX","bw","getWidth","bh","getHeight","bp","getStyle","rw","rh","lx","ly","layerY","targetButton","fire","./element","10","_onSelect","btn","dataset","getButtonByKey","elements","childNodes","getButtons","./button","11","idCounter","opt","onChange","onCheck","onUncheck","_input","targetCheckbox","isChecked","check","focus","checked","uncheck","12","_checkbox","_items","item","_item","values","setValues","deselect","getValues","addValue","removeValue","selectAll","deselectAll","./checkbox","13","_button","_menu","_textInput","createOnSelectHandler","setValue","_textinput","regexp","placeholder","removeMenu","off","setTimeout","menuHeight","menuMargin","cummOffsetTop","cumulativeOffset","upsideSpace","pageYOffset","downsideSpace","innerHeight","maxHeight","on","getValue","isValid","./menu","./text-input","14","_openHandler","_closeHandler","_isShowing","setTarget","_target","innerWidth","15","_toConsumableArray","arr2","from","_cache","_insertionTranslation","before","node","insertBefore","firstChild","bottom","after","nextSibling","cloneNode","isFlagrated","display","exists","toggle","hide","show","content","isElement","innerHTML","createTextNode","insertion","toLowerCase","to","readAttribute","name","getAttribute","removeAttribute","setAttribute","getDimensions","offsetWidth","offsetHeight","visibility","dimensions","offsetTop","offsetLeft","offsetParent","cumulativeScrollOffset","scrollTop","scrollLeft","documentElement","RegExp","trim","toggleClassName","toUpperCase","css","defaultView","getComputedStyle","parseFloat","listener","useCapture","_flagrateEvent","fevent","property","event","createEvent","initEvent","dispatchEvent","emit","wrapper","extend","HTMLElement","object","nodeType","nodeName","16","_textArea","_comboBox","_checkboxes","_switch","_radios","_select","_opt","_fields","_nolabel","_vertical","_id","nolabel","vertical","fields","eventType","result","field","pointer","_dependsIsOk","getVal","callback","hasError","run","validate","input","_createField","_l","_collectFieldRefs","_checkFieldDepends","_requestRender","removes","_i2","_l2","_i3","_l3","bulk","_renderTimer","clearTimeout","_render","navigator","userAgent","selectionStart","selectionEnd","collapse","_refs","fi","depends","point","getField","op","tester","getResult","_compareDepend","inputType","create","setVal","toStr","validators","inputValidator","_result","isRequired","transform","_inputOnChange","message","hasWarning","_hasError","_hasWarning","success","error","isNaN","minLength","maxLength","_checkRefs","refField","rerend","changeEvents","eventName","numeric","alphanumeric","maxlength","password","textarea","inputmode","combobox","switch","isOn","switchOn","switchOff","listView","multiple","selectedIndex","selectedIndexes","file","accept","acceptTypes","files","./checkboxes","./combo-box","./radios","./select","./switch","./text-area","17","_toolbar","_cols","_rows","_pagePosition","_selectedRows","_sortedByKey","_sortedByAsc","_head","_thead","_tr","_body","_tbody","_style","cols","rows","colMinWidth","pagination","numberOfRowsPerPage","headless","disableSort","disableResize","multiSelect","disableCheckbox","disableSelect","onDeselect","onClick","onDblClick","onRender","onRendered","postProcessOfRow","row","isSelected","targetGrid","_loop2","ret","cell","isAsc","sort","A","B","cellA","cellB","sortAlt","_div","_th","isSorted","fromIndex","col","align","_resizeHandle","onmousedown","_createResizeHandleOnMousedownHandler","onclick","_createColOnClickHandler","_lastCol","_pager","onscroll","_createBodyOnScrollHandler","_createOnScrollHandler","_layoutUpdater","_layoutInterval","clearInterval","setInterval","_requestUpdateLayout","_this5","_layoutWidth","_layoutTimer","_updateLayoutOfCols","_updatePositionOfResizeHandles","isCheckable","pl","pages","rl","cl","_grid","_createRowOnClickHandler","ondblclick","_createRowOnDblClickHandler","_createRowOnCheckHandler","_td","_createCellOnClickHandler","_createCellOnDblClickHandler","cellProps","postProcess","_last","menuItems","_updateRowMenu","rowProps","getElementByKey","right","_createLastRowOnClickHandler","adj","surplus","_this6","fixed","minimized","minWidth","scrollWidth","_surplus","_this7","_this8","_this9","_this10","_this11","_this12","_this13","_this14","_this15","_this16","origin","onMove","onUp","getSelectedRows","hiddenProp","tr","td","innerText","url","./context-menu","./toolbar","18","_buttons","./buttons","19","_close","__onKeydownHandler","_onKeydownHandler","sizing","disableCloseButton","disableCloseByMask","disableCloseByEsc","subtitle","onBeforeClose","onClose","onShow","_container","_middle","_content","_title","_subtitle","blur","_closingTimer","_positioning","_positioningTimer","_createButtons","_createBase","_createModal","_obi","_modal","_closeButton","_header","_footer","hasChildNodes","console","warn","baseWidth","baseHeight","modalWidth","modalHeight","overflowX","overflowY","click","setContent","setSizing","setElement","setHTML","setText","setTitle","setSubtitle","20","disableDesktopNotify","disableFocusDetection","hAlign","vAlign","hMargin","vMargin","spacing","timeout","_notifies","_init","hasFocus","_createDesktopNotify","isAlive","closeTimer","hPosition","vPosition","notifyClose","closeNotify","_positioner","cursor","onTimeout","permission","location","protocol","requestPermission","onclose","tH","pY","21","_updatePosition","tOffset","tScroll","tWidth","tHeight","_text","_html","_className","forceTarget","Event","setClassName","boolean","22","_value","_max","_bar","_updateProgress","targetProgress","getMax","setMax","percentage","23","onOpen","_open","targetPulldown","24","targetRadio","25","_radio","./radio","26","suggester","onSearch","_suggest","_onKeyupHandler","_onFocusHandler","_onBlurHandler","suggest","_suggested","suggestedItems","_createCompletionHandler","_createSuggestionHandler","getElementsByClassName","getElementsByTagName","_lastValue","27","FSelect","isPulldown","_pulldown","createOnDeselectHandler","./grid","./pulldown","28","tabIndex","ontouchstart","_onTouchStartHandler","pointerEnabled","_onPointerDownHandler","msPointerEnabled","_slide","touches","pageX","unitWidth","targetSlider","./progress","29","toggleSwitch","flagrateSwitchStatus","targetSwitch","30","_tabs","tabs","_bodyless","bodyless","_selectedIndex","tabItem","tabEvent","targetTab","targetTabItem","removeTab","_createOnSelectHandler","31","32","33","tokenize","tokenizeSync","_tokens","_updateTokens","_onClickHandler","removeValues","vw","aw","_tokenize","_candidates","_tokenized","_lastTokenizedValue","candidates","candidate","menuItem","_createMenuOnSelectHandler","34","isBorder","getElements","35","_popover","onFinish","onAbort","_steps","_index","steps","_inStep","_main","_afterStep","step","onBeforeStep","_step","finish","prev","abort","querySelector","buttonContainer","onStep","pp","onAfterStep","./modal","./popover","36","dest","source","traverse","pts","isSet","part","untilde","validate_input","split"],"mappings":"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","file":"kuromaty.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*!\n    Copyright 2017 Kuromatch\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Order = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _decimal = require(\"decimal.js-light\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Order = exports.Order = function () {\n    function Order(order) {\n        _classCallCheck(this, Order);\n\n        this.time = order.time;\n        this.price = new _decimal.Decimal(order.price);\n        this.origSize = new _decimal.Decimal(order.origSize);\n        this.size = new _decimal.Decimal(order.size);\n        this.side = order.side;\n        this.type = order.type;\n    }\n\n    _createClass(Order, [{\n        key: \"merge\",\n        value: function merge(order) {\n            if (!this.price.equals(order.price)) {\n                throw new Error(\"Can not merge different price orders.\");\n            }\n            if (this.side !== order.side) {\n                // \n                throw new Error(\"Double options is not supported.\");\n            }\n            this.origSize = this.origSize.plus(order.origSize);\n            this.size = this.size.plus(order.size);\n        }\n    }]);\n\n    return Order;\n}();\n\n\n\n},{\"decimal.js-light\":7}],2:[function(require,module,exports){\n/*!\n    Copyright 2017 Kuromatch\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OrderSet = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Order = require(\"./Order\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OrderSet = exports.OrderSet = function () {\n    function OrderSet(orders) {\n        var _this = this;\n\n        _classCallCheck(this, OrderSet);\n\n        this.orders = {};\n        this._length = 0;\n        if (orders) {\n            orders.forEach(function (position) {\n                _this.add(new _Order.Order(position));\n            });\n        }\n    }\n\n    _createClass(OrderSet, [{\n        key: \"add\",\n        value: function add(position) {\n            var key = position.price.toString();\n            var existed = this.orders[key];\n            if (existed) {\n                existed.merge(position);\n                return;\n            }\n            this.orders[key] = position;\n            this._length++;\n        }\n    }, {\n        key: \"forEach\",\n        value: function forEach(callbackFn) {\n            var orders = this.orders;\n            Object.keys(orders).forEach(function (key) {\n                return callbackFn(orders[key], key);\n            });\n        }\n    }, {\n        key: \"isEmpty\",\n        value: function isEmpty() {\n            return this._length === 0;\n        }\n    }]);\n\n    return OrderSet;\n}();\n\n\n\n},{\"./Order\":1}],3:[function(require,module,exports){\n/*!\n    Copyright 2017 Kuromatch\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Position = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _decimal = require(\"decimal.js-light\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Position = exports.Position = function () {\n    function Position(position) {\n        _classCallCheck(this, Position);\n\n        this.time = position.time;\n        this.price = new _decimal.Decimal(position.price);\n        this.size = new _decimal.Decimal(position.size);\n        this.side = position.side;\n        this._sideSign = new _decimal.Decimal(position.side === \"S\" ? 1 : -1);\n    }\n\n    _createClass(Position, [{\n        key: \"marginAgainst\",\n        value: function marginAgainst(price) {\n            return this.price.minus(price).mul(this.size).mul(this._sideSign).toNumber();\n        }\n    }, {\n        key: \"merge\",\n        value: function merge(position) {\n            if (!this.price.equals(position.price)) {\n                throw new Error(\"Can not merge different price positions.\");\n            }\n            if (this.side != position.side) {\n                // \n                throw new Error(\"Double options is not supported.\");\n            }\n            this.size = this.size.plus(position.size);\n        }\n    }]);\n\n    return Position;\n}();\n\n\n\n},{\"decimal.js-light\":7}],4:[function(require,module,exports){\n/*!\n    Copyright 2017 Kuromatch\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PositionSet = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Position = require(\"./Position\");\n\nvar _decimal = require(\"decimal.js-light\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PositionSet = exports.PositionSet = function () {\n    function PositionSet(positions) {\n        var _this = this;\n\n        _classCallCheck(this, PositionSet);\n\n        this.positions = {};\n        this._size = new _decimal.Decimal(0);\n        this._length = 0;\n        if (positions) {\n            positions.forEach(function (position) {\n                _this.add(new _Position.Position(position));\n            });\n        }\n    }\n\n    _createClass(PositionSet, [{\n        key: \"add\",\n        value: function add(position) {\n            this._size = this._size.plus(position.size);\n            var key = position.price.toString();\n            var existed = this.positions[key];\n            if (existed) {\n                existed.merge(position);\n                return;\n            }\n            this.positions[key] = position;\n            this._length++;\n        }\n    }, {\n        key: \"forEach\",\n        value: function forEach(callbackFn) {\n            var positions = this.positions;\n            Object.keys(positions).forEach(function (key) {\n                return callbackFn(positions[key], key);\n            });\n        }\n    }, {\n        key: \"marginAgainst\",\n        value: function marginAgainst(price) {\n            var margin = 0;\n            this.forEach(function (pos) {\n                margin += pos.marginAgainst(price);\n            });\n            return margin;\n        }\n    }, {\n        key: \"isEmpty\",\n        value: function isEmpty() {\n            return this._length === 0;\n        }\n    }, {\n        key: \"size\",\n        get: function get() {\n            return this._size.toNumber();\n        }\n    }]);\n\n    return PositionSet;\n}();\n\n\n\n},{\"./Position\":3,\"decimal.js-light\":7}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Kuromaty = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*!\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Copyright 2017 Kuromatch\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */\n\n\nvar _util = require(\"./util\");\n\nvar util = _interopRequireWildcard(_util);\n\nvar _PositionSet = require(\"./PositionSet\");\n\nvar _OrderSet = require(\"./OrderSet\");\n\nvar _flagrate = require(\"flagrate/lib/es6/flagrate\");\n\nvar _flagrate2 = _interopRequireDefault(_flagrate);\n\nvar _decimal = require(\"decimal.js-light\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Kuromaty = function () {\n    function Kuromaty(container) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, Kuromaty);\n\n        this.options = options;\n        this.timePeriod = 1;\n        this.barIndex = 0;\n        this.cursorPrice = 0;\n        this.cursorVolume = 0;\n        this.cursorBoard = 0;\n        this.cursorBoardPrice = 0;\n        this.pinnedPrices = [];\n        this.maxBarCount = 8200;\n        this.hasDepleted = false;\n        this.color = {\n            bg: \"#fafafa\",\n            text: \"#333333\",\n            textStrong: \"#111111\",\n            textWeak: \"#777777\",\n            short: \"#e9546b\",\n            long: \"#3eb370\",\n            askOrder: \"#ff303e\",\n            bidOrder: \"#17cb00\",\n            volume: \"#9b7cb6\",\n            askDepth: \"rgba(210,179,189,0.21)\",\n            bidDepth: \"rgba(201,210,179,0.25)\",\n            askDepthLast: \"rgba(210,179,189,0.45)\",\n            bidDepthLast: \"rgba(201,210,179,0.55)\",\n            grid: \"#eeeeee\",\n            border: \"#cccccc\",\n            borderText: \"#111111\",\n            borderLTP: \"rgba(255,150,25,0.6)\",\n            borderLTPText: \"#ffffff\",\n            lineMA1: \"#e9e7c6\",\n            lineMA2: \"#c6e6e9\",\n            lineMA3: \"#e9c6e8\"\n        };\n        this.cursorX = -1;\n        this.cursorY = -1;\n        this.canvasW = 0;\n        this.canvasH = 0;\n        this._dpr = window.devicePixelRatio;\n        this._hasUpdated = false;\n        this._hasRemoved = true;\n        this._afs = 0;\n        this._pricePops = [];\n        this._lastPointerdown = [0, 0];\n        this._lastPointerButtons = 0;\n        this._positions = new _PositionSet.PositionSet();\n        this._orders = new _OrderSet.OrderSet();\n        this.__keydownHandler = this._keydownHandler.bind(this);\n        if (typeof options.chartCount !== \"number\") {\n            options.chartCount = 1;\n        }\n        if (options.chartTitles === undefined) {\n            options.chartTitles = [];\n        }\n        if (options.chartOverlay === undefined) {\n            options.chartOverlay = false;\n        }\n        options.barWidth = options.barWidth || 5;\n        options.barMargin = options.barMargin || 3;\n        options.decimalPower = options.decimalPower || 0;\n        this._decimal = parseInt(\"1\" + Array(options.decimalPower + 1).join(\"0\"), 10);\n        this._create();\n        if (container) {\n            this.insertTo(container);\n        }\n    }\n\n    _createClass(Kuromaty, [{\n        key: \"insertTo\",\n        value: function insertTo(container) {\n            container.appendChild(this._rootContainer);\n            this._hasRemoved = false;\n            this.resize();\n        }\n    }, {\n        key: \"remove\",\n        value: function remove() {\n            this._removeListeners();\n            this._rootContainer.parentNode.removeChild(this._rootContainer);\n            this.canvasW = this.canvasH = 0;\n            this._hasRemoved = true;\n            cancelAnimationFrame(this._afr);\n        }\n    }, {\n        key: \"resize\",\n        value: function resize() {\n            var w = this.canvasW = this._chartContainer.clientWidth;\n            var h = this.canvasH = this._chartContainer.clientHeight;\n            w *= this._dpr;\n            h *= this._dpr;\n            this.canvases.forEach(function (canvas) {\n                canvas.width = w;\n                canvas.height = h;\n            });\n            this._hasUpdated = true;\n            this._redraw();\n        }\n    }, {\n        key: \"zoom\",\n        value: function zoom(delta) {\n            this.options.barWidth = Math.min(11, Math.max(1, this.options.barWidth + delta));\n            this._hasUpdated = true;\n        }\n    }, {\n        key: \"update\",\n        value: function update(index, bars) {\n            this.charts[index].bars = bars;\n            this._hasUpdated = true;\n        }\n    }, {\n        key: \"updateHBars\",\n        value: function updateHBars(index, hBars) {\n            this.charts[index].hBars = hBars;\n            this._hasUpdated = true;\n        }\n    }, {\n        key: \"tick\",\n        value: function tick(index, _tick) {\n            var chart = this.charts[index];\n            chart.tickDelta = 0;\n            if (chart.ticks[0] && chart.bars[0] && chart.bars[0][4 /* Close */] !== _tick[1 /* Ltp */]) {\n                chart.tickDelta = _tick[1 /* Ltp */] - chart.bars[0][4 /* Close */];\n            }\n            if (!chart.ticks[0] || 1000 < _tick[0 /* Time */] - chart.ticks[0][0 /* Time */]) {\n                chart.ticks.unshift(_tick);\n                if (chart.ticks.length > 250) {\n                    chart.ticks.pop();\n                }\n            }\n            var lastTime = Date.now() - 1000 * 60;\n            if (chart.bars.length > 0) {\n                lastTime = chart.bars[0][0 /* Time */];\n            }\n            var bar = chart.bars[0];\n            var time = _tick[0 /* Time */];\n            if (!bar || new Date(lastTime).getMinutes() !== new Date(time).getMinutes()) {\n                var delta = Math.floor((time - lastTime) / 1000 / 60);\n                for (var i = delta; i > 0; i--) {\n                    if (i === 1) {\n                        chart.bars.unshift([new Date(_tick[0 /* Time */]).setSeconds(0, 0), _tick[1 /* Ltp */], _tick[1 /* Ltp */], _tick[1 /* Ltp */], _tick[1 /* Ltp */], _tick[2 /* Volume */], _tick[3 /* AskDepth */], _tick[4 /* BidDepth */], _tick[5 /* SellVolume */], _tick[6 /* BuyVolume */]]);\n                    } else {\n                        chart.bars.unshift([new Date(_tick[0 /* Time */]).setSeconds(0, 0) - 1000 * 60 * (i - 1), chart.ticks[0][1 /* Ltp */], chart.ticks[0][1 /* Ltp */], chart.ticks[0][1 /* Ltp */], chart.ticks[0][1 /* Ltp */], chart.ticks[0][2 /* Volume */], chart.ticks[0][3 /* AskDepth */], chart.ticks[0][4 /* BidDepth */], chart.ticks[0][5 /* SellVolume */], chart.ticks[0][6 /* BuyVolume */]]);\n                    }\n                    if (chart.bars.length > this.maxBarCount) {\n                        chart.bars.pop();\n                    }\n                }\n            } else {\n                if (bar[2 /* High */] < _tick[1 /* Ltp */]) {\n                    bar[2 /* High */] = _tick[1 /* Ltp */];\n                }\n                if (bar[3 /* Low */] > _tick[1 /* Ltp */]) {\n                    bar[3 /* Low */] = _tick[1 /* Ltp */];\n                }\n                bar[4 /* Close */] = _tick[1 /* Ltp */];\n                if (bar[5 /* Volume */] < _tick[2 /* Volume */]) {\n                    bar[5 /* Volume */] = _tick[2 /* Volume */];\n                }\n                bar[6 /* AskDepth */] = _tick[3 /* AskDepth */];\n                bar[7 /* BidDepth */] = _tick[4 /* BidDepth */];\n                if (bar[8 /* SellVolume */] < _tick[5 /* SellVolume */]) {\n                    bar[8 /* SellVolume */] = _tick[5 /* SellVolume */];\n                }\n                if (bar[9 /* BuyVolume */] < _tick[6 /* BuyVolume */]) {\n                    bar[9 /* BuyVolume */] = _tick[6 /* BuyVolume */];\n                }\n            }\n            this._hasUpdated = true;\n        }\n    }, {\n        key: \"updateBoard\",\n        value: function updateBoard(index, board) {\n            board = util.deepCopy(board);\n            var chart = this.charts[index];\n            var groupPrice = util.generatePriceGrouping(this._decimal, this.options.boardGroupSize);\n            var boardMaxSize = 0;\n            var maxPrice = chart.highest;\n            var minPrice = chart.lowest;\n            function groupUp(boardItems) {\n                if (boardItems.length === 0) {\n                    return [];\n                }\n                var current = { price: groupPrice(boardItems[0].price), size: 0 };\n                var currentSize = new _decimal.Decimal(0);\n                var groupedItems = [current];\n                for (var i = 0; i < boardItems.length; i++) {\n                    var price = groupPrice(boardItems[i].price);\n                    if (price < minPrice || maxPrice < price) {\n                        break;\n                    }\n                    if (current.price !== price) {\n                        if (boardMaxSize < current.size) {\n                            boardMaxSize = current.size;\n                        }\n                        current = {\n                            price: price,\n                            size: boardItems[i].size\n                        };\n                        currentSize = new _decimal.Decimal(current.size);\n                        groupedItems.push(current);\n                    } else {\n                        currentSize = currentSize.plus(boardItems[i].size);\n                        current.size = currentSize.toNumber();\n                    }\n                }\n                if (boardMaxSize < current.size) {\n                    boardMaxSize = current.size;\n                }\n                return groupedItems;\n            }\n            board.asks = groupUp(board.asks);\n            board.bids = groupUp(board.bids);\n            chart.board = board;\n            chart.boardMaxSize = boardMaxSize;\n            this._hasUpdated = true;\n        }\n    }, {\n        key: \"setColor\",\n        value: function setColor(option) {\n            for (var key in option) {\n                this.color[key] = option[key];\n            }\n            this._chartContainer.style.borderColor = this.color.border;\n        }\n    }, {\n        key: \"setPositions\",\n        value: function setPositions(positions) {\n            this._positions = new _PositionSet.PositionSet(positions);\n        }\n    }, {\n        key: \"setOrders\",\n        value: function setOrders(orders) {\n            this._orders = new _OrderSet.OrderSet(orders);\n        }\n    }, {\n        key: \"_create\",\n        value: function _create() {\n            var _this = this;\n\n            this._rootContainer = document.createElement(\"div\");\n            this._rootContainer.className = \"kuromaty\";\n            this._chartContainer = document.createElement(\"div\");\n            this._chartContainer.className = \"kuromaty-chart\";\n            this._chartContainer.style.borderColor = this.color.border;\n            this._rootContainer.appendChild(this._chartContainer);\n            this.charts = [];\n            this.canvases = [];\n            this.contexts = [];\n            {\n                this.overlay = {\n                    canvas: document.createElement(\"canvas\"),\n                    context: null\n                };\n                this.overlay.context = this.overlay.canvas.getContext(\"2d\");\n                this.canvases.push(this.overlay.canvas);\n                this.contexts.push(this.overlay.context);\n                this.overlay.canvas.addEventListener(\"pointerdown\", this._pointerdownHandler.bind(this));\n                this.overlay.canvas.addEventListener(\"pointerup\", this._pointerupHandler.bind(this));\n                this.overlay.canvas.addEventListener(\"pointermove\", this._pointermoveHandler.bind(this));\n                this.overlay.canvas.addEventListener(\"pointerout\", this._pointeroutHandler.bind(this));\n                this.overlay.canvas.addEventListener(\"wheel\", this._wheelHandler.bind(this) /* , { passive: true } */);\n                this.overlay.canvas.addEventListener(\"contextmenu\", this._contextmenuHandler.bind(this));\n            }\n            for (var i = 0; i < this.options.chartCount; i++) {\n                var chart = {\n                    title: this.options.chartTitles[i] || \"Untitled\",\n                    canvas: document.createElement(\"canvas\"),\n                    context: null,\n                    bars: [],\n                    hBars: [],\n                    _bars: [],\n                    ticks: [],\n                    board: null,\n                    boardMaxSize: 0,\n                    range: 0,\n                    highest: 0,\n                    highestPrice: 0,\n                    highestPricePrinted: false,\n                    lowest: 0,\n                    lowestPrice: 0,\n                    lowestPricePrinted: false,\n                    askPrice: 0,\n                    bidPrice: 0,\n                    maxVolume: 0,\n                    volumeRatio: 0,\n                    maxDepth: 0,\n                    minDepth: 0,\n                    depthRatio: 1,\n                    latest: 0,\n                    ratio: 1,\n                    tickDelta: 0,\n                    selected: i === 0\n                };\n                chart.context = chart.canvas.getContext(\"2d\");\n                this.charts.push(chart);\n                this.canvases.push(chart.canvas);\n                this.contexts.push(chart.context);\n            }\n            {\n                this.grid = {\n                    canvas: document.createElement(\"canvas\"),\n                    context: null\n                };\n                this.grid.context = this.grid.canvas.getContext(\"2d\");\n                this.canvases.push(this.grid.canvas);\n                this.contexts.push(this.grid.context);\n            }\n            // insert all canvas\n            this.canvases.reverse();\n            this.contexts.reverse();\n            this.canvases.forEach(function (canvas) {\n                _this._chartContainer.appendChild(canvas);\n            });\n            this._addListeners();\n        }\n    }, {\n        key: \"_addListeners\",\n        value: function _addListeners() {\n            window.addEventListener(\"keydown\", this.__keydownHandler);\n        }\n    }, {\n        key: \"_removeListeners\",\n        value: function _removeListeners() {\n            window.removeEventListener(\"keydown\", this.__keydownHandler);\n        }\n    }, {\n        key: \"_redraw\",\n        value: function _redraw() {\n            var _this2 = this;\n\n            if (this._afr) {\n                cancelAnimationFrame(this._afr);\n            }\n            // initial settings\n            this.contexts.forEach(function (context) {\n                context.scale(_this2._dpr, _this2._dpr);\n                context.imageSmoothingEnabled = false;\n            });\n            var tick = function tick() {\n                if (_this2._hasUpdated && _this2.canvasW > 40 && _this2.canvasH > 40) {\n                    _this2._hasUpdated = false;\n                    _this2._draw();\n                }\n                if (!_this2._hasRemoved) {\n                    _this2._afr = requestAnimationFrame(tick);\n                }\n            };\n            this._afr = requestAnimationFrame(tick);\n        }\n    }, {\n        key: \"_draw\",\n        value: function _draw() {\n            var _this3 = this;\n\n            var canvasW = this.canvasW,\n                canvasH = this.canvasH,\n                barW = this.options.barWidth + this.options.barMargin,\n                chartW = canvasW - 45,\n                chartH = canvasH - 16,\n                chartM = barW * Math.max(2, 5 - this.barIndex),\n                chartI = Math.max(0, this.barIndex - 3),\n                barCount = Math.round((chartW - chartM) / barW) - 1,\n                decimal = this._decimal,\n                decimalPower = this.options.decimalPower,\n                period = this.timePeriod;\n            var i = 0,\n                j = 0,\n                l = 0,\n                m = this.charts.length,\n                end = false,\n                highest = 0,\n                lowest = Infinity,\n                maxVolume = 0,\n                minVolume = Infinity,\n                maxDepth = 0,\n                minDepth = Infinity,\n                bar = void 0,\n                barH = 0,\n                barDate = void 0,\n                barDateMinutes = void 0,\n                barDateHours = void 0,\n                barDateDate = void 0;\n            this.hasDepleted = false;\n            // pre\n            for (j = 0; j < m; j++) {\n                var chart = this.charts[j];\n                chart.context.clearRect(0, 0, canvasW, canvasH);\n                if (period === 0 && !chart.selected) {\n                    continue;\n                }\n                highest = 0;\n                lowest = Infinity;\n                maxVolume = 0;\n                maxDepth = 0;\n                minDepth = Infinity;\n                chart._bars = this._getBars(j, chartI, barCount * 2);\n                l = Math.min(barCount, chart._bars.length);\n                if (chart.selected) {\n                    if (barCount > chart._bars.length && this.maxBarCount > chart.bars.length) {\n                        this.hasDepleted = true;\n                    }\n                }\n                for (i = 0; i < l; i++) {\n                    bar = chart._bars[i];\n                    if (!bar) {\n                        break;\n                    }\n                    if (highest < bar[2 /* High */]) {\n                        highest = bar[2 /* High */];\n                    }\n                    if (lowest > bar[3 /* Low */]) {\n                        lowest = bar[3 /* Low */];\n                    }\n                    if (maxVolume < bar[5 /* Volume */]) {\n                        maxVolume = bar[5 /* Volume */];\n                    }\n                    if (maxDepth < bar[6 /* AskDepth */]) {\n                        maxDepth = bar[6 /* AskDepth */];\n                    }\n                    if (minDepth > bar[6 /* AskDepth */]) {\n                        minDepth = bar[6 /* AskDepth */];\n                    }\n                    if (maxDepth < bar[7 /* BidDepth */]) {\n                        maxDepth = bar[7 /* BidDepth */];\n                    }\n                    if (minDepth > bar[7 /* BidDepth */]) {\n                        minDepth = bar[7 /* BidDepth */];\n                    }\n                }\n                if (chart._bars.length === 0) {\n                    return;\n                }\n                chart.latest = chart.bars[0][4 /* Close */];\n                chart.highestPrice = highest;\n                chart.lowestPrice = lowest;\n                chart.highestPricePrinted = false;\n                chart.lowestPricePrinted = false;\n                var priceRatio = chartH / (highest - lowest);\n                chart.highest = highest + Math.round(chartH / 3 / priceRatio * decimal) / decimal;\n                chart.lowest = lowest - Math.round(chartH / 3 / priceRatio * decimal) / decimal;\n                chart.range = chart.highest - chart.lowest;\n                chart.ratio = chartH / chart.range;\n                chart.maxVolume = maxVolume;\n                chart.volumeRatio = chartH / 5 / maxVolume;\n                chart.maxDepth = maxDepth;\n                chart.minDepth = minDepth;\n                chart.depthRatio = chartH / 5 / (maxDepth - minDepth);\n                chart.canvas.style.opacity = chart.selected ? \"1\" : \"0.2\";\n                // border\n                chart.context.fillStyle = this.color.border;\n                chart.context.fillRect(chartW, 0, 1, chartH);\n                chart.context.fillRect(0, chartH, chartW + 1, 1);\n            } // pre\n            this.grid.context.clearRect(0, 0, canvasW, canvasH);\n            this.grid.context.fillStyle = this.color.bg;\n            this.grid.context.fillRect(0, 0, canvasW, canvasH);\n            this.grid.context.textAlign = \"center\";\n            this.overlay.context.clearRect(0, 0, canvasW, canvasH);\n            // main\n\n            var _loop = function _loop() {\n                var chart = _this3.charts[j];\n                var ctx = chart.context;\n                var barX = chartW - chartM;\n                if (period === 0 && !chart.selected) {\n                    return \"continue\";\n                }\n                // bars\n                for (i = 0; i < l; i++) {\n                    bar = chart._bars[i];\n                    if (!bar || !chart._bars[i + 1]) {\n                        break;\n                    }\n                    if (i !== 0) {\n                        barX -= barW;\n                    }\n                    // ask/bid depth\n                    if (chart.selected) {\n                        ctx.fillStyle = i === 0 && chartI < 1 ? _this3.color.askDepthLast : _this3.color.askDepth;\n                        ctx.fillRect(barX - _this3.options.barWidth, 0, barW, Math.round((bar[6 /* AskDepth */] - chart.minDepth) * chart.depthRatio));\n                        ctx.fillStyle = i === 0 && chartI < 1 ? _this3.color.bidDepthLast : _this3.color.bidDepth;\n                        ctx.fillRect(barX - _this3.options.barWidth, chartH, barW, -Math.round((bar[7 /* BidDepth */] - chart.minDepth) * chart.depthRatio));\n                    }\n                    // volume\n                    ctx.fillStyle = _this3.color.volume;\n                    ctx.fillRect(barX - Math.ceil(_this3.options.barWidth / 2), chartH, 1, -Math.round(bar[5 /* Volume */] * chart.volumeRatio));\n                    if (period !== 0) {\n                        // bar height\n                        barH = Math.round((bar[1 /* Open */] - bar[4 /* Close */]) * chart.ratio);\n                        // candlestick\n                        ctx.fillStyle = bar[1 /* Open */] > bar[4 /* Close */] ? _this3.color.short : _this3.color.long;\n                        ctx.fillRect(barX - _this3.options.barWidth, Math.round((chart.highest - bar[1 /* Open */]) * chart.ratio), _this3.options.barWidth, barH === 0 ? 1 : barH);\n                        // candlestick (hige)\n                        ctx.fillRect(barX - Math.ceil(_this3.options.barWidth / 2), Math.round((chart.highest - bar[2 /* High */]) * chart.ratio), 1, Math.round((bar[2 /* High */] - bar[3 /* Low */]) * chart.ratio));\n                    }\n                    if (!chart.selected) {\n                        continue;\n                    }\n                    // highest\n                    if (period !== 0 && bar[2 /* High */] === chart.highestPrice) {\n                        _this3.overlay.context.fillStyle = _this3.color.long;\n                        var hpX = barX - _this3.options.barWidth / 2;\n                        var hpY = Math.round((chart.highest - bar[2 /* High */]) * chart.ratio);\n                        _this3.overlay.context.beginPath();\n                        _this3.overlay.context.moveTo(hpX, hpY - 2);\n                        _this3.overlay.context.lineTo(hpX + 3, hpY - 5);\n                        _this3.overlay.context.lineTo(hpX - 3, hpY - 5);\n                        _this3.overlay.context.fill();\n                        if (chart.highestPricePrinted === false) {\n                            chart.highestPricePrinted = true;\n                            _this3.overlay.context.textAlign = i < l / 2 ? \"right\" : \"left\";\n                            _this3.overlay.context.fillText(new _decimal.Decimal(bar[2 /* High */]).toFixed(decimalPower), barX - (i < l / 2 ? 0 : 5), hpY - 8);\n                            _this3._drawBorder(_this3.overlay.context, 0, hpY - 0.5, chartW, _this3.color.long, [1, 2]);\n                        }\n                    }\n                    // lowest\n                    if (period !== 0 && bar[3 /* Low */] === chart.lowestPrice) {\n                        _this3.overlay.context.fillStyle = _this3.color.short;\n                        var lpX = barX - _this3.options.barWidth / 2;\n                        var lpY = Math.round((chart.highest - bar[3 /* Low */]) * chart.ratio);\n                        _this3.overlay.context.beginPath();\n                        _this3.overlay.context.moveTo(lpX, lpY + 2);\n                        _this3.overlay.context.lineTo(lpX + 3, lpY + 5);\n                        _this3.overlay.context.lineTo(lpX - 3, lpY + 5);\n                        _this3.overlay.context.fill();\n                        if (chart.lowestPricePrinted === false) {\n                            chart.lowestPricePrinted = true;\n                            _this3.overlay.context.textAlign = i < l / 2 ? \"right\" : \"left\";\n                            _this3.overlay.context.fillText(new _decimal.Decimal(bar[3 /* Low */]).toFixed(decimalPower), barX - (i < l / 2 ? 0 : 5), lpY + 15);\n                            _this3._drawBorder(_this3.overlay.context, 0, lpY + 0.5, chartW, _this3.color.short, [1, 2]);\n                        }\n                    }\n                    // bar date\n                    barDate = new Date(bar[0 /* Time */]);\n                    barDateMinutes = barDate.getMinutes();\n                    barDateHours = barDate.getHours();\n                    barDateDate = barDate.getDate();\n                    // datetime\n                    if (period === 0 && i % 10 === 0 || period >= 1 && period < 3 && barDateMinutes % 15 === 0 || period >= 3 && period < 5 && barDateMinutes % 30 === 0 || period >= 5 && period < 10 && barDateMinutes % 60 === 0 || period >= 10 && period < 15 && barDateMinutes % 60 === 0 && barDateHours % 2 === 0 || period >= 15 && period < 30 && barDateMinutes % 60 === 0 && barDateHours % 3 === 0 || period >= 30 && period < 60 && barDateMinutes % 60 === 0 && barDateHours % 6 === 0 || period >= 60 && period < 120 && barDateMinutes % 60 === 0 && barDateHours % 12 === 0 || period >= 120 && period < 240 && barDateHours === 0 || period >= 240 && period < 360 && barDateHours === 0 && barDateDate % 2 === 0 || period >= 360 && period < 720 && barDateHours === 0 && barDateDate % 3 === 0 || period >= 720 && barDateHours === 0 && barDateDate % 7 === 0) {\n                        // vertical grid\n                        _this3.grid.context.fillStyle = _this3.color.grid;\n                        _this3.grid.context.fillRect(barX - Math.ceil(_this3.options.barWidth / 2), 0, 1, chartH);\n                        // time\n                        var timeStr = void 0;\n                        if (barDateHours === 0 && barDateMinutes === 0) {\n                            timeStr = barDate.getMonth() + 1 + \"/\" + barDateDate + \"'\";\n                        } else {\n                            timeStr = barDateHours + \":\" + util.zeroPadding(barDateMinutes, 2);\n                        }\n                        _this3.grid.context.fillStyle = _this3.color.text;\n                        _this3.grid.context.font = \"10px sans-serif\";\n                        _this3.grid.context.fillText(timeStr, barX - Math.ceil(_this3.options.barWidth / 2), canvasH - 4);\n                    }\n                } // bars\n                if (chart.selected) {\n                    // LTP Position (Y)\n                    var ltpp = Math.round((chart.highest - chart.latest) * chart.ratio);\n                    if (!ltpp) {\n                        ltpp = Math.round(canvasH / 2);\n                    }\n                    // horizontal grid (price)\n                    var lp = Infinity,\n                        cp = 0,\n                        add = decimal === 1 ? 1000 : 100 / decimal;\n                    if (period === 0) {\n                        add /= 100;\n                    }\n                    for (i = chart.lowest - chart.lowest % add; i < chart.highest; i += add) {\n                        cp = Math.round((chart.highest - i) * chart.ratio);\n                        if (lp - cp < 80 || cp + 30 > chartH) {\n                            continue;\n                        }\n                        // grid\n                        _this3.grid.context.fillStyle = _this3.color.grid;\n                        _this3.grid.context.fillRect(0, cp, chartW, 1);\n                        // text\n                        _this3.grid.context.fillStyle = _this3.color.textWeak;\n                        _this3.grid.context.font = \"11px sans-serif\";\n                        _this3.grid.context.textAlign = \"left\";\n                        _this3.grid.context.fillText(new _decimal.Decimal(i).toFixed(decimalPower), chartW + 2, cp + 5, 39);\n                        lp = cp;\n                    }\n                    // Price Range Indicator\n                    _this3._drawVerticalRange(_this3.grid.context, chartW - chartM + barW, (chart.highest - chart.highestPrice) * chart.ratio, (chart.highestPrice - chart.lowestPrice) * chart.ratio, _this3.color.border, [2, 1]);\n                    var priceRangeLabelY = chart.highestPrice - chart._bars[0][2 /* High */] > chart._bars[0][3 /* Low */] - chart.lowestPrice ? (chart.highest - chart.highestPrice) * chart.ratio + 40 : (chart.highest - chart.lowestPrice) * chart.ratio - 40;\n                    _this3.grid.context.save();\n                    _this3.grid.context.fillStyle = _this3.color.bg;\n                    _this3.grid.context.fillRect(chartW - chartM + barW, priceRangeLabelY - 10, 1, 12);\n                    _this3.grid.context.textAlign = \"right\";\n                    _this3.grid.context.fillStyle = _this3.color.textWeak;\n                    _this3.grid.context.font = \"10px sans-serif\";\n                    _this3.grid.context.globalAlpha = 0.6;\n                    _this3.grid.context.fillText(new _decimal.Decimal(chart.highestPrice - chart.lowestPrice).toFixed(decimalPower), chartW - chartM + barW + 6, priceRangeLabelY);\n                    _this3.grid.context.restore();\n                    // Last Sell/Buy Volume Indicator (experimental)\n                    _this3.overlay.context.save();\n                    if (chart._bars[0][8 /* SellVolume */] > chart._bars[0][9 /* BuyVolume */]) {\n                        var grad = _this3.overlay.context.createLinearGradient(0, 1, 0, ltpp - 2);\n                        grad.addColorStop(0, _this3.color.askOrder);\n                        grad.addColorStop(1, _this3.color.bg);\n                        _this3.overlay.context.fillStyle = grad;\n                        _this3.overlay.context.globalAlpha = (chart._bars[0][8 /* SellVolume */] - chart._bars[0][9 /* BuyVolume */]) / chart._bars[0][5 /* Volume */];\n                        _this3.overlay.context.fillRect(chartW - 1, 1, -4, ltpp - 2);\n                    } else if (chart._bars[0][8 /* SellVolume */] < chart._bars[0][9 /* BuyVolume */]) {\n                        var _grad = _this3.overlay.context.createLinearGradient(0, ltpp + 1, 0, chartH);\n                        _grad.addColorStop(0, _this3.color.bg);\n                        _grad.addColorStop(1, _this3.color.bidOrder);\n                        _this3.overlay.context.fillStyle = _grad;\n                        _this3.overlay.context.globalAlpha = (chart._bars[0][9 /* BuyVolume */] - chart._bars[0][8 /* SellVolume */]) / chart._bars[0][5 /* Volume */];\n                        _this3.overlay.context.fillRect(chartW - 1, chartH - 1, -4, -(chartH - ltpp - 2));\n                    }\n                    _this3.overlay.context.restore();\n                    if (_this3.cursorX > -1) {\n                        _this3._drawDepthIndicator(_this3.overlay.context, chartW - chartM - 7, 40, \"Sell Vol. \" + new _decimal.Decimal(chart._bars[0][8 /* SellVolume */]).toFixed(1), _this3.color.askOrder);\n                        _this3._drawDepthIndicator(_this3.overlay.context, chartW - chartM - 7, chartH - 40, \"Buy Vol. \" + new _decimal.Decimal(chart._bars[0][9 /* BuyVolume */]).toFixed(1), _this3.color.bidOrder);\n                    }\n                    // Last Depth Indicator (v2.25)\n                    if (chart._bars[0][6 /* AskDepth */] && chart._bars[0][7 /* BidDepth */]) {\n                        _this3._drawDepthIndicator(_this3.overlay.context, chartW - chartM - 7, 20, \"Ask Depth \" + Math.round(chart._bars[0][6 /* AskDepth */]), _this3.color.askDepthLast);\n                        _this3._drawDepthIndicator(_this3.overlay.context, chartW - chartM - 7, chartH - 20, \"Bid Depth \" + Math.round(chart._bars[0][7 /* BidDepth */]), _this3.color.bidDepthLast);\n                    }\n                    // Ask/Bid Price Indicator (v2.24)\n                    if (chart.askPrice && chart.bidPrice) {\n                        var askp = Math.round((chart.highest - chart.askPrice) * chart.ratio);\n                        var bidp = Math.round((chart.highest - chart.bidPrice) * chart.ratio);\n                        _this3._drawPriceTag2(_this3.overlay.context, chartW - chartM + Math.round(barW / 2), askp, chartM - Math.round(barW / 2), chart.askPrice, _this3.color.long, [2, 2]);\n                        _this3._drawPriceTag2(_this3.overlay.context, chartW - chartM + Math.round(barW / 2), bidp, chartM - Math.round(barW / 2), chart.bidPrice, _this3.color.short, [2, 2]);\n                    }\n                    // Board (testing)\n                    if (chart.board) {\n                        var board = void 0;\n                        var boardItemHeight = Math.round(_this3.options.boardGroupSize / decimal * chart.ratio);\n                        _this3.overlay.context.save();\n                        _this3.overlay.context.fillStyle = _this3.color.askOrder;\n                        for (i = 0; i < chart.board.asks.length - 1; i++) {\n                            board = chart.board.asks[i];\n                            _this3.overlay.context.globalAlpha = Math.min(1, board.size / chart.boardMaxSize + 0.12);\n                            _this3.overlay.context.fillRect(chartW - 1, Math.round((chart.highest - board.price) * chart.ratio), -(Math.min(19, Math.ceil(board.size / chart.boardMaxSize * 19)) + 1), -boardItemHeight);\n                        }\n                        _this3.overlay.context.fillStyle = _this3.color.bidOrder;\n                        for (i = 0; i < chart.board.bids.length - 1; i++) {\n                            board = chart.board.bids[i];\n                            _this3.overlay.context.globalAlpha = Math.min(1, board.size / chart.boardMaxSize + 0.12);\n                            _this3.overlay.context.fillRect(chartW - 1, Math.round((chart.highest - board.price) * chart.ratio), -(Math.min(19, Math.ceil(board.size / chart.boardMaxSize * 19)) + 1), boardItemHeight);\n                        }\n                        _this3.overlay.context.restore();\n                    }\n                    // Pinned Price\n                    _this3.pinnedPrices.forEach(function (price) {\n                        _this3._drawPriceTag(_this3.overlay.context, 0, Math.round((chart.highest - price) * chart.ratio), chartW, price, price > chart.latest ? _this3.color.long : _this3.color.short, \"#ffffff\", [3, 3]);\n                    });\n                    // Positions (testing)\n                    _this3._positions.forEach(function (position) {\n                        _this3._drawPositionMarker(_this3.overlay.context, 0, Math.round((chart.highest - position.price) * chart.ratio), chartW, position, chart.latest);\n                    });\n                    // Orders (testing)\n                    _this3._orders.forEach(function (order) {\n                        _this3._drawOrderMarker(_this3.overlay.context, 0, Math.round((chart.highest - order.price) * chart.ratio), chartW, order, chart.latest);\n                    });\n                    // LTP\n                    var color = _this3.color.borderLTP;\n                    if (chart.highestPrice === chart.latest) {\n                        color = _this3.color.long;\n                    } else if (chart.lowestPrice === chart.latest) {\n                        color = _this3.color.short;\n                    }\n                    _this3._drawPriceTag(_this3.overlay.context, 0, ltpp, chartW, chart.latest, color, _this3.color.borderLTPText, []);\n                    // Price Pop Effect (testing)\n                    if (_this3.options.pricePopEffect) {\n                        _this3._drawPricePopEffect(chart, decimal, chartW, ltpp);\n                    }\n                }\n            };\n\n            for (j = 0; j < m; j++) {\n                var _ret = _loop();\n\n                if (_ret === \"continue\") continue;\n            } // main\n            // technical\n            for (j = 0; j < m; j++) {\n                var _chart = this.charts[j];\n                if (!_chart.selected) {\n                    break;\n                }\n                var _ctx = _chart.context;\n                var _barX = chartW - chartM - 0.5;\n                if (period === 0) {\n                    // tick (special)\n                    this._drawSMA(_ctx, _barX, _chart, l, 1, this.color.text);\n                } else {\n                    this._drawSMA(_ctx, _barX, _chart, l, 10, this.color.lineMA1);\n                    this._drawSMA(_ctx, _barX, _chart, l, 21, this.color.lineMA2);\n                    this._drawSMA(_ctx, _barX, _chart, l, 34, this.color.lineMA3);\n                }\n            } // technical\n            // datetime\n            barDate = new Date(this.charts[0]._bars[0][0 /* Time */]);\n            this.grid.context.textAlign = \"right\";\n            this.grid.context.fillStyle = this.color.text;\n            this.grid.context.fillText(\":\" + util.zeroPadding(barDate.getMinutes(), 2), canvasW - 45, canvasH - 4);\n            // cursor\n            this.cursorPrice = 0;\n            if (this.cursorX > 0 && this.cursorY > 30 && this.cursorX < chartW && this.cursorY < chartH) {\n                var pX = this.cursorX - this.cursorX % barW;\n                i = Math.round((chartW - pX - chartM - this.options.barWidth) / barW);\n                pX = Math.floor(chartW - chartM - i * barW - barW / 2) - 1;\n                // bar line\n                this.grid.context.fillStyle = this.color.grid;\n                this.grid.context.fillRect(pX, 0, this.options.barWidth, chartH);\n                var _chart2 = this.charts[0];\n                this.cursorPrice = Math.ceil((_chart2.highest - this.cursorY / _chart2.ratio) * decimal) / decimal;\n                if (decimal === 1) {\n                    this.cursorPrice = Math.round(this.cursorPrice / 50) * 50;\n                } else {\n                    this.cursorPrice = Math.round(this.cursorPrice * (decimal / 10)) / (decimal / 10);\n                }\n                var cursorPriceY = Math.round((_chart2.highest - this.cursorPrice) * _chart2.ratio);\n                // price\n                this._drawPriceTag(this.overlay.context, 0, cursorPriceY, chartW, this.cursorPrice, this.color.border, this.color.textStrong, []);\n                // board\n                this.cursorBoard = 0;\n                this.cursorBoardPrice = 0;\n                if (_chart2.board) {\n                    if (this.cursorPrice > _chart2.latest) {\n                        for (j = _chart2.board.asks.length - 1; j >= 0; j--) {\n                            if (_chart2.board.asks[j].price <= this.cursorPrice) {\n                                this.cursorBoard = _chart2.board.asks[j].size;\n                                this.cursorBoardPrice = _chart2.board.asks[j].price;\n                                break;\n                            }\n                        }\n                    }\n                    if (this.cursorPrice < _chart2.latest) {\n                        for (j = _chart2.board.bids.length - 1; j >= 0; j--) {\n                            if (_chart2.board.bids[j].price >= this.cursorPrice) {\n                                this.cursorBoard = _chart2.board.bids[j].size;\n                                this.cursorBoardPrice = _chart2.board.bids[j].price;\n                                break;\n                            }\n                        }\n                    }\n                }\n                this.cursorBoard = Math.round(this.cursorBoard);\n                if (this.cursorBoard > 0) {\n                    var cursorBoardPriceY = Math.round((_chart2.highest - this.cursorBoardPrice) * _chart2.ratio);\n                    this._drawBorder(this.overlay.context, chartW - 25, cursorBoardPriceY + (this.cursorPrice > _chart2.latest ? -0.5 : +0.5), 10, this.cursorPrice > _chart2.latest ? this.color.askOrder : this.color.bidOrder, [1, 1]);\n                    this.overlay.context.save();\n                    this.overlay.context.globalAlpha = 0.8;\n                    this.overlay.context.fillStyle = this.color.bg;\n                    this.overlay.context.fillRect(chartW - 29, cursorBoardPriceY - 7, -22, 13);\n                    this.overlay.context.globalAlpha = 1;\n                    this.overlay.context.textAlign = \"right\";\n                    this.overlay.context.fillStyle = this.cursorPrice > _chart2.latest ? this.color.askOrder : this.color.bidOrder;\n                    this.overlay.context.fillText(this.cursorBoard.toString(10), chartW - 29, cursorBoardPriceY + 3, 20);\n                    this.overlay.context.restore();\n                }\n                this.overlay.context.save();\n                if (i >= 0 && i < _chart2._bars.length) {\n                    // Time Line\n                    this.grid.context.fillStyle = this.color.grid;\n                    this.grid.context.fillRect(pX - 13, chartH, 31, 20);\n                    // Time Text\n                    barDate = new Date(_chart2._bars[i][0 /* Time */]);\n                    var barTime = barDate.getHours() === 0 && barDate.getMinutes() === 0 ? barDate.getMonth() + 1 + \"/\" + barDate.getDate() + \"'\" : barDate.getHours() + \":\" + util.zeroPadding(barDate.getMinutes(), 2);\n                    this.grid.context.textAlign = \"center\";\n                    this.grid.context.fillStyle = this.color.textStrong;\n                    this.grid.context.font = \"10px sans-serif\";\n                    this.grid.context.fillText(barTime, pX + this.options.barWidth / 2, canvasH - 4);\n                    // Bar Info\n                    this.overlay.context.textAlign = \"left\";\n                    this.overlay.context.fillStyle = this.color.textStrong;\n                    this.overlay.context.font = \"12px monospace\";\n                    var diff = Math.round((100 - _chart2._bars[i][1 /* Open */] / _chart2._bars[i][4 /* Close */] * 100) * 1000) / 1000;\n                    this.overlay.context.fillText(barDate.toLocaleString() + (\"  O \" + new _decimal.Decimal(_chart2._bars[i][1 /* Open */]).toFixed(decimalPower)) + (\"  H \" + new _decimal.Decimal(_chart2._bars[i][2 /* High */]).toFixed(decimalPower)) + (\"  L \" + new _decimal.Decimal(_chart2._bars[i][3 /* Low */]).toFixed(decimalPower)) + (\"  C \" + new _decimal.Decimal(_chart2._bars[i][4 /* Close */]).toFixed(decimalPower)) + (\"  \" + util.toStringWithSign(diff) + \"%\"), 10, 20);\n                    this.overlay.context.fillText(\"[] \", 10, 40);\n                    // Volume\n                    if (_chart2._bars[i + 1]) {\n                        this.overlay.context.globalAlpha = 0.8;\n                        this.overlay.context.fillStyle = this.color.bg;\n                        this.overlay.context.fillRect(pX + barW / 2 - 17, (_chart2.highest - _chart2.lowestPrice) * _chart2.ratio + 2, 34, 13);\n                        this.overlay.context.globalAlpha = 1;\n                        this.overlay.context.textAlign = \"center\";\n                        this.overlay.context.font = \"10px sans-serif\";\n                        this.overlay.context.fillStyle = this.color.volume;\n                        this.overlay.context.fillText(Math.round(_chart2._bars[i][5 /* Volume */]).toString(10), pX + barW / 2, (_chart2.highest - _chart2.lowestPrice) * _chart2.ratio + 12, 30);\n                    }\n                }\n                this.overlay.context.restore();\n                // Total Margin of Positions on Cursor (testing)\n                if (!this._positions.isEmpty() && this.cursorPrice) {\n                    var margin = Math.floor(this._positions.marginAgainst(this.cursorPrice));\n                    var marginText = util.toStringWithSign(margin);\n                    this.overlay.context.save();\n                    this.overlay.context.globalAlpha = 0.8;\n                    this.overlay.context.fillStyle = this.color.bg;\n                    this.overlay.context.fillRect(6, cursorPriceY - 5, 60, 13);\n                    this.overlay.context.globalAlpha = 1;\n                    this.overlay.context.textAlign = \"left\";\n                    this.overlay.context.fillStyle = margin < 0 ? this.color.short : this.color.long;\n                    this.overlay.context.fillText(marginText, 10, cursorPriceY + 5, 56);\n                    this.overlay.context.restore();\n                }\n            } else {\n                this.overlay.context.save();\n                this.overlay.context.textAlign = \"left\";\n                this.overlay.context.font = \"11px monospace\";\n                this.overlay.context.fillStyle = this.color.text;\n                this.overlay.context.fillText(\"> \" + this.charts[0].title, 10, 20);\n                if (this.charts[1]) {\n                    this.overlay.context.fillStyle = this.color.textWeak;\n                    this.overlay.context.fillText(\"  \" + this.charts[1].title, 10, 35);\n                }\n                this.overlay.context.restore();\n            } // cursor\n            // Total Margin of Positions (testing)\n            if (!this._positions.isEmpty()) {\n                var _chart3 = this.charts[0];\n                var _margin = Math.floor(this._positions.marginAgainst(_chart3.latest));\n                var _marginText = \"\\u5EFA\\u7389: \" + this._positions.size + \"  \\u8A55\\u4FA1\\u640D\\u76CA: \" + util.toStringWithSign(_margin);\n                this.overlay.context.save();\n                this.overlay.context.font = \"bold 11px sans-serif\";\n                this.overlay.context.textAlign = \"left\";\n                this.overlay.context.strokeStyle = this.color.bg;\n                this.overlay.context.fillStyle = _margin < 0 ? this.color.short : this.color.long;\n                this.overlay.context.strokeText(_marginText, 10, 80);\n                this.overlay.context.fillText(_marginText, 10, 80);\n                this.overlay.context.restore();\n            }\n            if (this._afs !== 0) {\n                this._afs--;\n                this._hasUpdated = true;\n            }\n        }\n    }, {\n        key: \"_drawPricePopEffect\",\n        value: function _drawPricePopEffect(chart, decimal, chartW, ltpp) {\n            var i = void 0;\n            for (i = 0; i < this._pricePops.length; i++) {\n                this._pricePops[i][0] *= 0.95;\n                if (this._pricePops[i][0] < 0.08) {\n                    this._pricePops.splice(i, 1);\n                    i--;\n                    continue;\n                }\n                if (this._pricePops[i][5]) {\n                    this._pricePops[i][4] -= 0.15;\n                } else {\n                    this._pricePops[i][4] += 0.15;\n                }\n            }\n            if (chart.tickDelta !== 0) {\n                this._pricePops.push([1, (Math.round(Math.abs(chart.tickDelta) * decimal) / decimal).toString(10), chart.tickDelta > 0 ? this.color.long : this.color.short, chartW - 12, chart.tickDelta > 0 ? ltpp - 8 : ltpp + 16, chart.tickDelta > 0, Math.abs(chart.tickDelta) / chart.latest * 100 > 0.025 ? \"bold 11px sans-serif\" : \"10px sans-serif\"]);\n                this._afs = Math.max(50, this._afs);\n                chart.tickDelta = 0;\n            }\n            this.overlay.context.save();\n            this.overlay.context.textAlign = \"right\";\n            for (i = 0; i < this._pricePops.length; i++) {\n                var _pricePops$i = _slicedToArray(this._pricePops[i], 7),\n                    alpha = _pricePops$i[0],\n                    delta = _pricePops$i[1],\n                    fillStyle = _pricePops$i[2],\n                    posX = _pricePops$i[3],\n                    posY = _pricePops$i[4],\n                    isBuy = _pricePops$i[5],\n                    font = _pricePops$i[6];\n\n                this.overlay.context.font = font;\n                this.overlay.context.globalAlpha = alpha;\n                this.overlay.context.fillStyle = fillStyle;\n                this.overlay.context.fillText(delta, posX, posY);\n            }\n            this.overlay.context.restore();\n        }\n    }, {\n        key: \"_getBars\",\n        value: function _getBars(index, start, barCount) {\n            var chart = this.charts[index];\n            var period = this.timePeriod;\n            if (chart.bars.length === 0) {\n                return [];\n            }\n            if (period === 1) {\n                return chart.bars.slice(start, start + barCount);\n            } else if (period === 0) {\n                return chart.ticks.slice(start, start + barCount).map(function (tick) {\n                    return [tick[0 /* Time */], tick[1 /* Ltp */], tick[1 /* Ltp */], tick[1 /* Ltp */], tick[1 /* Ltp */], tick[2 /* Volume */], tick[3 /* AskDepth */], tick[4 /* BidDepth */], tick[5 /* SellVolume */], tick[6 /* BuyVolume */]];\n                });\n            }\n            var bars = [];\n            var date = void 0;\n            var backCount = 0;\n            // use hBars (experimental)\n            if (period === 60) {\n                bars.push.apply(bars, util.deepCopy(chart.hBars.slice(start, start + barCount)));\n            } else if (period > 60) {\n                var hBars = chart.hBars;\n                if (start !== 0) {\n                    date = new Date(hBars[0][0 /* Time */]);\n                    backCount = start * (period / 60) + date.getHours() % (period / 60) - period / 60;\n                }\n                var _i = Math.min(barCount * (period / 60) + backCount - 1, hBars.length - 1);\n                for (; _i >= backCount; _i--) {\n                    date = new Date(hBars[_i][0 /* Time */]);\n                    if (bars.length === 0 || date.getHours() % Math.ceil(period / 60) === 0 && bars[0][0 /* Time */] < hBars[_i][0 /* Time */]) {\n                        bars.unshift([date.getTime(), hBars[_i][1 /* Open */], hBars[_i][2 /* High */], hBars[_i][3 /* Low */], hBars[_i][4 /* Close */], hBars[_i][5 /* Volume */], hBars[_i][6 /* AskDepth */] || 0, hBars[_i][7 /* BidDepth */] || 0, hBars[_i][8 /* SellVolume */] || 0, hBars[_i][9 /* BuyVolume */] || 0]);\n                        continue;\n                    }\n                    if (bars[0][2 /* High */] < hBars[_i][2 /* High */]) {\n                        bars[0][2 /* High */] = hBars[_i][2 /* High */];\n                    }\n                    if (bars[0][3 /* Low */] > hBars[_i][3 /* Low */]) {\n                        bars[0][3 /* Low */] = hBars[_i][3 /* Low */];\n                    }\n                    bars[0][4 /* Close */] = hBars[_i][4 /* Close */];\n                    bars[0][5 /* Volume */] += hBars[_i][5 /* Volume */];\n                    bars[0][6 /* AskDepth */] = hBars[_i][6 /* AskDepth */] || 0;\n                    bars[0][7 /* BidDepth */] = hBars[_i][7 /* BidDepth */] || 0;\n                    bars[0][8 /* SellVolume */] += hBars[_i][8 /* SellVolume */] || 0;\n                    bars[0][9 /* BuyVolume */] += hBars[_i][9 /* BuyVolume */] || 0;\n                }\n            }\n            var mBars = chart.bars;\n            if (start !== 0) {\n                date = new Date(mBars[0][0 /* Time */]);\n                backCount = start * period + date.getMinutes() % period - period;\n            }\n            var i = Math.min(barCount * period + backCount - 1, mBars.length - 1) - bars.length * (period / 60);\n            for (; i >= backCount; i--) {\n                if (bars.length !== 0 && bars[0][0 /* Time */] > mBars[i][0 /* Time */]) {\n                    continue;\n                }\n                date = new Date(mBars[i][0 /* Time */]);\n                if (bars.length === 0 || date.getMinutes() % period === 0 && date.getHours() % Math.ceil(period / 60) === 0 && bars[0][0 /* Time */] < mBars[i][0 /* Time */]) {\n                    bars.unshift([date.setSeconds(0, 0), mBars[i][1 /* Open */], mBars[i][2 /* High */], mBars[i][3 /* Low */], mBars[i][4 /* Close */], mBars[i][5 /* Volume */], mBars[i][6 /* AskDepth */] || 0, mBars[i][7 /* BidDepth */] || 0, mBars[i][8 /* SellVolume */] || 0, mBars[i][9 /* BuyVolume */] || 0]);\n                    continue;\n                }\n                if (bars[0][2 /* High */] < mBars[i][2 /* High */]) {\n                    bars[0][2 /* High */] = mBars[i][2 /* High */];\n                }\n                if (bars[0][3 /* Low */] > mBars[i][3 /* Low */]) {\n                    bars[0][3 /* Low */] = mBars[i][3 /* Low */];\n                }\n                bars[0][4 /* Close */] = mBars[i][4 /* Close */];\n                bars[0][5 /* Volume */] += mBars[i][5 /* Volume */];\n                bars[0][6 /* AskDepth */] = mBars[i][6 /* AskDepth */] || 0;\n                bars[0][7 /* BidDepth */] = mBars[i][7 /* BidDepth */] || 0;\n                bars[0][8 /* SellVolume */] += mBars[i][8 /* SellVolume */] || 0;\n                bars[0][9 /* BuyVolume */] += mBars[i][9 /* BuyVolume */] || 0;\n            }\n            return bars.slice(0, barCount);\n        }\n    }, {\n        key: \"_keydownHandler\",\n        value: function _keydownHandler(ev) {\n            var active = document.activeElement && document.activeElement.tagName;\n            if (active !== \"BODY\" && active !== \"DIV\" && active !== \"BUTTON\") {\n                return;\n            }\n            if (window.getSelection().toString() !== \"\") {\n                return;\n            }\n            var activated = false;\n            switch (ev.keyCode) {\n                // Space\n                case 32:\n                    activated = true;\n                    this.barIndex = 0;\n                    this._hasUpdated = true;\n                    break;\n            }\n            if (activated) {\n                ev.stopPropagation();\n                ev.preventDefault();\n            }\n        }\n    }, {\n        key: \"_contextmenuHandler\",\n        value: function _contextmenuHandler(ev) {\n            var _this4 = this;\n\n            ev.stopPropagation();\n            ev.preventDefault();\n            var price = this.cursorPrice;\n            var limitSide = this.charts[0].latest > price ? \"buy\" : \"sell\";\n            var stopSide = limitSide === \"buy\" ? \"sell\" : \"buy\";\n            var limitSideLabel = limitSide === \"buy\" ? \"\" : \"\";\n            var stopSideLabel = stopSide === \"buy\" ? \"\" : \"\";\n            var quickOrderItems = [];\n            if (this.options.quickOrder) {\n                quickOrderItems.push({\n                    labelHTML: \"<span class=\\\"kuromaty-label \" + limitSide + \"\\\">\" + limitSideLabel + \"</span> \\u6307\\u5024\\u6CE8\\u6587...\",\n                    onSelect: function onSelect() {\n                        _this4.options.quickOrderHandler({\n                            price: price,\n                            type: \"limit\"\n                        });\n                    }\n                }, {\n                    labelHTML: \"<span class=\\\"kuromaty-label \" + stopSide + \"\\\">\" + stopSideLabel + \"</span> STOP-LIMIT \\u6CE8\\u6587...\",\n                    onSelect: function onSelect() {\n                        _this4.options.quickOrderHandler({\n                            price: price,\n                            type: \"stop-limit\"\n                        });\n                    }\n                });\n            }\n            if (this._contextMenu && this._contextMenu.visible() === true) {\n                this._contextMenu.close();\n            }\n            this._contextMenu = new _flagrate2.default.ContextMenu({\n                target: this._rootContainer,\n                items: [{\n                    label: \"\" + price,\n                    isDisabled: true\n                }, \"--\", {\n                    labelHTML: \"\",\n                    onSelect: function onSelect() {\n                        util.copyTextToClipboard(price.toString(10));\n                    }\n                }].concat(quickOrderItems, [\"--\", {\n                    label: \"\",\n                    onSelect: function onSelect() {\n                        _this4.pinnedPrices = [];\n                        _this4._hasUpdated = true;\n                    }\n                }, \"--\", {\n                    label: \"\"\n                }])\n            }).open(ev);\n        }\n    }, {\n        key: \"_pointerdownHandler\",\n        value: function _pointerdownHandler(ev) {\n            if (ev.target !== this.overlay.canvas) {\n                return;\n            }\n            ev.preventDefault();\n            if (this._contextMenu && this._contextMenu.visible() === true) {\n                this._contextMenu.close();\n                this._contextMenu = null;\n                return;\n            }\n            var offsetX = ev.offsetX;\n            var offsetY = ev.offsetY;\n            if (!offsetX && !offsetY && ev.target) {\n                var rect = ev.target.getBoundingClientRect();\n                offsetX = ev.clientX - rect.left;\n                offsetY = ev.clientY - rect.top;\n            }\n            var buttons = ev.buttons;\n            if (buttons === undefined && ev.which) {\n                switch (ev.which) {\n                    case 2:\n                        buttons = 4;\n                        break;\n                    case 3:\n                        buttons = 2;\n                        break;\n                    default:\n                        buttons = ev.which;\n                }\n            }\n            if (buttons === 2) {\n                return;\n            }\n            this._lastPointerdown = [offsetX, offsetY];\n            this._lastPointerButtons = buttons;\n            this._dragStartX = undefined;\n        }\n    }, {\n        key: \"_pointerupHandler\",\n        value: function _pointerupHandler(ev) {\n            if (ev.target !== this.overlay.canvas) {\n                return;\n            }\n            var offsetX = ev.offsetX;\n            var offsetY = ev.offsetY;\n            if (!offsetX && !offsetY) {\n                var rect = ev.target.getBoundingClientRect();\n                offsetX = ev.clientX - rect.left;\n                offsetY = ev.clientY - rect.top;\n            }\n            if (ev.pointerType !== \"touch\" && this._lastPointerdown[0] === offsetX && this._lastPointerdown[1] === offsetY) {\n                if (this._lastPointerButtons === 1) {\n                    if (this.cursorPrice) {\n                        var pinnedPriceIndex = this.pinnedPrices.indexOf(this.cursorPrice);\n                        if (pinnedPriceIndex === -1) {\n                            this.pinnedPrices.push(this.cursorPrice);\n                        } else {\n                            this.pinnedPrices.splice(pinnedPriceIndex, 1);\n                        }\n                    }\n                }\n            }\n            this._lastPointerdown = [0, 0];\n            this._lastPointerButtons = 0;\n            this._hasUpdated = true;\n            ev.preventDefault();\n        }\n    }, {\n        key: \"_pointermoveHandler\",\n        value: function _pointermoveHandler(ev) {\n            if (ev.target !== this.overlay.canvas) {\n                return;\n            }\n            var offsetX = ev.offsetX;\n            var offsetY = ev.offsetY;\n            if (!offsetX && !offsetY) {\n                var rect = ev.target.getBoundingClientRect();\n                offsetX = ev.clientX - rect.left;\n                offsetY = ev.clientY - rect.top;\n            }\n            var buttons = ev.buttons;\n            if (buttons === undefined && ev.which) {\n                switch (ev.which) {\n                    case 2:\n                        buttons = 4;\n                        break;\n                    case 3:\n                        buttons = 2;\n                        break;\n                    default:\n                        buttons = ev.which;\n                }\n            }\n            if (buttons === 1) {\n                ev.preventDefault();\n                if (!this._dragStartX) {\n                    this._dragStartX = offsetX;\n                    this._dragStartI = this.barIndex;\n                }\n                var deltaX = this._dragStartX - offsetX;\n                this.barIndex = this._dragStartI - Math.round(deltaX / (this.options.barWidth + this.options.barMargin));\n                if (this.barIndex < 0) {\n                    this.barIndex = 0;\n                } else if (this.barIndex >= this.charts[0].bars.length) {\n                    this.barIndex = this.charts[0].bars.length - 1;\n                }\n            } else {\n                this._dragStartX = undefined;\n            }\n            this.cursorX = offsetX;\n            this.cursorY = offsetY;\n            this._hasUpdated = true;\n        }\n    }, {\n        key: \"_pointeroutHandler\",\n        value: function _pointeroutHandler(ev) {\n            this.cursorX = this.cursorY = -1;\n        }\n    }, {\n        key: \"_wheelHandler\",\n        value: function _wheelHandler(ev) {\n            ev.preventDefault();\n            if (ev.ctrlKey) {\n                this.zoom(ev.deltaY < 0 ? 1 : ev.deltaY > 0 ? -1 : 0);\n                return;\n            }\n            this.barIndex -= Math.round(ev.deltaX ? ev.deltaX : -(ev.deltaY / 6));\n            if (this.barIndex < 0) {\n                this.barIndex = 0;\n            }\n            this._hasUpdated = true;\n        }\n    }, {\n        key: \"_drawBorder\",\n        value: function _drawBorder(ctx, x, y, w, color, lineDash) {\n            ctx.save();\n            ctx.globalCompositeOperation = \"destination-over\";\n            ctx.beginPath();\n            ctx.lineWidth = 1;\n            ctx.strokeStyle = color;\n            ctx.setLineDash(lineDash);\n            ctx.moveTo(x, y);\n            ctx.lineTo(x + w, y);\n            ctx.stroke();\n            ctx.restore();\n        }\n    }, {\n        key: \"_drawVerticalRange\",\n        value: function _drawVerticalRange(ctx, x, y, h, color, lineDash) {\n            x += 0.5;\n            y = Math.round(y);\n            h = Math.round(h);\n            ctx.save();\n            ctx.strokeStyle = color;\n            ctx.fillStyle = color;\n            ctx.beginPath();\n            ctx.lineWidth = 1;\n            ctx.setLineDash(lineDash);\n            ctx.moveTo(x, y + 1);\n            ctx.lineTo(x, y + h - 2);\n            ctx.stroke();\n            ctx.beginPath();\n            ctx.moveTo(x, y);\n            ctx.lineTo(x + 3, y + 4);\n            ctx.lineTo(x - 3, y + 4);\n            ctx.moveTo(x, y + h);\n            ctx.lineTo(x + 3, y + h - 4);\n            ctx.lineTo(x - 3, y + h - 4);\n            ctx.fill();\n            ctx.restore();\n        }\n    }, {\n        key: \"_drawPriceTag\",\n        value: function _drawPriceTag(ctx, x, y, w, price, color, textColor, lineDash, tagColor, alpha) {\n            this._drawBorder(ctx, x, y + 0.5, w - 5, color, lineDash);\n            w += x;\n            ctx.save();\n            ctx.globalAlpha = alpha || 1;\n            ctx.fillStyle = tagColor || color;\n            ctx.beginPath();\n            ctx.moveTo(w - 5, y);\n            ctx.lineTo(w + 1, y - 6);\n            ctx.lineTo(w + 42, y - 6);\n            ctx.lineTo(w + 43, y - 5);\n            ctx.lineTo(w + 43, y + 6);\n            ctx.lineTo(w + 42, y + 7);\n            ctx.lineTo(w + 1, y + 7);\n            ctx.lineTo(w - 5, y + 1);\n            ctx.fill();\n            ctx.textAlign = \"left\";\n            ctx.fillStyle = textColor;\n            ctx.font = \"11px sans-serif\";\n            ctx.fillText(new _decimal.Decimal(price).toFixed(this.options.decimalPower), w + 2, y + 5, 39);\n            ctx.restore();\n        }\n    }, {\n        key: \"_drawPriceTag2\",\n        value: function _drawPriceTag2(ctx, x, y, w, price, color, lineDash) {\n            this._drawBorder(ctx, x, y + 0.5, w - 5, color, lineDash);\n            w += x;\n            ctx.save();\n            ctx.fillStyle = this.color.bg;\n            ctx.fillRect(w + 1, y - 5, 40, 10);\n            ctx.textAlign = \"left\";\n            ctx.fillStyle = color;\n            ctx.font = \"11px sans-serif\";\n            ctx.fillText(new _decimal.Decimal(price).toFixed(this.options.decimalPower), w + 2, y + 5, 39);\n            ctx.restore();\n        }\n    }, {\n        key: \"_drawDepthIndicator\",\n        value: function _drawDepthIndicator(ctx, x, y, value, color) {\n            this._drawBorder(ctx, x, y + 0.5, -10, color, [2, 2]);\n            ctx.save();\n            ctx.textAlign = \"right\";\n            ctx.fillStyle = this.color.textWeak;\n            ctx.strokeStyle = this.color.bg;\n            ctx.lineWidth = 2.5;\n            ctx.font = \"10px sans-serif\";\n            ctx.strokeText(value, x - 13, y + 3.5);\n            ctx.fillText(value, x - 13, y + 3.5);\n            ctx.restore();\n        }\n    }, {\n        key: \"_drawPositionMarker\",\n        value: function _drawPositionMarker(ctx, x, y, w, position, ltp) {\n            var color = position.side === \"L\" ? this.color.long : this.color.short;\n            var margin = Math.floor(position.marginAgainst(ltp));\n            this._drawPriceTag(ctx, x, y, w, position.price.toNumber(), color, \"#ffffff\", [1, 2]);\n            ctx.save();\n            ctx.globalAlpha = 0.8;\n            ctx.fillStyle = this.color.bg;\n            ctx.fillRect(x + 4, y - 2, 80, -13);\n            ctx.globalAlpha = 1;\n            ctx.textAlign = \"left\";\n            ctx.fillStyle = color;\n            ctx.fillText(position.size + \" \" + position.side + \", \" + util.toStringWithSign(margin), x + 6, y - 5, 76);\n            ctx.restore();\n        }\n    }, {\n        key: \"_drawOrderMarker\",\n        value: function _drawOrderMarker(ctx, x, y, w, order, ltp) {\n            var color = this.color.text;\n            switch (order.side) {\n                case \"L\":\n                    color = this.color.long;\n                    break;\n                case \"S\":\n                    color = this.color.short;\n                    break;\n            }\n            this._drawPriceTag(ctx, x, y, w, order.price.toNumber(), color, \"#ffffff\", [1, 5], null, 0.45);\n            ctx.save();\n            ctx.globalAlpha = 0.8;\n            ctx.fillStyle = this.color.bg;\n            ctx.fillRect(x + 4, y - 2, 80, -13);\n            ctx.globalAlpha = 1;\n            ctx.textAlign = \"left\";\n            ctx.fillStyle = color;\n            ctx.fillText(order.size + \" \" + order.side + \" \" + order.type, x + 6, y - 5, 76);\n            ctx.restore();\n        }\n    }, {\n        key: \"_drawSMA\",\n        value: function _drawSMA(ctx, x, chart, count, value, color) {\n            var barW = this.options.barMargin + this.options.barWidth;\n            x = x + barW;\n            ctx.save();\n            ctx.strokeStyle = color;\n            ctx.lineWidth = 1;\n            ctx.lineCap = \"round\";\n            ctx.lineJoin = \"round\";\n            ctx.setLineDash([]);\n            ctx.beginPath();\n            var i = 0,\n                j = void 0,\n                bar = void 0,\n                p = 0,\n                y = 0;\n            for (; i < count; i++) {\n                if (!chart._bars[i] || !chart._bars[i + value]) {\n                    break;\n                }\n                x -= barW;\n                p = 0;\n                for (j = 0; j < value; j++) {\n                    p += chart._bars[i + j][4 /* Close */];\n                }\n                p /= value;\n                y = Math.round((chart.highest - p) * chart.ratio) + 0.5;\n                if (i === 0) {\n                    ctx.moveTo(x, y);\n                }\n                ctx.lineTo(x, y);\n            }\n            ctx.stroke();\n            ctx.restore();\n        }\n    }]);\n\n    return Kuromaty;\n}();\n\nexports.Kuromaty = Kuromaty;\n\nif (window.Kuromaty === undefined) {\n    window.Kuromaty = Kuromaty;\n}\nexports.default = Kuromaty;\n\n\n\n},{\"./OrderSet\":2,\"./PositionSet\":4,\"./util\":6,\"decimal.js-light\":7,\"flagrate/lib/es6/flagrate\":8}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /*!\n                                                                                                                                                                                                                                                                                  Copyright 2017 Kuromatch\n                                                                                                                                                                                                                                                                              */\n\n\nexports.zeroPadding = zeroPadding;\nexports.generatePriceGrouping = generatePriceGrouping;\nexports.toStringWithSign = toStringWithSign;\nexports.copyTextToClipboard = copyTextToClipboard;\nexports.deepCopy = deepCopy;\n\nvar _flagrate = require(\"flagrate/lib/es6/flagrate\");\n\nvar _flagrate2 = _interopRequireDefault(_flagrate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction zeroPadding(number, length) {\n    return (Array(length).join(\"0\") + number).slice(-length);\n}\nfunction generatePriceGrouping(decimal, groupSize) {\n    if (decimal === 1) {\n        return function (price) {\n            return Math.round(price / groupSize) * groupSize;\n        };\n    }\n    return function (price) {\n        return Math.round(price * (decimal / groupSize)) / (decimal / groupSize);\n    };\n}\nfunction toStringWithSign(number) {\n    return (number > 0 ? \"+\" : \"\") + number.toString(10);\n}\nfunction copyTextToClipboard(text) {\n    var span = _flagrate2.default.createElement(\"span\").insertText(text).insertTo(document.body);\n    var range = document.createRange();\n    range.selectNode(span);\n    var selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(range);\n    document.execCommand(\"copy\");\n    span.remove();\n}\nfunction deepCopy(obj) {\n    var newObj = void 0;\n    if (Array.isArray(obj)) {\n        newObj = obj.length > 0 ? obj.slice(0) : [];\n        newObj.forEach(function (e, i) {\n            if ((typeof e === \"undefined\" ? \"undefined\" : _typeof(e)) === \"object\" && e !== {} || Array.isArray(e) && e.length > 0) {\n                newObj[i] = deepCopy(e);\n            }\n        });\n    } else if ((typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj)) === \"object\") {\n        newObj = Object.assign({}, obj);\n        Object.keys(newObj).forEach(function (key) {\n            if (_typeof(newObj[key]) === \"object\" && newObj[key] !== {} || Array.isArray(newObj[key]) && newObj[key].length > 0) {\n                newObj[key] = deepCopy(newObj[key]);\n            }\n        });\n    } else {\n        newObj = obj;\n    }\n    return newObj;\n}\n\n\n\n},{\"flagrate/lib/es6/flagrate\":8}],7:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*! decimal.js-light v2.3.0 https://github.com/MikeMcl/decimal.js-light/LICENCE */\n;(function (globalScope) {\n  'use strict';\n\n  /*\r\n   *  decimal.js-light v2.3.0\r\n   *  An arbitrary-precision Decimal type for JavaScript.\r\n   *  https://github.com/MikeMcl/decimal.js-light\r\n   *  Copyright (c) 2017 Michael Mclaughlin <M8ch88l@gmail.com>\r\n   *  MIT Expat Licence\r\n   */\n\n  // -----------------------------------  EDITABLE DEFAULTS  ------------------------------------ //\n\n\n  // The limit on the value of `precision`, and on the value of the first argument to\n  // `toDecimalPlaces`, `toExponential`, `toFixed`, `toPrecision` and `toSignificantDigits`.\n\n  var MAX_DIGITS = 1e9,\n      // 0 to 1e9\n\n\n  // The initial configuration properties of the Decimal constructor.\n  Decimal = {\n\n    // These values must be integers within the stated ranges (inclusive).\n    // Most of these values can be changed during run-time using `Decimal.config`.\n\n    // The maximum number of significant digits of the result of a calculation or base conversion.\n    // E.g. `Decimal.config({ precision: 20 });`\n    precision: 20, // 1 to MAX_DIGITS\n\n    // The rounding mode used by default by `toInteger`, `toDecimalPlaces`, `toExponential`,\n    // `toFixed`, `toPrecision` and `toSignificantDigits`.\n    //\n    // ROUND_UP         0 Away from zero.\n    // ROUND_DOWN       1 Towards zero.\n    // ROUND_CEIL       2 Towards +Infinity.\n    // ROUND_FLOOR      3 Towards -Infinity.\n    // ROUND_HALF_UP    4 Towards nearest neighbour. If equidistant, up.\n    // ROUND_HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\n    // ROUND_HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\n    // ROUND_HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\n    // ROUND_HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\n    //\n    // E.g.\n    // `Decimal.rounding = 4;`\n    // `Decimal.rounding = Decimal.ROUND_HALF_UP;`\n    rounding: 4, // 0 to 8\n\n    // The exponent value at and beneath which `toString` returns exponential notation.\n    // JavaScript numbers: -7\n    toExpNeg: -7, // 0 to -MAX_E\n\n    // The exponent value at and above which `toString` returns exponential notation.\n    // JavaScript numbers: 21\n    toExpPos: 21, // 0 to MAX_E\n\n    // The natural logarithm of 10.\n    // 115 digits\n    LN10: '2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286'\n  },\n\n\n  // ----------------------------------- END OF EDITABLE DEFAULTS ------------------------------- //\n\n\n  external = true,\n      decimalError = '[DecimalError] ',\n      invalidArgument = decimalError + 'Invalid argument: ',\n      exponentOutOfRange = decimalError + 'Exponent out of range: ',\n      mathfloor = Math.floor,\n      mathpow = Math.pow,\n      isDecimal = /^(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i,\n      ONE,\n      BASE = 1e7,\n      LOG_BASE = 7,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_E = mathfloor(MAX_SAFE_INTEGER / LOG_BASE),\n      // 1286742750677284\n\n  // Decimal.prototype object\n  P = {};\n\n  // Decimal prototype methods\n\n\n  /*\r\n   *  absoluteValue                       abs\r\n   *  comparedTo                          cmp\r\n   *  decimalPlaces                       dp\r\n   *  dividedBy                           div\r\n   *  dividedToIntegerBy                  idiv\r\n   *  equals                              eq\r\n   *  exponent\r\n   *  greaterThan                         gt\r\n   *  greaterThanOrEqualTo                gte\r\n   *  isInteger                           isint\r\n   *  isNegative                          isneg\r\n   *  isPositive                          ispos\r\n   *  isZero\r\n   *  lessThan                            lt\r\n   *  lessThanOrEqualTo                   lte\r\n   *  logarithm                           log\r\n   *  minus                               sub\r\n   *  modulo                              mod\r\n   *  naturalExponential                  exp\r\n   *  naturalLogarithm                    ln\r\n   *  negated                             neg\r\n   *  plus                                add\r\n   *  precision                           sd\r\n   *  squareRoot                          sqrt\r\n   *  times                               mul\r\n   *  toDecimalPlaces                     todp\r\n   *  toExponential\r\n   *  toFixed\r\n   *  toInteger                           toint\r\n   *  toNumber\r\n   *  toPower                             pow\r\n   *  toPrecision\r\n   *  toSignificantDigits                 tosd\r\n   *  toString\r\n   *  valueOf                             val\r\n   */\n\n  /*\r\n   * Return a new Decimal whose value is the absolute value of this Decimal.\r\n   *\r\n   */\n  P.absoluteValue = P.abs = function () {\n    var x = new this.constructor(this);\n    if (x.s) x.s = 1;\n    return x;\n  };\n\n  /*\r\n   * Return\r\n   *   1    if the value of this Decimal is greater than the value of `y`,\r\n   *  -1    if the value of this Decimal is less than the value of `y`,\r\n   *   0    if they have the same value\r\n   *\r\n   */\n  P.comparedTo = P.cmp = function (y) {\n    var i,\n        j,\n        xdL,\n        ydL,\n        x = this;\n\n    y = new x.constructor(y);\n\n    // Signs differ?\n    if (x.s !== y.s) return x.s || -y.s;\n\n    // Compare exponents.\n    if (x.e !== y.e) return x.e > y.e ^ x.s < 0 ? 1 : -1;\n\n    xdL = x.d.length;\n    ydL = y.d.length;\n\n    // Compare digit by digit.\n    for (i = 0, j = xdL < ydL ? xdL : ydL; i < j; ++i) {\n      if (x.d[i] !== y.d[i]) return x.d[i] > y.d[i] ^ x.s < 0 ? 1 : -1;\n    }\n\n    // Compare lengths.\n    return xdL === ydL ? 0 : xdL > ydL ^ x.s < 0 ? 1 : -1;\n  };\n\n  /*\r\n   * Return the number of decimal places of the value of this Decimal.\r\n   *\r\n   */\n  P.decimalPlaces = P.dp = function () {\n    var x = this,\n        w = x.d.length - 1,\n        dp = (w - x.e) * LOG_BASE;\n\n    // Subtract the number of trailing zeros of the last word.\n    w = x.d[w];\n    if (w) for (; w % 10 == 0; w /= 10) {\n      dp--;\n    }return dp < 0 ? 0 : dp;\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the value of this Decimal divided by `y`, truncated to\r\n   * `precision` significant digits.\r\n   *\r\n   */\n  P.dividedBy = P.div = function (y) {\n    return divide(this, new this.constructor(y));\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the integer part of dividing the value of this Decimal\r\n   * by the value of `y`, truncated to `precision` significant digits.\r\n   *\r\n   */\n  P.dividedToIntegerBy = P.idiv = function (y) {\n    var x = this,\n        Ctor = x.constructor;\n    return round(divide(x, new Ctor(y), 0, 1), Ctor.precision);\n  };\n\n  /*\r\n   * Return true if the value of this Decimal is equal to the value of `y`, otherwise return false.\r\n   *\r\n   */\n  P.equals = P.eq = function (y) {\n    return !this.cmp(y);\n  };\n\n  /*\r\n   * Return the (base 10) exponent value of this Decimal (this.e is the base 10000000 exponent).\r\n   *\r\n   */\n  P.exponent = function () {\n    return getBase10Exponent(this);\n  };\n\n  /*\r\n   * Return true if the value of this Decimal is greater than the value of `y`, otherwise return\r\n   * false.\r\n   *\r\n   */\n  P.greaterThan = P.gt = function (y) {\n    return this.cmp(y) > 0;\n  };\n\n  /*\r\n   * Return true if the value of this Decimal is greater than or equal to the value of `y`,\r\n   * otherwise return false.\r\n   *\r\n   */\n  P.greaterThanOrEqualTo = P.gte = function (y) {\n    return this.cmp(y) >= 0;\n  };\n\n  /*\r\n   * Return true if the value of this Decimal is an integer, otherwise return false.\r\n   *\r\n   */\n  P.isInteger = P.isint = function () {\n    return this.e > this.d.length - 2;\n  };\n\n  /*\r\n   * Return true if the value of this Decimal is negative, otherwise return false.\r\n   *\r\n   */\n  P.isNegative = P.isneg = function () {\n    return this.s < 0;\n  };\n\n  /*\r\n   * Return true if the value of this Decimal is positive, otherwise return false.\r\n   *\r\n   */\n  P.isPositive = P.ispos = function () {\n    return this.s > 0;\n  };\n\n  /*\r\n   * Return true if the value of this Decimal is 0, otherwise return false.\r\n   *\r\n   */\n  P.isZero = function () {\n    return this.s === 0;\n  };\n\n  /*\r\n   * Return true if the value of this Decimal is less than `y`, otherwise return false.\r\n   *\r\n   */\n  P.lessThan = P.lt = function (y) {\n    return this.cmp(y) < 0;\n  };\n\n  /*\r\n   * Return true if the value of this Decimal is less than or equal to `y`, otherwise return false.\r\n   *\r\n   */\n  P.lessThanOrEqualTo = P.lte = function (y) {\n    return this.cmp(y) < 1;\n  };\n\n  /*\r\n   * Return the logarithm of the value of this Decimal to the specified base, truncated to\r\n   * `precision` significant digits.\r\n   *\r\n   * If no base is specified, return log[10](x).\r\n   *\r\n   * log[base](x) = ln(x) / ln(base)\r\n   *\r\n   * The maximum error of the result is 1 ulp (unit in the last place).\r\n   *\r\n   * [base] {number|string|Decimal} The base of the logarithm.\r\n   *\r\n   */\n  P.logarithm = P.log = function (base) {\n    var r,\n        x = this,\n        Ctor = x.constructor,\n        pr = Ctor.precision,\n        wpr = pr + 5;\n\n    // Default base is 10.\n    if (base === void 0) {\n      base = new Ctor(10);\n    } else {\n      base = new Ctor(base);\n\n      // log[-b](x) = NaN\n      // log[0](x)  = NaN\n      // log[1](x)  = NaN\n      if (base.s < 1 || base.eq(ONE)) throw Error(decimalError + 'NaN');\n    }\n\n    // log[b](-x) = NaN\n    // log[b](0) = -Infinity\n    if (x.s < 1) throw Error(decimalError + (x.s ? 'NaN' : '-Infinity'));\n\n    // log[b](1) = 0\n    if (x.eq(ONE)) return new Ctor(0);\n\n    external = false;\n    r = divide(ln(x, wpr), ln(base, wpr), wpr);\n    external = true;\n\n    return round(r, pr);\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the value of this Decimal minus `y`, truncated to\r\n   * `precision` significant digits.\r\n   *\r\n   */\n  P.minus = P.sub = function (y) {\n    var x = this;\n    y = new x.constructor(y);\n    return x.s == y.s ? subtract(x, y) : add(x, (y.s = -y.s, y));\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the value of this Decimal modulo `y`, truncated to\r\n   * `precision` significant digits.\r\n   *\r\n   */\n  P.modulo = P.mod = function (y) {\n    var q,\n        x = this,\n        Ctor = x.constructor,\n        pr = Ctor.precision;\n\n    y = new Ctor(y);\n\n    // x % 0 = NaN\n    if (!y.s) throw Error(decimalError + 'NaN');\n\n    // Return x if x is 0.\n    if (!x.s) return round(new Ctor(x), pr);\n\n    // Prevent rounding of intermediate calculations.\n    external = false;\n    q = divide(x, y, 0, 1).times(y);\n    external = true;\n\n    return x.minus(q);\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the natural exponential of the value of this Decimal,\r\n   * i.e. the base e raised to the power the value of this Decimal, truncated to `precision`\r\n   * significant digits.\r\n   *\r\n   */\n  P.naturalExponential = P.exp = function () {\n    return exp(this);\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the natural logarithm of the value of this Decimal,\r\n   * truncated to `precision` significant digits.\r\n   *\r\n   */\n  P.naturalLogarithm = P.ln = function () {\n    return ln(this);\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the value of this Decimal negated, i.e. as if multiplied by\r\n   * -1.\r\n   *\r\n   */\n  P.negated = P.neg = function () {\n    var x = new this.constructor(this);\n    x.s = -x.s || 0;\n    return x;\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the value of this Decimal plus `y`, truncated to\r\n   * `precision` significant digits.\r\n   *\r\n   */\n  P.plus = P.add = function (y) {\n    var x = this;\n    y = new x.constructor(y);\n    return x.s == y.s ? add(x, y) : subtract(x, (y.s = -y.s, y));\n  };\n\n  /*\r\n   * Return the number of significant digits of the value of this Decimal.\r\n   *\r\n   * [z] {boolean|number} Whether to count integer-part trailing zeros: true, false, 1 or 0.\r\n   *\r\n   */\n  P.precision = P.sd = function (z) {\n    var e,\n        sd,\n        w,\n        x = this;\n\n    if (z !== void 0 && z !== !!z && z !== 1 && z !== 0) throw Error(invalidArgument + z);\n\n    e = getBase10Exponent(x) + 1;\n    w = x.d.length - 1;\n    sd = w * LOG_BASE + 1;\n    w = x.d[w];\n\n    // If non-zero...\n    if (w) {\n\n      // Subtract the number of trailing zeros of the last word.\n      for (; w % 10 == 0; w /= 10) {\n        sd--;\n      } // Add the number of digits of the first word.\n      for (w = x.d[0]; w >= 10; w /= 10) {\n        sd++;\n      }\n    }\n\n    return z && e > sd ? e : sd;\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the square root of this Decimal, truncated to `precision`\r\n   * significant digits.\r\n   *\r\n   */\n  P.squareRoot = P.sqrt = function () {\n    var e,\n        n,\n        pr,\n        r,\n        s,\n        t,\n        wpr,\n        x = this,\n        Ctor = x.constructor;\n\n    // Negative or zero?\n    if (x.s < 1) {\n      if (!x.s) return new Ctor(0);\n\n      // sqrt(-x) = NaN\n      throw Error(decimalError + 'NaN');\n    }\n\n    e = getBase10Exponent(x);\n    external = false;\n\n    // Initial estimate.\n    s = Math.sqrt(+x);\n\n    // Math.sqrt underflow/overflow?\n    // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\n    if (s == 0 || s == 1 / 0) {\n      n = digitsToString(x.d);\n      if ((n.length + e) % 2 == 0) n += '0';\n      s = Math.sqrt(n);\n      e = mathfloor((e + 1) / 2) - (e < 0 || e % 2);\n\n      if (s == 1 / 0) {\n        n = '1e' + e;\n      } else {\n        n = s.toExponential();\n        n = n.slice(0, n.indexOf('e') + 1) + e;\n      }\n\n      r = new Ctor(n);\n    } else {\n      r = new Ctor(s.toString());\n    }\n\n    pr = Ctor.precision;\n    s = wpr = pr + 3;\n\n    // Newton-Raphson iteration.\n    for (;;) {\n      t = r;\n      r = t.plus(divide(x, t, wpr + 2)).times(0.5);\n\n      if (digitsToString(t.d).slice(0, wpr) === (n = digitsToString(r.d)).slice(0, wpr)) {\n        n = n.slice(wpr - 3, wpr + 1);\n\n        // The 4th rounding digit may be in error by -1 so if the 4 rounding digits are 9999 or\n        // 4999, i.e. approaching a rounding boundary, continue the iteration.\n        if (s == wpr && n == '4999') {\n\n          // On the first iteration only, check to see if rounding up gives the exact result as the\n          // nines may infinitely repeat.\n          round(t, pr + 1, 0);\n\n          if (t.times(t).eq(x)) {\n            r = t;\n            break;\n          }\n        } else if (n != '9999') {\n          break;\n        }\n\n        wpr += 4;\n      }\n    }\n\n    external = true;\n\n    return round(r, pr);\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the value of this Decimal times `y`, truncated to\r\n   * `precision` significant digits.\r\n   *\r\n   */\n  P.times = P.mul = function (y) {\n    var carry,\n        e,\n        i,\n        k,\n        r,\n        rL,\n        t,\n        xdL,\n        ydL,\n        x = this,\n        Ctor = x.constructor,\n        xd = x.d,\n        yd = (y = new Ctor(y)).d;\n\n    // Return 0 if either is 0.\n    if (!x.s || !y.s) return new Ctor(0);\n\n    y.s *= x.s;\n    e = x.e + y.e;\n    xdL = xd.length;\n    ydL = yd.length;\n\n    // Ensure xd points to the longer array.\n    if (xdL < ydL) {\n      r = xd;\n      xd = yd;\n      yd = r;\n      rL = xdL;\n      xdL = ydL;\n      ydL = rL;\n    }\n\n    // Initialise the result array with zeros.\n    r = [];\n    rL = xdL + ydL;\n    for (i = rL; i--;) {\n      r.push(0);\n    } // Multiply!\n    for (i = ydL; --i >= 0;) {\n      carry = 0;\n      for (k = xdL + i; k > i;) {\n        t = r[k] + yd[i] * xd[k - i - 1] + carry;\n        r[k--] = t % BASE | 0;\n        carry = t / BASE | 0;\n      }\n\n      r[k] = (r[k] + carry) % BASE | 0;\n    }\n\n    // Remove trailing zeros.\n    for (; !r[--rL];) {\n      r.pop();\n    }if (carry) ++e;else r.shift();\n\n    y.d = r;\n    y.e = e;\n\n    return external ? round(y, Ctor.precision) : y;\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the value of this Decimal rounded to a maximum of `dp`\r\n   * decimal places using rounding mode `rm` or `rounding` if `rm` is omitted.\r\n   *\r\n   * If `dp` is omitted, return a new Decimal whose value is the value of this Decimal.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   */\n  P.toDecimalPlaces = P.todp = function (dp, rm) {\n    var x = this,\n        Ctor = x.constructor;\n\n    x = new Ctor(x);\n    if (dp === void 0) return x;\n\n    checkInt32(dp, 0, MAX_DIGITS);\n\n    if (rm === void 0) rm = Ctor.rounding;else checkInt32(rm, 0, 8);\n\n    return round(x, dp + getBase10Exponent(x) + 1, rm);\n  };\n\n  /*\r\n   * Return a string representing the value of this Decimal in exponential notation rounded to\r\n   * `dp` fixed decimal places using rounding mode `rounding`.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   */\n  P.toExponential = function (dp, rm) {\n    var str,\n        x = this,\n        Ctor = x.constructor;\n\n    if (dp === void 0) {\n      str = toString(x, true);\n    } else {\n      checkInt32(dp, 0, MAX_DIGITS);\n\n      if (rm === void 0) rm = Ctor.rounding;else checkInt32(rm, 0, 8);\n\n      x = round(new Ctor(x), dp + 1, rm);\n      str = toString(x, true, dp + 1);\n    }\n\n    return str;\n  };\n\n  /*\r\n   * Return a string representing the value of this Decimal in normal (fixed-point) notation to\r\n   * `dp` fixed decimal places and rounded using rounding mode `rm` or `rounding` if `rm` is\r\n   * omitted.\r\n   *\r\n   * As with JavaScript numbers, (-0).toFixed(0) is '0', but e.g. (-0.00001).toFixed(0) is '-0'.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\r\n   * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\r\n   * (-0).toFixed(3) is '0.000'.\r\n   * (-0.5).toFixed(0) is '-0'.\r\n   *\r\n   */\n  P.toFixed = function (dp, rm) {\n    var str,\n        y,\n        x = this,\n        Ctor = x.constructor;\n\n    if (dp === void 0) return toString(x);\n\n    checkInt32(dp, 0, MAX_DIGITS);\n\n    if (rm === void 0) rm = Ctor.rounding;else checkInt32(rm, 0, 8);\n\n    y = round(new Ctor(x), dp + getBase10Exponent(x) + 1, rm);\n    str = toString(y.abs(), false, dp + getBase10Exponent(y) + 1);\n\n    // To determine whether to add the minus sign look at the value before it was rounded,\n    // i.e. look at `x` rather than `y`.\n    return x.isneg() && !x.isZero() ? '-' + str : str;\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the value of this Decimal rounded to a whole number using\r\n   * rounding mode `rounding`.\r\n   *\r\n   */\n  P.toInteger = P.toint = function () {\n    var x = this,\n        Ctor = x.constructor;\n    return round(new Ctor(x), getBase10Exponent(x) + 1, Ctor.rounding);\n  };\n\n  /*\r\n   * Return the value of this Decimal converted to a number primitive.\r\n   *\r\n   */\n  P.toNumber = function () {\n    return +this;\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the value of this Decimal raised to the power `y`,\r\n   * truncated to `precision` significant digits.\r\n   *\r\n   * For non-integer or very large exponents pow(x, y) is calculated using\r\n   *\r\n   *   x^y = exp(y*ln(x))\r\n   *\r\n   * The maximum error is 1 ulp (unit in last place).\r\n   *\r\n   * y {number|string|Decimal} The power to which to raise this Decimal.\r\n   *\r\n   */\n  P.toPower = P.pow = function (y) {\n    var e,\n        k,\n        pr,\n        r,\n        sign,\n        yIsInt,\n        x = this,\n        Ctor = x.constructor,\n        guard = 12,\n        yn = +(y = new Ctor(y));\n\n    // pow(x, 0) = 1\n    if (!y.s) return new Ctor(ONE);\n\n    x = new Ctor(x);\n\n    // pow(0, y > 0) = 0\n    // pow(0, y < 0) = Infinity\n    if (!x.s) {\n      if (y.s < 1) throw Error(decimalError + 'Infinity');\n      return x;\n    }\n\n    // pow(1, y) = 1\n    if (x.eq(ONE)) return x;\n\n    pr = Ctor.precision;\n\n    // pow(x, 1) = x\n    if (y.eq(ONE)) return round(x, pr);\n\n    e = y.e;\n    k = y.d.length - 1;\n    yIsInt = e >= k;\n    sign = x.s;\n\n    if (!yIsInt) {\n\n      // pow(x < 0, y non-integer) = NaN\n      if (sign < 0) throw Error(decimalError + 'NaN');\n\n      // If y is a small integer use the 'exponentiation by squaring' algorithm.\n    } else if ((k = yn < 0 ? -yn : yn) <= MAX_SAFE_INTEGER) {\n      r = new Ctor(ONE);\n\n      // Max k of 9007199254740991 takes 53 loop iterations.\n      // Maximum digits array length; leaves [28, 34] guard digits.\n      e = Math.ceil(pr / LOG_BASE + 4);\n\n      external = false;\n\n      for (;;) {\n        if (k % 2) {\n          r = r.times(x);\n          truncate(r.d, e);\n        }\n\n        k = mathfloor(k / 2);\n        if (k === 0) break;\n\n        x = x.times(x);\n        truncate(x.d, e);\n      }\n\n      external = true;\n\n      return y.s < 0 ? new Ctor(ONE).div(r) : round(r, pr);\n    }\n\n    // Result is negative if x is negative and the last digit of integer y is odd.\n    sign = sign < 0 && y.d[Math.max(e, k)] & 1 ? -1 : 1;\n\n    x.s = 1;\n    external = false;\n    r = y.times(ln(x, pr + guard));\n    external = true;\n    r = exp(r);\n    r.s = sign;\n\n    return r;\n  };\n\n  /*\r\n   * Return a string representing the value of this Decimal rounded to `sd` significant digits\r\n   * using rounding mode `rounding`.\r\n   *\r\n   * Return exponential notation if `sd` is less than the number of digits necessary to represent\r\n   * the integer part of the value in normal notation.\r\n   *\r\n   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   */\n  P.toPrecision = function (sd, rm) {\n    var e,\n        str,\n        x = this,\n        Ctor = x.constructor;\n\n    if (sd === void 0) {\n      e = getBase10Exponent(x);\n      str = toString(x, e <= Ctor.toExpNeg || e >= Ctor.toExpPos);\n    } else {\n      checkInt32(sd, 1, MAX_DIGITS);\n\n      if (rm === void 0) rm = Ctor.rounding;else checkInt32(rm, 0, 8);\n\n      x = round(new Ctor(x), sd, rm);\n      e = getBase10Exponent(x);\n      str = toString(x, sd <= e || e <= Ctor.toExpNeg, sd);\n    }\n\n    return str;\n  };\n\n  /*\r\n   * Return a new Decimal whose value is the value of this Decimal rounded to a maximum of `sd`\r\n   * significant digits using rounding mode `rm`, or to `precision` and `rounding` respectively if\r\n   * omitted.\r\n   *\r\n   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   */\n  P.toSignificantDigits = P.tosd = function (sd, rm) {\n    var x = this,\n        Ctor = x.constructor;\n\n    if (sd === void 0) {\n      sd = Ctor.precision;\n      rm = Ctor.rounding;\n    } else {\n      checkInt32(sd, 1, MAX_DIGITS);\n\n      if (rm === void 0) rm = Ctor.rounding;else checkInt32(rm, 0, 8);\n    }\n\n    return round(new Ctor(x), sd, rm);\n  };\n\n  /*\r\n   * Return a string representing the value of this Decimal.\r\n   *\r\n   * Return exponential notation if this Decimal has a positive exponent equal to or greater than\r\n   * `toExpPos`, or a negative exponent equal to or less than `toExpNeg`.\r\n   *\r\n   */\n  P.toString = P.valueOf = P.val = P.toJSON = function () {\n    var x = this,\n        e = getBase10Exponent(x),\n        Ctor = x.constructor;\n\n    return toString(x, e <= Ctor.toExpNeg || e >= Ctor.toExpPos);\n  };\n\n  // Helper functions for Decimal.prototype (P) and/or Decimal methods, and their callers.\n\n\n  /*\r\n   *  add                 P.minus, P.plus\r\n   *  checkInt32          P.todp, P.toExponential, P.toFixed, P.toPrecision, P.tosd\r\n   *  digitsToString      P.log, P.sqrt, P.pow, toString, exp, ln\r\n   *  divide              P.div, P.idiv, P.log, P.mod, P.sqrt, exp, ln\r\n   *  exp                 P.exp, P.pow\r\n   *  getBase10Exponent   P.exponent, P.sd, P.toint, P.sqrt, P.todp, P.toFixed, P.toPrecision,\r\n   *                      P.toString, divide, round, toString, exp, ln\r\n   *  getLn10             P.log, ln\r\n   *  getZeroString       digitsToString, toString\r\n   *  ln                  P.log, P.ln, P.pow, exp\r\n   *  parseDecimal        Decimal\r\n   *  round               P.abs, P.idiv, P.log, P.minus, P.mod, P.neg, P.plus, P.toint, P.sqrt,\r\n   *                      P.times, P.todp, P.toExponential, P.toFixed, P.pow, P.toPrecision, P.tosd,\r\n   *                      divide, getLn10, exp, ln\r\n   *  subtract            P.minus, P.plus\r\n   *  toString            P.toExponential, P.toFixed, P.toPrecision, P.toString, P.valueOf\r\n   *  truncate            P.pow\r\n   *\r\n   *  Throws:             P.log, P.mod, P.sd, P.sqrt, P.pow,  checkInt32, divide, round,\r\n   *                      getLn10, exp, ln, parseDecimal, Decimal, config\r\n   */\n\n  function add(x, y) {\n    var carry,\n        d,\n        e,\n        i,\n        k,\n        len,\n        xd,\n        yd,\n        Ctor = x.constructor,\n        pr = Ctor.precision;\n\n    // If either is zero...\n    if (!x.s || !y.s) {\n\n      // Return x if y is zero.\n      // Return y if y is non-zero.\n      if (!y.s) y = new Ctor(x);\n      return external ? round(y, pr) : y;\n    }\n\n    xd = x.d;\n    yd = y.d;\n\n    // x and y are finite, non-zero numbers with the same sign.\n\n    k = x.e;\n    e = y.e;\n    xd = xd.slice();\n    i = k - e;\n\n    // If base 1e7 exponents differ...\n    if (i) {\n      if (i < 0) {\n        d = xd;\n        i = -i;\n        len = yd.length;\n      } else {\n        d = yd;\n        e = k;\n        len = xd.length;\n      }\n\n      // Limit number of zeros prepended to max(ceil(pr / LOG_BASE), len) + 1.\n      k = Math.ceil(pr / LOG_BASE);\n      len = k > len ? k + 1 : len + 1;\n\n      if (i > len) {\n        i = len;\n        d.length = 1;\n      }\n\n      // Prepend zeros to equalise exponents. Note: Faster to use reverse then do unshifts.\n      d.reverse();\n      for (; i--;) {\n        d.push(0);\n      }d.reverse();\n    }\n\n    len = xd.length;\n    i = yd.length;\n\n    // If yd is longer than xd, swap xd and yd so xd points to the longer array.\n    if (len - i < 0) {\n      i = len;\n      d = yd;\n      yd = xd;\n      xd = d;\n    }\n\n    // Only start adding at yd.length - 1 as the further digits of xd can be left as they are.\n    for (carry = 0; i;) {\n      carry = (xd[--i] = xd[i] + yd[i] + carry) / BASE | 0;\n      xd[i] %= BASE;\n    }\n\n    if (carry) {\n      xd.unshift(carry);\n      ++e;\n    }\n\n    // Remove trailing zeros.\n    // No need to check for zero, as +x + +y != 0 && -x + -y != 0\n    for (len = xd.length; xd[--len] == 0;) {\n      xd.pop();\n    }y.d = xd;\n    y.e = e;\n\n    return external ? round(y, pr) : y;\n  }\n\n  function checkInt32(i, min, max) {\n    if (i !== ~~i || i < min || i > max) {\n      throw Error(invalidArgument + i);\n    }\n  }\n\n  function digitsToString(d) {\n    var i,\n        k,\n        ws,\n        indexOfLastWord = d.length - 1,\n        str = '',\n        w = d[0];\n\n    if (indexOfLastWord > 0) {\n      str += w;\n      for (i = 1; i < indexOfLastWord; i++) {\n        ws = d[i] + '';\n        k = LOG_BASE - ws.length;\n        if (k) str += getZeroString(k);\n        str += ws;\n      }\n\n      w = d[i];\n      ws = w + '';\n      k = LOG_BASE - ws.length;\n      if (k) str += getZeroString(k);\n    } else if (w === 0) {\n      return '0';\n    }\n\n    // Remove trailing zeros of last w.\n    for (; w % 10 === 0;) {\n      w /= 10;\n    }return str + w;\n  }\n\n  var divide = function () {\n\n    // Assumes non-zero x and k, and hence non-zero result.\n    function multiplyInteger(x, k) {\n      var temp,\n          carry = 0,\n          i = x.length;\n\n      for (x = x.slice(); i--;) {\n        temp = x[i] * k + carry;\n        x[i] = temp % BASE | 0;\n        carry = temp / BASE | 0;\n      }\n\n      if (carry) x.unshift(carry);\n\n      return x;\n    }\n\n    function compare(a, b, aL, bL) {\n      var i, r;\n\n      if (aL != bL) {\n        r = aL > bL ? 1 : -1;\n      } else {\n        for (i = r = 0; i < aL; i++) {\n          if (a[i] != b[i]) {\n            r = a[i] > b[i] ? 1 : -1;\n            break;\n          }\n        }\n      }\n\n      return r;\n    }\n\n    function subtract(a, b, aL) {\n      var i = 0;\n\n      // Subtract b from a.\n      for (; aL--;) {\n        a[aL] -= i;\n        i = a[aL] < b[aL] ? 1 : 0;\n        a[aL] = i * BASE + a[aL] - b[aL];\n      }\n\n      // Remove leading zeros.\n      for (; !a[0] && a.length > 1;) {\n        a.shift();\n      }\n    }\n\n    return function (x, y, pr, dp) {\n      var cmp,\n          e,\n          i,\n          k,\n          prod,\n          prodL,\n          q,\n          qd,\n          rem,\n          remL,\n          rem0,\n          sd,\n          t,\n          xi,\n          xL,\n          yd0,\n          yL,\n          yz,\n          Ctor = x.constructor,\n          sign = x.s == y.s ? 1 : -1,\n          xd = x.d,\n          yd = y.d;\n\n      // Either 0?\n      if (!x.s) return new Ctor(x);\n      if (!y.s) throw Error(decimalError + 'Division by zero');\n\n      e = x.e - y.e;\n      yL = yd.length;\n      xL = xd.length;\n      q = new Ctor(sign);\n      qd = q.d = [];\n\n      // Result exponent may be one less than e.\n      for (i = 0; yd[i] == (xd[i] || 0);) {\n        ++i;\n      }if (yd[i] > (xd[i] || 0)) --e;\n\n      if (pr == null) {\n        sd = pr = Ctor.precision;\n      } else if (dp) {\n        sd = pr + (getBase10Exponent(x) - getBase10Exponent(y)) + 1;\n      } else {\n        sd = pr;\n      }\n\n      if (sd < 0) return new Ctor(0);\n\n      // Convert precision in number of base 10 digits to base 1e7 digits.\n      sd = sd / LOG_BASE + 2 | 0;\n      i = 0;\n\n      // divisor < 1e7\n      if (yL == 1) {\n        k = 0;\n        yd = yd[0];\n        sd++;\n\n        // k is the carry.\n        for (; (i < xL || k) && sd--; i++) {\n          t = k * BASE + (xd[i] || 0);\n          qd[i] = t / yd | 0;\n          k = t % yd | 0;\n        }\n\n        // divisor >= 1e7\n      } else {\n\n        // Normalise xd and yd so highest order digit of yd is >= BASE/2\n        k = BASE / (yd[0] + 1) | 0;\n\n        if (k > 1) {\n          yd = multiplyInteger(yd, k);\n          xd = multiplyInteger(xd, k);\n          yL = yd.length;\n          xL = xd.length;\n        }\n\n        xi = yL;\n        rem = xd.slice(0, yL);\n        remL = rem.length;\n\n        // Add zeros to make remainder as long as divisor.\n        for (; remL < yL;) {\n          rem[remL++] = 0;\n        }yz = yd.slice();\n        yz.unshift(0);\n        yd0 = yd[0];\n\n        if (yd[1] >= BASE / 2) ++yd0;\n\n        do {\n          k = 0;\n\n          // Compare divisor and remainder.\n          cmp = compare(yd, rem, yL, remL);\n\n          // If divisor < remainder.\n          if (cmp < 0) {\n\n            // Calculate trial digit, k.\n            rem0 = rem[0];\n            if (yL != remL) rem0 = rem0 * BASE + (rem[1] || 0);\n\n            // k will be how many times the divisor goes into the current remainder.\n            k = rem0 / yd0 | 0;\n\n            //  Algorithm:\n            //  1. product = divisor * trial digit (k)\n            //  2. if product > remainder: product -= divisor, k--\n            //  3. remainder -= product\n            //  4. if product was < remainder at 2:\n            //    5. compare new remainder and divisor\n            //    6. If remainder > divisor: remainder -= divisor, k++\n\n            if (k > 1) {\n              if (k >= BASE) k = BASE - 1;\n\n              // product = divisor * trial digit.\n              prod = multiplyInteger(yd, k);\n              prodL = prod.length;\n              remL = rem.length;\n\n              // Compare product and remainder.\n              cmp = compare(prod, rem, prodL, remL);\n\n              // product > remainder.\n              if (cmp == 1) {\n                k--;\n\n                // Subtract divisor from product.\n                subtract(prod, yL < prodL ? yz : yd, prodL);\n              }\n            } else {\n\n              // cmp is -1.\n              // If k is 0, there is no need to compare yd and rem again below, so change cmp to 1\n              // to avoid it. If k is 1 there is a need to compare yd and rem again below.\n              if (k == 0) cmp = k = 1;\n              prod = yd.slice();\n            }\n\n            prodL = prod.length;\n            if (prodL < remL) prod.unshift(0);\n\n            // Subtract product from remainder.\n            subtract(rem, prod, remL);\n\n            // If product was < previous remainder.\n            if (cmp == -1) {\n              remL = rem.length;\n\n              // Compare divisor and new remainder.\n              cmp = compare(yd, rem, yL, remL);\n\n              // If divisor < new remainder, subtract divisor from remainder.\n              if (cmp < 1) {\n                k++;\n\n                // Subtract divisor from remainder.\n                subtract(rem, yL < remL ? yz : yd, remL);\n              }\n            }\n\n            remL = rem.length;\n          } else if (cmp === 0) {\n            k++;\n            rem = [0];\n          } // if cmp === 1, k will be 0\n\n          // Add the next digit, k, to the result array.\n          qd[i++] = k;\n\n          // Update the remainder.\n          if (cmp && rem[0]) {\n            rem[remL++] = xd[xi] || 0;\n          } else {\n            rem = [xd[xi]];\n            remL = 1;\n          }\n        } while ((xi++ < xL || rem[0] !== void 0) && sd--);\n      }\n\n      // Leading zero?\n      if (!qd[0]) qd.shift();\n\n      q.e = e;\n\n      return round(q, dp ? pr + getBase10Exponent(q) + 1 : pr);\n    };\n  }();\n\n  /*\r\n   * Return a new Decimal whose value is the natural exponential of `x` truncated to `sd`\r\n   * significant digits.\r\n   *\r\n   * Taylor/Maclaurin series.\r\n   *\r\n   * exp(x) = x^0/0! + x^1/1! + x^2/2! + x^3/3! + ...\r\n   *\r\n   * Argument reduction:\r\n   *   Repeat x = x / 32, k += 5, until |x| < 0.1\r\n   *   exp(x) = exp(x / 2^k)^(2^k)\r\n   *\r\n   * Previously, the argument was initially reduced by\r\n   * exp(x) = exp(r) * 10^k  where r = x - k * ln10, k = floor(x / ln10)\r\n   * to first put r in the range [0, ln10], before dividing by 32 until |x| < 0.1, but this was\r\n   * found to be slower than just dividing repeatedly by 32 as above.\r\n   *\r\n   * (Math object integer min/max: Math.exp(709) = 8.2e+307, Math.exp(-745) = 5e-324)\r\n   *\r\n   *  exp(x) is non-terminating for any finite, non-zero x.\r\n   *\r\n   */\n  function exp(x, sd) {\n    var denominator,\n        guard,\n        pow,\n        sum,\n        t,\n        wpr,\n        i = 0,\n        k = 0,\n        Ctor = x.constructor,\n        pr = Ctor.precision;\n\n    if (getBase10Exponent(x) > 16) throw Error(exponentOutOfRange + getBase10Exponent(x));\n\n    // exp(0) = 1\n    if (!x.s) return new Ctor(ONE);\n\n    if (sd == null) {\n      external = false;\n      wpr = pr;\n    } else {\n      wpr = sd;\n    }\n\n    t = new Ctor(0.03125);\n\n    while (x.abs().gte(0.1)) {\n      x = x.times(t); // x = x / 2^5\n      k += 5;\n    }\n\n    // Estimate the precision increase necessary to ensure the first 4 rounding digits are correct.\n    guard = Math.log(mathpow(2, k)) / Math.LN10 * 2 + 5 | 0;\n    wpr += guard;\n    denominator = pow = sum = new Ctor(ONE);\n    Ctor.precision = wpr;\n\n    for (;;) {\n      pow = round(pow.times(x), wpr);\n      denominator = denominator.times(++i);\n      t = sum.plus(divide(pow, denominator, wpr));\n\n      if (digitsToString(t.d).slice(0, wpr) === digitsToString(sum.d).slice(0, wpr)) {\n        while (k--) {\n          sum = round(sum.times(sum), wpr);\n        }Ctor.precision = pr;\n        return sd == null ? (external = true, round(sum, pr)) : sum;\n      }\n\n      sum = t;\n    }\n  }\n\n  // Calculate the base 10 exponent from the base 1e7 exponent.\n  function getBase10Exponent(x) {\n    var e = x.e * LOG_BASE,\n        w = x.d[0];\n\n    // Add the number of digits of the first word of the digits array.\n    for (; w >= 10; w /= 10) {\n      e++;\n    }return e;\n  }\n\n  function getLn10(Ctor, sd, pr) {\n\n    if (sd > Ctor.LN10.sd()) {\n\n      // Reset global state in case the exception is caught.\n      external = true;\n      if (pr) Ctor.precision = pr;\n      throw Error(decimalError + 'LN10 precision limit exceeded');\n    }\n\n    return round(new Ctor(Ctor.LN10), sd);\n  }\n\n  function getZeroString(k) {\n    var zs = '';\n    for (; k--;) {\n      zs += '0';\n    }return zs;\n  }\n\n  /*\r\n   * Return a new Decimal whose value is the natural logarithm of `x` truncated to `sd` significant\r\n   * digits.\r\n   *\r\n   *  ln(n) is non-terminating (n != 1)\r\n   *\r\n   */\n  function ln(y, sd) {\n    var c,\n        c0,\n        denominator,\n        e,\n        numerator,\n        sum,\n        t,\n        wpr,\n        x2,\n        n = 1,\n        guard = 10,\n        x = y,\n        xd = x.d,\n        Ctor = x.constructor,\n        pr = Ctor.precision;\n\n    // ln(-x) = NaN\n    // ln(0) = -Infinity\n    if (x.s < 1) throw Error(decimalError + (x.s ? 'NaN' : '-Infinity'));\n\n    // ln(1) = 0\n    if (x.eq(ONE)) return new Ctor(0);\n\n    if (sd == null) {\n      external = false;\n      wpr = pr;\n    } else {\n      wpr = sd;\n    }\n\n    if (x.eq(10)) {\n      if (sd == null) external = true;\n      return getLn10(Ctor, wpr);\n    }\n\n    wpr += guard;\n    Ctor.precision = wpr;\n    c = digitsToString(xd);\n    c0 = c.charAt(0);\n    e = getBase10Exponent(x);\n\n    if (Math.abs(e) < 1.5e15) {\n\n      // Argument reduction.\n      // The series converges faster the closer the argument is to 1, so using\n      // ln(a^b) = b * ln(a),   ln(a) = ln(a^b) / b\n      // multiply the argument by itself until the leading digits of the significand are 7, 8, 9,\n      // 10, 11, 12 or 13, recording the number of multiplications so the sum of the series can\n      // later be divided by this number, then separate out the power of 10 using\n      // ln(a*10^b) = ln(a) + b*ln(10).\n\n      // max n is 21 (gives 0.9, 1.0 or 1.1) (9e15 / 21 = 4.2e14).\n      //while (c0 < 9 && c0 != 1 || c0 == 1 && c.charAt(1) > 1) {\n      // max n is 6 (gives 0.7 - 1.3)\n      while (c0 < 7 && c0 != 1 || c0 == 1 && c.charAt(1) > 3) {\n        x = x.times(y);\n        c = digitsToString(x.d);\n        c0 = c.charAt(0);\n        n++;\n      }\n\n      e = getBase10Exponent(x);\n\n      if (c0 > 1) {\n        x = new Ctor('0.' + c);\n        e++;\n      } else {\n        x = new Ctor(c0 + '.' + c.slice(1));\n      }\n    } else {\n\n      // The argument reduction method above may result in overflow if the argument y is a massive\n      // number with exponent >= 1500000000000000 (9e15 / 6 = 1.5e15), so instead recall this\n      // function using ln(x*10^e) = ln(x) + e*ln(10).\n      t = getLn10(Ctor, wpr + 2, pr).times(e + '');\n      x = ln(new Ctor(c0 + '.' + c.slice(1)), wpr - guard).plus(t);\n\n      Ctor.precision = pr;\n      return sd == null ? (external = true, round(x, pr)) : x;\n    }\n\n    // x is reduced to a value near 1.\n\n    // Taylor series.\n    // ln(y) = ln((1 + x)/(1 - x)) = 2(x + x^3/3 + x^5/5 + x^7/7 + ...)\n    // where x = (y - 1)/(y + 1)    (|x| < 1)\n    sum = numerator = x = divide(x.minus(ONE), x.plus(ONE), wpr);\n    x2 = round(x.times(x), wpr);\n    denominator = 3;\n\n    for (;;) {\n      numerator = round(numerator.times(x2), wpr);\n      t = sum.plus(divide(numerator, new Ctor(denominator), wpr));\n\n      if (digitsToString(t.d).slice(0, wpr) === digitsToString(sum.d).slice(0, wpr)) {\n        sum = sum.times(2);\n\n        // Reverse the argument reduction.\n        if (e !== 0) sum = sum.plus(getLn10(Ctor, wpr + 2, pr).times(e + ''));\n        sum = divide(sum, new Ctor(n), wpr);\n\n        Ctor.precision = pr;\n        return sd == null ? (external = true, round(sum, pr)) : sum;\n      }\n\n      sum = t;\n      denominator += 2;\n    }\n  }\n\n  /*\r\n   * Parse the value of a new Decimal `x` from string `str`.\r\n   */\n  function parseDecimal(x, str) {\n    var e, i, len;\n\n    // Decimal point?\n    if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\n\n    // Exponential form?\n    if ((i = str.search(/e/i)) > 0) {\n\n      // Determine exponent.\n      if (e < 0) e = i;\n      e += +str.slice(i + 1);\n      str = str.substring(0, i);\n    } else if (e < 0) {\n\n      // Integer.\n      e = str.length;\n    }\n\n    // Determine leading zeros.\n    for (i = 0; str.charCodeAt(i) === 48;) {\n      ++i;\n    } // Determine trailing zeros.\n    for (len = str.length; str.charCodeAt(len - 1) === 48;) {\n      --len;\n    }str = str.slice(i, len);\n\n    if (str) {\n      len -= i;\n      e = e - i - 1;\n      x.e = mathfloor(e / LOG_BASE);\n      x.d = [];\n\n      // Transform base\n\n      // e is the base 10 exponent.\n      // i is where to slice str to get the first word of the digits array.\n      i = (e + 1) % LOG_BASE;\n      if (e < 0) i += LOG_BASE;\n\n      if (i < len) {\n        if (i) x.d.push(+str.slice(0, i));\n        for (len -= LOG_BASE; i < len;) {\n          x.d.push(+str.slice(i, i += LOG_BASE));\n        }str = str.slice(i);\n        i = LOG_BASE - str.length;\n      } else {\n        i -= len;\n      }\n\n      for (; i--;) {\n        str += '0';\n      }x.d.push(+str);\n\n      if (external && (x.e > MAX_E || x.e < -MAX_E)) throw Error(exponentOutOfRange + e);\n    } else {\n\n      // Zero.\n      x.s = 0;\n      x.e = 0;\n      x.d = [0];\n    }\n\n    return x;\n  }\n\n  /*\r\n   * Round `x` to `sd` significant digits, using rounding mode `rm` if present (truncate otherwise).\r\n   */\n  function round(x, sd, rm) {\n    var i,\n        j,\n        k,\n        n,\n        rd,\n        doRound,\n        w,\n        xdi,\n        xd = x.d;\n\n    // rd: the rounding digit, i.e. the digit after the digit that may be rounded up.\n    // w: the word of xd which contains the rounding digit, a base 1e7 number.\n    // xdi: the index of w within xd.\n    // n: the number of digits of w.\n    // i: what would be the index of rd within w if all the numbers were 7 digits long (i.e. if\n    // they had leading zeros)\n    // j: if > 0, the actual index of rd within w (if < 0, rd is a leading zero).\n\n    // Get the length of the first word of the digits array xd.\n    for (n = 1, k = xd[0]; k >= 10; k /= 10) {\n      n++;\n    }i = sd - n;\n\n    // Is the rounding digit in the first word of xd?\n    if (i < 0) {\n      i += LOG_BASE;\n      j = sd;\n      w = xd[xdi = 0];\n    } else {\n      xdi = Math.ceil((i + 1) / LOG_BASE);\n      k = xd.length;\n      if (xdi >= k) return x;\n      w = k = xd[xdi];\n\n      // Get the number of digits of w.\n      for (n = 1; k >= 10; k /= 10) {\n        n++;\n      } // Get the index of rd within w.\n      i %= LOG_BASE;\n\n      // Get the index of rd within w, adjusted for leading zeros.\n      // The number of leading zeros of w is given by LOG_BASE - n.\n      j = i - LOG_BASE + n;\n    }\n\n    if (rm !== void 0) {\n      k = mathpow(10, n - j - 1);\n\n      // Get the rounding digit at index j of w.\n      rd = w / k % 10 | 0;\n\n      // Are there any non-zero digits after the rounding digit?\n      doRound = sd < 0 || xd[xdi + 1] !== void 0 || w % k;\n\n      // The expression `w % mathpow(10, n - j - 1)` returns all the digits of w to the right of the\n      // digit at (left-to-right) index j, e.g. if w is 908714 and j is 2, the expression will give\n      // 714.\n\n      doRound = rm < 4 ? (rd || doRound) && (rm == 0 || rm == (x.s < 0 ? 3 : 2)) : rd > 5 || rd == 5 && (rm == 4 || doRound || rm == 6 &&\n\n      // Check whether the digit to the left of the rounding digit is odd.\n      (i > 0 ? j > 0 ? w / mathpow(10, n - j) : 0 : xd[xdi - 1]) % 10 & 1 || rm == (x.s < 0 ? 8 : 7));\n    }\n\n    if (sd < 1 || !xd[0]) {\n      if (doRound) {\n        k = getBase10Exponent(x);\n        xd.length = 1;\n\n        // Convert sd to decimal places.\n        sd = sd - k - 1;\n\n        // 1, 0.1, 0.01, 0.001, 0.0001 etc.\n        xd[0] = mathpow(10, (LOG_BASE - sd % LOG_BASE) % LOG_BASE);\n        x.e = mathfloor(-sd / LOG_BASE) || 0;\n      } else {\n        xd.length = 1;\n\n        // Zero.\n        xd[0] = x.e = x.s = 0;\n      }\n\n      return x;\n    }\n\n    // Remove excess digits.\n    if (i == 0) {\n      xd.length = xdi;\n      k = 1;\n      xdi--;\n    } else {\n      xd.length = xdi + 1;\n      k = mathpow(10, LOG_BASE - i);\n\n      // E.g. 56700 becomes 56000 if 7 is the rounding digit.\n      // j > 0 means i > number of leading zeros of w.\n      xd[xdi] = j > 0 ? (w / mathpow(10, n - j) % mathpow(10, j) | 0) * k : 0;\n    }\n\n    if (doRound) {\n      for (;;) {\n\n        // Is the digit to be rounded up in the first word of xd?\n        if (xdi == 0) {\n          if ((xd[0] += k) == BASE) {\n            xd[0] = 1;\n            ++x.e;\n          }\n\n          break;\n        } else {\n          xd[xdi] += k;\n          if (xd[xdi] != BASE) break;\n          xd[xdi--] = 0;\n          k = 1;\n        }\n      }\n    }\n\n    // Remove trailing zeros.\n    for (i = xd.length; xd[--i] === 0;) {\n      xd.pop();\n    }if (external && (x.e > MAX_E || x.e < -MAX_E)) {\n      throw Error(exponentOutOfRange + getBase10Exponent(x));\n    }\n\n    return x;\n  }\n\n  function subtract(x, y) {\n    var d,\n        e,\n        i,\n        j,\n        k,\n        len,\n        xd,\n        xe,\n        xLTy,\n        yd,\n        Ctor = x.constructor,\n        pr = Ctor.precision;\n\n    // Return y negated if x is zero.\n    // Return x if y is zero and x is non-zero.\n    if (!x.s || !y.s) {\n      if (y.s) y.s = -y.s;else y = new Ctor(x);\n      return external ? round(y, pr) : y;\n    }\n\n    xd = x.d;\n    yd = y.d;\n\n    // x and y are non-zero numbers with the same sign.\n\n    e = y.e;\n    xe = x.e;\n    xd = xd.slice();\n    k = xe - e;\n\n    // If exponents differ...\n    if (k) {\n      xLTy = k < 0;\n\n      if (xLTy) {\n        d = xd;\n        k = -k;\n        len = yd.length;\n      } else {\n        d = yd;\n        e = xe;\n        len = xd.length;\n      }\n\n      // Numbers with massively different exponents would result in a very high number of zeros\n      // needing to be prepended, but this can be avoided while still ensuring correct rounding by\n      // limiting the number of zeros to `Math.ceil(pr / LOG_BASE) + 2`.\n      i = Math.max(Math.ceil(pr / LOG_BASE), len) + 2;\n\n      if (k > i) {\n        k = i;\n        d.length = 1;\n      }\n\n      // Prepend zeros to equalise exponents.\n      d.reverse();\n      for (i = k; i--;) {\n        d.push(0);\n      }d.reverse();\n\n      // Base 1e7 exponents equal.\n    } else {\n\n      // Check digits to determine which is the bigger number.\n\n      i = xd.length;\n      len = yd.length;\n      xLTy = i < len;\n      if (xLTy) len = i;\n\n      for (i = 0; i < len; i++) {\n        if (xd[i] != yd[i]) {\n          xLTy = xd[i] < yd[i];\n          break;\n        }\n      }\n\n      k = 0;\n    }\n\n    if (xLTy) {\n      d = xd;\n      xd = yd;\n      yd = d;\n      y.s = -y.s;\n    }\n\n    len = xd.length;\n\n    // Append zeros to xd if shorter.\n    // Don't add zeros to yd if shorter as subtraction only needs to start at yd length.\n    for (i = yd.length - len; i > 0; --i) {\n      xd[len++] = 0;\n    } // Subtract yd from xd.\n    for (i = yd.length; i > k;) {\n      if (xd[--i] < yd[i]) {\n        for (j = i; j && xd[--j] === 0;) {\n          xd[j] = BASE - 1;\n        }--xd[j];\n        xd[i] += BASE;\n      }\n\n      xd[i] -= yd[i];\n    }\n\n    // Remove trailing zeros.\n    for (; xd[--len] === 0;) {\n      xd.pop();\n    } // Remove leading zeros and adjust exponent accordingly.\n    for (; xd[0] === 0; xd.shift()) {\n      --e;\n    } // Zero?\n    if (!xd[0]) return new Ctor(0);\n\n    y.d = xd;\n    y.e = e;\n\n    //return external && xd.length >= pr / LOG_BASE ? round(y, pr) : y;\n    return external ? round(y, pr) : y;\n  }\n\n  function toString(x, isExp, sd) {\n    var k,\n        e = getBase10Exponent(x),\n        str = digitsToString(x.d),\n        len = str.length;\n\n    if (isExp) {\n      if (sd && (k = sd - len) > 0) {\n        str = str.charAt(0) + '.' + str.slice(1) + getZeroString(k);\n      } else if (len > 1) {\n        str = str.charAt(0) + '.' + str.slice(1);\n      }\n\n      str = str + (e < 0 ? 'e' : 'e+') + e;\n    } else if (e < 0) {\n      str = '0.' + getZeroString(-e - 1) + str;\n      if (sd && (k = sd - len) > 0) str += getZeroString(k);\n    } else if (e >= len) {\n      str += getZeroString(e + 1 - len);\n      if (sd && (k = sd - e - 1) > 0) str = str + '.' + getZeroString(k);\n    } else {\n      if ((k = e + 1) < len) str = str.slice(0, k) + '.' + str.slice(k);\n      if (sd && (k = sd - len) > 0) {\n        if (e + 1 === len) str += '.';\n        str += getZeroString(k);\n      }\n    }\n\n    return x.s < 0 ? '-' + str : str;\n  }\n\n  // Does not strip trailing zeros.\n  function truncate(arr, len) {\n    if (arr.length > len) {\n      arr.length = len;\n      return true;\n    }\n  }\n\n  // Decimal methods\n\n\n  /*\r\n   *  clone\r\n   *  config/set\r\n   */\n\n  /*\r\n   * Create and return a Decimal constructor with the same configuration properties as this Decimal\r\n   * constructor.\r\n   *\r\n   */\n  function clone(obj) {\n    var i, p, ps;\n\n    /*\r\n     * The Decimal constructor and exported function.\r\n     * Return a new Decimal instance.\r\n     *\r\n     * value {number|string|Decimal} A numeric value.\r\n     *\r\n     */\n    function Decimal(value) {\n      var x = this;\n\n      // Decimal called without new.\n      if (!(x instanceof Decimal)) return new Decimal(value);\n\n      // Retain a reference to this Decimal constructor, and shadow Decimal.prototype.constructor\n      // which points to Object.\n      x.constructor = Decimal;\n\n      // Duplicate.\n      if (value instanceof Decimal) {\n        x.s = value.s;\n        x.e = value.e;\n        x.d = (value = value.d) ? value.slice() : value;\n        return;\n      }\n\n      if (typeof value === 'number') {\n\n        // Reject Infinity/NaN.\n        if (value * 0 !== 0) {\n          throw Error(invalidArgument + value);\n        }\n\n        if (value > 0) {\n          x.s = 1;\n        } else if (value < 0) {\n          value = -value;\n          x.s = -1;\n        } else {\n          x.s = 0;\n          x.e = 0;\n          x.d = [0];\n          return;\n        }\n\n        // Fast path for small integers.\n        if (value === ~~value && value < 1e7) {\n          x.e = 0;\n          x.d = [value];\n          return;\n        }\n\n        return parseDecimal(x, value.toString());\n      } else if (typeof value !== 'string') {\n        throw Error(invalidArgument + value);\n      }\n\n      // Minus sign?\n      if (value.charCodeAt(0) === 45) {\n        value = value.slice(1);\n        x.s = -1;\n      } else {\n        x.s = 1;\n      }\n\n      if (isDecimal.test(value)) parseDecimal(x, value);else throw Error(invalidArgument + value);\n    }\n\n    Decimal.prototype = P;\n\n    Decimal.ROUND_UP = 0;\n    Decimal.ROUND_DOWN = 1;\n    Decimal.ROUND_CEIL = 2;\n    Decimal.ROUND_FLOOR = 3;\n    Decimal.ROUND_HALF_UP = 4;\n    Decimal.ROUND_HALF_DOWN = 5;\n    Decimal.ROUND_HALF_EVEN = 6;\n    Decimal.ROUND_HALF_CEIL = 7;\n    Decimal.ROUND_HALF_FLOOR = 8;\n\n    Decimal.clone = clone;\n    Decimal.config = Decimal.set = config;\n\n    if (obj === void 0) obj = {};\n    if (obj) {\n      ps = ['precision', 'rounding', 'toExpNeg', 'toExpPos', 'LN10'];\n      for (i = 0; i < ps.length;) {\n        if (!obj.hasOwnProperty(p = ps[i++])) obj[p] = this[p];\n      }\n    }\n\n    Decimal.config(obj);\n\n    return Decimal;\n  }\n\n  /*\r\n   * Configure global settings for a Decimal constructor.\r\n   *\r\n   * `obj` is an object with one or more of the following properties,\r\n   *\r\n   *   precision  {number}\r\n   *   rounding   {number}\r\n   *   toExpNeg   {number}\r\n   *   toExpPos   {number}\r\n   *\r\n   * E.g. Decimal.config({ precision: 20, rounding: 4 })\r\n   *\r\n   */\n  function config(obj) {\n    if (!obj || (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') {\n      throw Error(decimalError + 'Object expected');\n    }\n    var i,\n        p,\n        v,\n        ps = ['precision', 1, MAX_DIGITS, 'rounding', 0, 8, 'toExpNeg', -1 / 0, 0, 'toExpPos', 0, 1 / 0];\n\n    for (i = 0; i < ps.length; i += 3) {\n      if ((v = obj[p = ps[i]]) !== void 0) {\n        if (mathfloor(v) === v && v >= ps[i + 1] && v <= ps[i + 2]) this[p] = v;else throw Error(invalidArgument + p + ': ' + v);\n      }\n    }\n\n    if ((v = obj[p = 'LN10']) !== void 0) {\n      if (v == Math.LN10) this[p] = new this(v);else throw Error(invalidArgument + p + ': ' + v);\n    }\n\n    return this;\n  }\n\n  // Create and configure initial Decimal constructor.\n  Decimal = clone(Decimal);\n\n  Decimal['default'] = Decimal.Decimal = Decimal;\n\n  // Internal constant.\n  ONE = new Decimal(1);\n\n  // Export.\n\n\n  // AMD.\n  if (typeof define == 'function' && define.amd) {\n    define(function () {\n      return Decimal;\n    });\n\n    // Node and other environments that support module.exports.\n  } else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Decimal;\n\n    // Browser.\n  } else {\n    if (!globalScope) {\n      globalScope = typeof self != 'undefined' && self && self.self == self ? self : Function('return this')();\n    }\n\n    globalScope.Decimal = Decimal;\n  }\n})(undefined);\n\n},{}],8:[function(require,module,exports){\n/*!\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n   value: true\n});\nexports.Flagrate = undefined;\n\nvar _util = require(\"./flagrate/util\");\n\nvar util = _interopRequireWildcard(_util);\n\nvar _element = require(\"./flagrate/element\");\n\nvar element = _interopRequireWildcard(_element);\n\nvar _button = require(\"./flagrate/button\");\n\nvar button = _interopRequireWildcard(_button);\n\nvar _buttons = require(\"./flagrate/buttons\");\n\nvar buttons = _interopRequireWildcard(_buttons);\n\nvar _menu = require(\"./flagrate/menu\");\n\nvar menu = _interopRequireWildcard(_menu);\n\nvar _pulldown = require(\"./flagrate/pulldown\");\n\nvar pulldown = _interopRequireWildcard(_pulldown);\n\nvar _textInput = require(\"./flagrate/text-input\");\n\nvar textInput = _interopRequireWildcard(_textInput);\n\nvar _tokenizer = require(\"./flagrate/tokenizer\");\n\nvar tokenizer = _interopRequireWildcard(_tokenizer);\n\nvar _textArea = require(\"./flagrate/text-area\");\n\nvar textArea = _interopRequireWildcard(_textArea);\n\nvar _comboBox = require(\"./flagrate/combo-box\");\n\nvar comboBox = _interopRequireWildcard(_comboBox);\n\nvar _select = require(\"./flagrate/select\");\n\nvar select = _interopRequireWildcard(_select);\n\nvar _contextMenu = require(\"./flagrate/context-menu\");\n\nvar contextMenu = _interopRequireWildcard(_contextMenu);\n\nvar _toolbar = require(\"./flagrate/toolbar\");\n\nvar toolbar = _interopRequireWildcard(_toolbar);\n\nvar _searchBox = require(\"./flagrate/search-box\");\n\nvar searchBox = _interopRequireWildcard(_searchBox);\n\nvar _checkbox = require(\"./flagrate/checkbox\");\n\nvar checkbox = _interopRequireWildcard(_checkbox);\n\nvar _checkboxes = require(\"./flagrate/checkboxes\");\n\nvar checkboxes = _interopRequireWildcard(_checkboxes);\n\nvar _radio = require(\"./flagrate/radio\");\n\nvar radio = _interopRequireWildcard(_radio);\n\nvar _radios = require(\"./flagrate/radios\");\n\nvar radios = _interopRequireWildcard(_radios);\n\nvar _switch = require(\"./flagrate/switch\");\n\nvar sw = _interopRequireWildcard(_switch);\n\nvar _progress = require(\"./flagrate/progress\");\n\nvar progress = _interopRequireWildcard(_progress);\n\nvar _slider = require(\"./flagrate/slider\");\n\nvar slider = _interopRequireWildcard(_slider);\n\nvar _tab = require(\"./flagrate/tab\");\n\nvar tab = _interopRequireWildcard(_tab);\n\nvar _popover = require(\"./flagrate/popover\");\n\nvar popover = _interopRequireWildcard(_popover);\n\nvar _tutorial = require(\"./flagrate/tutorial\");\n\nvar tutorial = _interopRequireWildcard(_tutorial);\n\nvar _notify = require(\"./flagrate/notify\");\n\nvar notify = _interopRequireWildcard(_notify);\n\nvar _modal = require(\"./flagrate/modal\");\n\nvar modal = _interopRequireWildcard(_modal);\n\nvar _grid = require(\"./flagrate/grid\");\n\nvar grid = _interopRequireWildcard(_grid);\n\nvar _form = require(\"./flagrate/form\");\n\nvar form = _interopRequireWildcard(_form);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar Flagrate = exports.Flagrate = undefined;\n(function (Flagrate) {\n   Flagrate.identity = util.identity;\n   Flagrate.extendObject = util.extendObject;\n   Flagrate.emptyFunction = util.emptyFunction;\n   Flagrate.jsonPointer = util.jsonPointer;\n   Flagrate.Element = element.Element;\n   Flagrate.createElement = element.createElement;\n   Flagrate.Button = button.Button;\n   Flagrate.createButton = button.createButton;\n   Flagrate.Buttons = buttons.Buttons;\n   Flagrate.createButtons = buttons.createButtons;\n   Flagrate.Menu = menu.Menu;\n   Flagrate.createMenu = menu.createMenu;\n   Flagrate.Pulldown = pulldown.Pulldown;\n   Flagrate.createPulldown = pulldown.createPulldown;\n   Flagrate.TextInput = textInput.TextInput;\n   Flagrate.createTextInput = textInput.createTextInput;\n   Flagrate.Tokenizer = tokenizer.Tokenizer;\n   Flagrate.createTokenizer = tokenizer.createTokenizer;\n   Flagrate.TextArea = textArea.TextArea;\n   Flagrate.createTextArea = textArea.createTextArea;\n   Flagrate.ComboBox = comboBox.ComboBox;\n   Flagrate.createComboBox = comboBox.createComboBox;\n   Flagrate.Select = select.Select;\n   Flagrate.createSelect = select.createSelect;\n   Flagrate.ContextMenu = contextMenu.ContextMenu;\n   Flagrate.createContextMenu = contextMenu.createContextMenu;\n   Flagrate.Toolbar = toolbar.Toolbar;\n   Flagrate.createToolbar = toolbar.createToolbar;\n   Flagrate.SearchBox = searchBox.SearchBox;\n   Flagrate.createSearchBox = searchBox.createSearchBox;\n   Flagrate.Checkbox = checkbox.Checkbox;\n   Flagrate.createCheckbox = checkbox.createCheckbox;\n   Flagrate.Checkboxes = checkboxes.Checkboxes;\n   Flagrate.createCheckboxes = checkboxes.createCheckboxes;\n   Flagrate.Radio = radio.Radio;\n   Flagrate.createRadio = radio.createRadio;\n   Flagrate.Radios = radios.Radios;\n   Flagrate.createRadios = radios.createRadios;\n   Flagrate.Switch = sw.Switch;\n   Flagrate.createSwitch = sw.createSwitch;\n   Flagrate.Progress = progress.Progress;\n   Flagrate.createProgress = progress.createProgress;\n   Flagrate.Slider = slider.Slider;\n   Flagrate.createSlider = slider.createSlider;\n   Flagrate.Tab = tab.Tab;\n   Flagrate.createTab = tab.createTab;\n   Flagrate.Popover = popover.Popover;\n   Flagrate.createPopover = popover.createPopover;\n   Flagrate.Tutorial = tutorial.Tutorial;\n   Flagrate.createTutorial = tutorial.createTutorial;\n   Flagrate.Notify = notify.Notify;\n   Flagrate.createNotify = notify.createNotify;\n   Flagrate.Modal = modal.Modal;\n   Flagrate.createModal = modal.createModal;\n   Flagrate.Grid = grid.Grid;\n   Flagrate.createGrid = grid.createGrid;\n   Flagrate.Form = form.Form;\n   Flagrate.createForm = form.createForm;\n})(Flagrate || (exports.Flagrate = Flagrate = {}));\nif (window.flagrate === undefined) {\n   window.flagrate = Flagrate;\n}\nexports.default = Flagrate;\n\n\n\n},{\"./flagrate/button\":9,\"./flagrate/buttons\":10,\"./flagrate/checkbox\":11,\"./flagrate/checkboxes\":12,\"./flagrate/combo-box\":13,\"./flagrate/context-menu\":14,\"./flagrate/element\":15,\"./flagrate/form\":16,\"./flagrate/grid\":17,\"./flagrate/menu\":18,\"./flagrate/modal\":19,\"./flagrate/notify\":20,\"./flagrate/popover\":21,\"./flagrate/progress\":22,\"./flagrate/pulldown\":23,\"./flagrate/radio\":24,\"./flagrate/radios\":25,\"./flagrate/search-box\":26,\"./flagrate/select\":27,\"./flagrate/slider\":28,\"./flagrate/switch\":29,\"./flagrate/tab\":30,\"./flagrate/text-area\":31,\"./flagrate/text-input\":32,\"./flagrate/tokenizer\":33,\"./flagrate/toolbar\":34,\"./flagrate/tutorial\":35,\"./flagrate/util\":36}],9:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Button = undefined;\nexports.createButton = createButton;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\n/*?\n    flagrate.createButton(option)\n    new flagrate.Button(option)\n    - option (Object) - options.\n\r\n    Button.\n\r\n    #### option\n\r\n    * `id`                       (String): `id` attribute of `button` element.\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): (using flagrate.Element.setStyle)\n    * `color`                    (String): (using flagrate.Button#setColor)\n    * `label`                    (String; default `\"\"`):\n    * `icon`                     (String):\n    * `isFocused`                (Boolean; default `false`):\n    * `isDisabled`               (Boolean; default `false`):\n    * `isRemovableByUser`        (Boolean; default `false`):\n    * `onSelect`                 (Function):\n    * `onRemove`                 (Function):\n**/\nfunction FButton() {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    option.isRemovableByUser = option.isRemovableByUser || false;\n    this.onSelect = option.onSelect || _util.emptyFunction;\n    this.onRemove = option.onRemove || _util.emptyFunction;\n    var attr = option.attribute || {};\n    if (option.id) {\n        attr[\"id\"] = option.id;\n    }\n    if (option.isFocused) {\n        attr[\"autofocus\"] = true;\n    }\n    if (!attr[\"type\"]) {\n        attr[\"type\"] = \"button\";\n    }\n    // create a button element\n    var button = new _element.Element(\"button\", attr);\n    (0, _util.extendObject)(button, this);\n    button.labelElement = new _element.Element(\"span\").insertTo(button);\n    if (option.label) {\n        button.labelElement.insertText(option.label);\n    } else if (option.labelHTML) {\n        button.labelElement.insert(option.labelHTML);\n    }\n    button.addClassName(\"flagrate flagrate-button\");\n    if (option.className) {\n        button.addClassName(option.className);\n    }\n    button.addEventListener(\"click\", button._onSelectHandler.bind(button), true);\n    if (option.isRemovableByUser) {\n        button.addClassName(\"flagrate-button-removable\");\n        button._removeButton = new _element.Element(\"button\", {\n            type: \"button\",\n            class: \"flagrate-button-remove\"\n        }).insertTo(button);\n        button._removeButton.addEventListener(\"click\", button._onRemoveHandler.bind(button), true);\n    }\n    if (option.style) {\n        button.setStyle(option.style);\n    }\n    if (option.color) {\n        button.setColor(option.color);\n    }\n    if (option.icon) {\n        button.setIcon(option.icon);\n    }\n    if (option.isDisabled) {\n        button.disable();\n    }\n    return button;\n}\nvar Button = exports.Button = FButton;\nfunction createButton(option) {\n    return new Button(option);\n}\nButton.prototype = {\n    select: function select() {\n        return this._onSelectHandler(null);\n    },\n    disable: function disable() {\n        this.addClassName(\"flagrate-disabled\");\n        this.writeAttribute(\"disabled\", true);\n        return this;\n    },\n    enable: function enable() {\n        this.removeClassName(\"flagrate-disabled\");\n        this.writeAttribute(\"disabled\", false);\n        return this;\n    },\n    isEnabled: function isEnabled() {\n        return !this.hasClassName(\"flagrate-disabled\");\n    },\n    setLabel: function setLabel(text) {\n        this.labelElement.updateText(text);\n        return this;\n    },\n    setLabelHTML: function setLabelHTML(html) {\n        this.labelElement.update(html);\n        return this;\n    },\n    setColor: function setColor(color) {\n        var button = this;\n        if (color.charAt(0) === \"@\") {\n            button.style.backgroundColor = \"\";\n            button.style.color = \"\";\n            button.addClassName(\"flagrate-button-color-\" + color.slice(1));\n        } else {\n            button.style.backgroundColor = color;\n            if (/^#[0-9a-f]{6}$/i.test(color) === true) {\n                var c = parseInt(color.slice(1), 16);\n                if (((c >> 16) + (c >> 8 & 0xff) + (c & 0xff)) / 3 > 150) {\n                    button.style.color = \"black\";\n                } else {\n                    button.style.color = \"white\";\n                }\n            } else {\n                button.style.color = \"\";\n            }\n        }\n        button._color = color;\n        return button;\n    },\n    getColor: function getColor() {\n        return this._color || \"\";\n    },\n    setIcon: function setIcon(identifier) {\n        var button = this;\n        button._iconIdentifier = identifier;\n        if (identifier) {\n            return button.addClassName(\"flagrate-icon\").setStyle({\n                backgroundImage: \"url(\" + identifier + \")\"\n            });\n        } else {\n            return button.removeClassName(\"flagrate-icon\").setStyle({\n                backgroundImage: \"none\"\n            });\n        }\n    },\n    getIcon: function getIcon() {\n        return this._iconIdentifier || \"\";\n    },\n    _onSelectHandler: function _onSelectHandler(e) {\n        var button = this;\n        if (button.isEnabled() === false) {\n            return;\n        }\n        // for Firefox <- until when..?\n        if (button._removeButton && e && e.layerX) {\n            var bw = button.getWidth();\n            var bh = button.getHeight();\n            var bp = button._removeButton.getStyle(\"margin-right\") === null ? 0 : parseInt(button._removeButton.getStyle(\"margin-right\").replace(\"px\", \"\"), 10);\n            var rw = button._removeButton.getWidth();\n            var rh = button._removeButton.getHeight();\n            var lx = e.layerX;\n            var ly = e.layerY;\n            var isHitRemoveButton = lx > bw - bp - rw && lx < bw - bp && ly > bh - (bh - rh) / 2 - rh && ly < bh - (bh - rh) / 2;\n            if (isHitRemoveButton) {\n                button._onRemoveHandler(e);\n                return button;\n            }\n        }\n        var _e = e;\n        _e.targetButton = button;\n        button.onSelect(_e, button);\n        button.fire(\"select\", { targetButton: button });\n    },\n    _onRemoveHandler: function _onRemoveHandler(e) {\n        var button = this;\n        if (button.isEnabled() === true) {\n            button.remove();\n            var _e = e;\n            _e.targetButton = button;\n            button.onRemove(_e, button);\n            button.fire(\"remove\", { targetButton: button });\n        }\n    }\n};\n\n\n\n},{\"./element\":15,\"./util\":36}],10:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Buttons = undefined;\nexports.createButtons = createButtons;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar _button = require(\"./button\");\n\nvar button = _interopRequireWildcard(_button);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*?\n    flagrate.createButtons(option)\n    new flagrate.Buttons(option)\n    - option (Object) - options.\n\r\n    Button group.\n\r\n    #### option\n\r\n    * `id`                       (String): `id` attribute of container element.\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `items`                    (Array): of item\n    * `onSelect`                 (Function):\n\r\n    #### item\n\r\n    * `key`                      (String):\n    * `label`                    (String; default `\"\"`):\n    * `icon`                     (String):\n    * `color`                    (String):\n    * `isDisabled`               (Boolean; default `false`):\n    * `onSelect`                 (Function):\n**/\nfunction FButtons() {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    option.items = option.items || [];\n    this.onSelect = option.onSelect || _util.emptyFunction;\n    var attr = option.attribute || {};\n    if (option.id) {\n        attr[\"id\"] = option.id;\n    }\n    // create a container\n    var container = new _element.Element(\"div\", attr);\n    (0, _util.extendObject)(container, this);\n    container.addClassName(\"flagrate flagrate-buttons\");\n    if (option.className) {\n        container.addClassName(option.className);\n    }\n    if (option.style) {\n        container.setStyle(option.style);\n    }\n    for (var i = 0, l = option.items.length; i < l; i++) {\n        container.push(option.items[i]);\n    }\n    container.addEventListener(\"click\", function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n    });\n    return container;\n}\nvar Buttons = exports.Buttons = FButtons;\nfunction createButtons(option) {\n    return new Buttons(option);\n}\nButtons.prototype = {\n    push: function push(option) {\n        var _this = this;\n\n        var _onSelect = option.onSelect;\n        option.onSelect = function (e, button) {\n            if (_onSelect) {\n                _onSelect.call(button, e, button);\n            }\n            _this.onSelect(e, _this);\n        };\n        var btn = new button.Button(option).insertTo(this);\n        if (option.key) {\n            btn.dataset[\"_key\"] = option.key;\n        }\n        return this;\n    },\n    getButtonByKey: function getButtonByKey(key) {\n        var elements = this.childNodes;\n        for (var i = 0, l = elements.length; i < l; i++) {\n            if (elements[i].dataset[\"_key\"] === key) {\n                return elements[i];\n            }\n        }\n        return null;\n    },\n    getButtons: function getButtons() {\n        return this.childNodes || [];\n    }\n};\n\n\n\n},{\"./button\":9,\"./element\":15,\"./util\":36}],11:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Checkbox = undefined;\nexports.createCheckbox = createCheckbox;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar idCounter = 0;\n/*?\n    flagrate.createCheckbox(option)\n    new flagrate.Checkbox(option)\n    - option (Object) - options.\n**/\nfunction FCheckbox() {\n    var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var id = \"flagrate-checkbox-\" + (++idCounter).toString(10);\n    var attr = opt.attribute || {};\n    attr[\"id\"] = opt.id || null;\n    attr[\"class\"] = opt.className || null;\n    //create\n    var checkbox = new _element.Element(\"label\", attr);\n    checkbox.writeAttribute(\"for\", id);\n    (0, _util.extendObject)(checkbox, this);\n    if (opt.label) {\n        checkbox.insertText(opt.label);\n    } else if (opt.labelHTML) {\n        checkbox.insert(opt.labelHTML);\n    }\n    checkbox.addClassName(\"flagrate flagrate-checkbox\");\n    if (opt.icon) {\n        checkbox.addClassName(\"flagrate-icon\");\n        checkbox.setStyle({\n            backgroundImage: \"url(\" + opt.icon + \")\"\n        });\n    }\n    checkbox.onChange = opt.onChange || null;\n    checkbox.onCheck = opt.onCheck || null;\n    checkbox.onUncheck = opt.onUncheck || null;\n    checkbox._input = new _element.Element(\"input\", { id: id, type: \"checkbox\" });\n    checkbox.insert({ top: new _element.Element() });\n    checkbox.insert({ top: checkbox._input });\n    checkbox._input.addEventListener(\"change\", function (e) {\n        e.stopPropagation();\n        var _e = e;\n        _e.targetCheckbox = checkbox;\n        if (checkbox.isChecked() === true) {\n            if (checkbox.onCheck) {\n                checkbox.onCheck(_e, checkbox);\n            }\n            checkbox.fire(\"check\", { targetCheckbox: checkbox });\n        } else {\n            if (checkbox.onUncheck) {\n                checkbox.onUncheck(_e, checkbox);\n            }\n            checkbox.fire(\"uncheck\", { targetCheckbox: checkbox });\n        }\n        if (checkbox.onChange) {\n            checkbox.onChange(_e, checkbox);\n        }\n        checkbox.fire(\"change\", { targetCheckbox: checkbox });\n    });\n    if (opt.isChecked === true) {\n        checkbox.check();\n    }\n    if (opt.isFocused === true) {\n        checkbox.focus();\n    }\n    if (opt.isDisabled === true) {\n        checkbox.disable();\n    }\n    return checkbox;\n}\nvar Checkbox = exports.Checkbox = FCheckbox;\nfunction createCheckbox(option) {\n    return new Checkbox(option);\n}\nCheckbox.prototype = {\n    disable: function disable() {\n        this.addClassName(\"flagrate-disabled\");\n        this._input.writeAttribute(\"disabled\", true);\n        return this;\n    },\n    enable: function enable() {\n        this.removeClassName(\"flagrate-disabled\");\n        this._input.writeAttribute(\"disabled\", false);\n        return this;\n    },\n    isEnabled: function isEnabled() {\n        return !this.hasClassName(\"flagrate-disabled\");\n    },\n    isChecked: function isChecked() {\n        return !!this._input.checked;\n    },\n    check: function check() {\n        this._input.checked = true;\n        return this;\n    },\n    uncheck: function uncheck() {\n        this._input.checked = false;\n        return this;\n    }\n};\n\n\n\n},{\"./element\":15,\"./util\":36}],12:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Checkboxes = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.createCheckboxes = createCheckboxes;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar _checkbox = require(\"./checkbox\");\n\n/*?\n    flagrate.createCheckboxes(option)\n    new flagrate.Checkboxes(option)\n    - option (Object) - options.\n**/\nfunction FCheckboxes() {\n    var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var attr = opt.attribute || {};\n    if (opt.id) {\n        attr[\"id\"] = opt.id;\n    }\n    //create\n    var checkboxes = new _element.Element(\"div\", attr);\n    (0, _util.extendObject)(checkboxes, this);\n    checkboxes.addClassName(\"flagrate flagrate-checkboxes\");\n    if (opt.className) {\n        checkboxes.addClassName(opt.className);\n    }\n    if (opt.style) {\n        checkboxes.setStyle(opt.style);\n    }\n    checkboxes.onChange = opt.onChange;\n    checkboxes._items = [];\n    (opt.items || []).forEach(function (item) {\n        var _item = {};\n        if ((typeof item === \"undefined\" ? \"undefined\" : _typeof(item)) === \"object\") {\n            (0, _util.extendObject)(_item, item);\n        } else {\n            _item.label = typeof item === \"string\" ? item : item.toString();\n            _item.value = item;\n        }\n        _item._checkbox = new _checkbox.Checkbox(_item).insertTo(checkboxes);\n        _item._checkbox.addEventListener(\"change\", function (e) {\n            if (checkboxes.onChange) {\n                checkboxes.onChange(e, checkboxes);\n            }\n        });\n        checkboxes._items.push(_item);\n    });\n    if (opt.isDisabled) {\n        checkboxes.disable();\n    }\n    if (opt.values) {\n        checkboxes.setValues(opt.values);\n    }\n    return checkboxes;\n}\nvar Checkboxes = exports.Checkboxes = FCheckboxes;\nfunction createCheckboxes(option) {\n    return new Checkboxes(option);\n}\nCheckboxes.prototype = {\n    select: function select(index) {\n        if (this._items[index]) {\n            this._items[index]._checkbox.check();\n        }\n        return this;\n    },\n    deselect: function deselect(index) {\n        if (this._items[index]) {\n            this._items[index]._checkbox.uncheck();\n        }\n        return this;\n    },\n    getValues: function getValues() {\n        var values = [];\n        for (var i = 0, l = this._items.length; i < l; i++) {\n            if (this._items[i]._checkbox.isChecked() === true) {\n                values.push(this._items[i].value);\n            }\n        }\n        return values;\n    },\n    addValue: function addValue(value) {\n        for (var i = 0, l = this._items.length; i < l; i++) {\n            if (this._items[i].value === value) {\n                this.select(i);\n                break;\n            }\n        }\n        return this;\n    },\n    removeValue: function removeValue(value) {\n        for (var i = 0, l = this._items.length; i < l; i++) {\n            if (this._items[i].value === value) {\n                this.deselect(i);\n                break;\n            }\n        }\n        return this;\n    },\n    setValues: function setValues(values) {\n        for (var i = 0, l = this._items.length; i < l; i++) {\n            if (values.indexOf(this._items[i].value) === -1) {\n                this.deselect(i);\n            } else {\n                this.select(i);\n            }\n        }\n        return this;\n    },\n    selectAll: function selectAll() {\n        for (var i = 0, l = this._items.length; i < l; i++) {\n            this.select(i);\n        }\n        return this;\n    },\n    deselectAll: function deselectAll() {\n        return this.setValues([]);\n    },\n    enable: function enable() {\n        for (var i = 0, l = this._items.length; i < l; i++) {\n            this._items[i]._checkbox.enable();\n        }\n        this.removeClassName(\"flagrate-disabled\");\n        return this;\n    },\n    disable: function disable() {\n        for (var i = 0, l = this._items.length; i < l; i++) {\n            this._items[i]._checkbox.disable();\n        }\n        this.addClassName(\"flagrate-disabled\");\n        return this;\n    },\n    isEnabled: function isEnabled() {\n        return !this.hasClassName(\"flagrate-disabled\");\n    }\n};\n\n\n\n},{\"./checkbox\":11,\"./element\":15,\"./util\":36}],13:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ComboBox = undefined;\nexports.createComboBox = createComboBox;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar _button = require(\"./button\");\n\nvar _menu = require(\"./menu\");\n\nvar _textInput = require(\"./text-input\");\n\n/*?\n    flagrate.createComboBox(option)\n    new flagrate.ComboBox(option)\n    - option (Object) - options.\n\r\n    Select.\n\r\n    #### option\n\r\n    * `id`                       (String): `id` attribute of container element.\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): (using flagrate.Element.setStyle)\n    * `value`                    (String): default value.\n    * `items`                    (Array): of String values.\n    * `placeholder`              (String):\n    * `icon`                     (String):\n    * `regexp`                   (RegExp):\n    * `isDisabled`               (Boolean; default `false`):\n**/\nfunction FComboBox() {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this.items = option.items || [];\n    this.regexp = option.regexp || null;\n    var attr = option.attribute || {};\n    if (option.id) {\n        attr[\"id\"] = option.id;\n    }\n    //create\n    var container = new _element.Element(\"div\", attr);\n    container._textinput = new _textInput.TextInput({\n        value: option.value,\n        placeholder: option.placeholder,\n        icon: option.icon\n    }).insertTo(container);\n    function createOnSelectHandler(value) {\n        return function () {\n            container.setValue(value);\n            container._textinput.focus();\n            container.fire(\"change\");\n        };\n    }\n    container._button = new _button.Button({\n        onSelect: function onSelect() {\n            if (container._menu) {\n                container._menu.remove();\n                delete container._menu;\n                return;\n            }\n            var items = [];\n            for (var i = 0, l = container.items.length; i < l; i++) {\n                items.push({\n                    label: container.items[i],\n                    onSelect: createOnSelectHandler(container.items[i])\n                });\n            }\n            var menu = container._menu = new _menu.Menu({\n                className: \"flagrate-combobox-menu\",\n                items: items,\n                onSelect: function onSelect() {\n                    menu.remove();\n                    delete container._menu;\n                }\n            }).insertTo(container);\n            // To prevent overflow.\n            var menuHeight = menu.getHeight();\n            var menuMargin = parseInt(menu.getStyle(\"margin-top\").replace(\"px\", \"\"), 10);\n            var cummOffsetTop = container.cumulativeOffset().top;\n            var upsideSpace = -window.pageYOffset + cummOffsetTop;\n            var downsideSpace = window.pageYOffset + window.innerHeight - cummOffsetTop - container.getHeight();\n            if (menuHeight + menuMargin > downsideSpace) {\n                if (upsideSpace > downsideSpace) {\n                    if (upsideSpace < menuHeight + menuMargin) {\n                        menuHeight = upsideSpace - menuMargin - menuMargin;\n                        menu.style.maxHeight = menuHeight + \"px\";\n                    }\n                    menu.addClassName(\"flagrate-combobox-menu-upper\");\n                } else {\n                    menuHeight = downsideSpace - menuMargin - menuMargin;\n                    menu.style.maxHeight = menuHeight + \"px\";\n                }\n            }\n            function removeMenu(e) {\n                document.body.removeEventListener(\"click\", removeMenu);\n                container.parentNode.removeEventListener(\"click\", removeMenu);\n                container.off(\"click\", removeMenu);\n                menu.style.opacity = \"0\";\n                setTimeout(function () {\n                    return menu.remove();\n                }, 500);\n                delete container._menu;\n            }\n            setTimeout(function () {\n                document.body.addEventListener(\"click\", removeMenu);\n                container.parentNode.addEventListener(\"click\", removeMenu);\n                container.on(\"click\", removeMenu);\n            }, 0);\n        }\n    }).insertTo(container);\n    (0, _util.extendObject)(container, this);\n    container.addClassName(\"flagrate flagrate-combobox\");\n    if (option.className) {\n        container.addClassName(option.className);\n    }\n    if (option.style) {\n        container.setStyle(option.style);\n    }\n    if (option.isDisabled) {\n        container.disable();\n    }\n    return container;\n}\nvar ComboBox = exports.ComboBox = FComboBox;\nfunction createComboBox(option) {\n    return new ComboBox(option);\n}\nComboBox.prototype = {\n    disable: function disable() {\n        this.addClassName(\"flagrate-disabled\");\n        this._textinput.disable();\n        this._button.disable();\n        return this;\n    },\n    enable: function enable() {\n        this.removeClassName(\"flagrate-disabled\");\n        this._textinput.enable();\n        this._button.enable();\n        return this;\n    },\n    isEnabled: function isEnabled() {\n        return !this.hasClassName(\"flagrate-disabled\");\n    },\n    getValue: function getValue() {\n        return this._textinput.value;\n    },\n    setValue: function setValue(value) {\n        this._textinput.value = value;\n        return this;\n    },\n    setIcon: function setIcon(identifier) {\n        this._textinput.setIcon(identifier);\n        return this;\n    },\n    getIcon: function getIcon() {\n        return this._textinput.getIcon();\n    },\n    isValid: function isValid() {\n        return this.regexp.test(this.getValue());\n    }\n};\n\n\n\n},{\"./button\":9,\"./element\":15,\"./menu\":18,\"./text-input\":32,\"./util\":36}],14:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ContextMenu = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.createContextMenu = createContextMenu;\n\nvar _menu = require(\"./menu\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*?\n    flagrate.createContextMenu(option)\n    new flagrate.ContextMenu(option)\n    - option (Object) - options.\n\r\n    ContextMenu.\n\r\n    #### option\n\r\n    * `target`                   (Element):\n    * `items`                    (Array): of item (see: flagrate.Menu)\n**/\nvar ContextMenu = exports.ContextMenu = function () {\n    function ContextMenu() {\n        var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, ContextMenu);\n\n        this._openHandler = this.open.bind(this);\n        this._closeHandler = this.close.bind(this);\n        this.items = option.items || [];\n        this._isShowing = false;\n        this.setTarget(option.target || document.body);\n    }\n\n    _createClass(ContextMenu, [{\n        key: \"setTarget\",\n        value: function setTarget(target) {\n            if (this._target) {\n                this._target.removeEventListener(\"contextmenu\", this._openHandler);\n            }\n            target.addEventListener(\"contextmenu\", this._openHandler);\n            this._target = target;\n            return this;\n        }\n    }, {\n        key: \"open\",\n        value: function open(e) {\n            if (e && e.preventDefault) {\n                e.preventDefault();\n            }\n            if (this._isShowing === true) {\n                this.close();\n            }\n            this._isShowing = true;\n            this._menu = new _menu.Menu({\n                className: \"flagrate-context-menu\",\n                items: this.items,\n                onSelect: this._closeHandler\n            });\n            var x = 0;\n            var y = 0;\n            if (e && e.clientX && e.clientY) {\n                x = e.clientX;\n                y = e.clientY;\n            }\n            this._menu.style.opacity = \"0\";\n            this._menu.insertTo(document.body);\n            if (x + this._menu.getWidth() > window.innerWidth) {\n                x = x - this._menu.getWidth() + 1;\n            }\n            if (y + this._menu.getHeight() > window.innerHeight) {\n                y = y - this._menu.getHeight() + 1;\n            }\n            this._menu.style.top = y + \"px\";\n            this._menu.style.left = x + \"px\";\n            this._menu.style.opacity = \"1\";\n            document.body.addEventListener(\"click\", this._closeHandler);\n            document.body.addEventListener(\"mouseup\", this._closeHandler);\n            document.body.addEventListener(\"mousewheel\", this._closeHandler);\n            return this;\n        }\n    }, {\n        key: \"close\",\n        value: function close() {\n            document.body.removeEventListener(\"click\", this._closeHandler);\n            document.body.removeEventListener(\"mouseup\", this._closeHandler);\n            document.body.removeEventListener(\"mousewheel\", this._closeHandler);\n            this._isShowing = false;\n            var menu = this._menu;\n            setTimeout(function () {\n                if (menu && menu.remove) {\n                    menu.remove();\n                }\n            }, 0);\n            delete this._menu;\n            return this;\n        }\n        /** Tells whether the visibility. */\n\n    }, {\n        key: \"visible\",\n        value: function visible() {\n            return this._isShowing;\n        }\n        /** remove the elements and listeners. */\n\n    }, {\n        key: \"remove\",\n        value: function remove() {\n            if (this._menu) {\n                this.close();\n            }\n            if (this._target) {\n                this._target.removeEventListener(\"contextmenu\", this._openHandler);\n            }\n        }\n    }]);\n\n    return ContextMenu;\n}();\n\nfunction createContextMenu(option) {\n    return new ContextMenu(option);\n}\n\n\n\n},{\"./menu\":18}],15:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createElement = exports.Element = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _util = require(\"./util\");\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _cache = {};\nvar _insertionTranslation = {\n    before: function before(element, node) {\n        element.parentNode.insertBefore(node, element);\n    },\n    top: function top(element, node) {\n        element.insertBefore(node, element.firstChild);\n    },\n    bottom: function bottom(element, node) {\n        element.appendChild(node);\n    },\n    after: function after(element, node) {\n        element.parentNode.insertBefore(node, element.nextSibling);\n    }\n};\n/*?\n    flagrate.createElement([tagName = \"div\", attribute])\n    new flagrate.Element([tagName = \"div\", attribute])\n    - tagName (String) - The name of the HTML element to create.\n    - attribute (Attribute) - An optional group of attribute/value pairs to set on the element.\n\r\n    Creates an HTML element with `tagName` as the tag name, optionally with the given attributes.\n\r\n    #### Example\n\r\n        // The old way:\n        var a = document.createElement(\"a\");\n        a.setAttribute(\"class\", \"foo\");\n        a.setAttribute(\"href\", \"/foo.html\");\n        a.appendChild(document.createTextNode(\"Next page\"));\n        x.appendChild(a);\n\r\n        // The new way:\n        var a = flagrate.createElement(\"a\", { \"class\": \"foo\", href: \"/foo.html\" })\n                        .insertText(\"Next page\")\n                        .insertTo(x);\n**/\nfunction FElement() {\n    var tagName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"div\";\n    var attribute = arguments[1];\n\n    var node = void 0;\n    if (_cache[tagName]) {\n        node = _cache[tagName].cloneNode(false);\n    } else if (attribute && attribute.hasOwnProperty(\"type\") || tagName === \"select\") {\n        node = document.createElement(tagName);\n    } else {\n        node = document.createElement(tagName);\n        _cache[tagName] = node.cloneNode(false);\n    }\n    (0, _util.extendObject)(node, this);\n    return attribute ? node.writeAttribute(attribute) : node;\n}\nvar Element = exports.Element = FElement;\nfunction _createElement(tagName, attribute) {\n    return new Element(tagName, attribute);\n}\nvar createElement = exports.createElement = _createElement;\nElement.prototype = {\n    isFlagrated: true\n};\n/*?\n    flagrate.Element.visible(element) -> Boolean\n    - element (Element) - instance of Element.\n\r\n    Tells whether `element` is visible\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/visible/\n**/\nElement.visible = function (element) {\n    return element.style.display !== \"none\";\n};\n/*?\n    flagrate.Element.exists(element) -> Boolean\n    - element (Element) - instance of Element.\n\r\n    Tells whether `element` is exists on document.\n**/\nElement.exists = function (element) {\n    if (element.parentNode) {\n        while ((element = element.parentNode) !== null) {\n            if (element === document) {\n                return true;\n            }\n        }\n    }\n    return false;\n};\n/*?\n    flagrate.Element.toggle(element) -> Element\n    - element (Element) - instance of Element.\n\r\n    Toggles the visibility of `element`. Returns `element`.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/toggle/\n**/\nElement.toggle = function (element) {\n    return Element[Element.visible(element) ? \"hide\" : \"show\"](element);\n};\n/*?\n    flagrate.Element.hide(element) -> Element\n    - element (Element) - instance of Element.\n\r\n    Sets `display: none` on `element`. Returns `element`.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/hide/\n**/\nElement.hide = function (element) {\n    element.style.display = \"none\";\n    return element;\n};\n/*?\n    flagrate.Element.show(element) -> Element\n    - element (Element) - instance of Element.\n\r\n    Removes `display: none` on `element`. Returns `element`.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/show/\n**/\nElement.show = function (element) {\n    element.style.display = \"\";\n    return element;\n};\n/*?\n    flagrate.Element.remove(element) -> void\n    - element (Element) - instance of Element.\n\r\n    Completely removes `element` from the document and returns it.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/remove/\n**/\nElement.remove = function (element) {\n    if (element.parentNode) {\n        element.parentNode.removeChild(element);\n    }\n    return;\n};\n/*?\n    flagrate.Element.update(element[, newContent]) -> Element\n    - element (Element) - instance of Element.\n    - newContent (String|Number|Element) - new content.\n\r\n    Replaces _the content_ of `element` with the `newContent` argument and\n    returns `element`.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/update/\n**/\nElement.update = function (element, content) {\n    var i = element.childNodes.length;\n    while (i--) {\n        Element.remove(element.childNodes[i]);\n    }\n    if (!content) {\n        return element;\n    }\n    if (Element.isElement(content) === true) {\n        element.appendChild(content);\n        return element;\n    }\n    if (typeof content !== \"string\") {\n        content = content.toString(10);\n    }\n    element.innerHTML = content;\n    return element;\n};\n/*?\n    flagrate.Element.updateText(element[, newContent]) -> Element\n    - element (Element) - instance of Element.\n    - newContent (String|Number) - new text content.\n**/\nElement.updateText = function (element, content) {\n    var i = element.childNodes.length;\n    while (i--) {\n        Element.remove(element.childNodes[i]);\n    }\n    if (content === undefined) {\n        return element;\n    }\n    if (Element.isElement(content) === true && content.toString !== void 0) {\n        return Element.updateText(element, content.toString());\n    }\n    if (typeof content !== \"string\") {\n        content = content.toString(10);\n    }\n    element.appendChild(document.createTextNode(content));\n    return element;\n};\n/*?\n    flagrate.Element.insert(element, content) -> Element\n    - element (Element) - instance of Element.\n    - content (String|Number|Element|Object) - The content to insert\n\r\n    Inserts content `above`, `below`, at the `top`, and/or at the `bottom` of\n    the given element, depending on the option(s) given.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/insert/\n**/\nElement.insert = function (element, insertion) {\n    if (typeof insertion === \"string\" || typeof insertion === \"number\" || Element.isElement(insertion) === true) {\n        insertion = { bottom: insertion };\n    }\n    var position = void 0,\n        content = void 0,\n        insert = void 0,\n        div = void 0;\n    for (position in insertion) {\n        if (insertion.hasOwnProperty(position)) {\n            content = insertion[position];\n            position = position.toLowerCase();\n            insert = _insertionTranslation[position];\n            if (Element.isElement(content) === true) {\n                insert(element, content);\n                continue;\n            }\n            if (typeof content !== \"string\") {\n                content = content.toString(10);\n            }\n            div = new Element();\n            div.innerHTML = content;\n            if (position === \"top\" || position === \"after\") {\n                [].concat(_toConsumableArray(div.childNodes)).reverse();\n            }\n            while (div.childNodes.length !== 0) {\n                insert(element, div.childNodes[0]);\n            }\n        }\n    }\n    return element;\n};\n/*?\n    flagrate.Element.insertText(element, content) -> Element\n    - element (Element) - instance of Element.\n    - content (String|Number|Object) - The content to insert\n\r\n    Inserts content `above`, `below`, at the `top`, and/or at the `bottom` of\n    the given element, depending on the option(s) given.\n**/\nElement.insertText = function (element, insertion) {\n    if (typeof insertion === \"string\" || typeof insertion === \"number\") {\n        insertion = { bottom: insertion };\n    }\n    var position = void 0,\n        content = void 0,\n        insert = void 0;\n    for (position in insertion) {\n        if (insertion.hasOwnProperty(position)) {\n            content = insertion[position];\n            position = position.toLowerCase();\n            insert = _insertionTranslation[position];\n            if (typeof content !== \"string\") {\n                content = content.toString(10);\n            }\n            insert(element, document.createTextNode(content));\n        }\n    }\n    return element;\n};\n/*?\n    flagrate.Element.insertTo(element, to[, position = \"bottom\"]) -> Element\n    - element (Element) - insert this.\n    - to (Element) - insert to this element.\n    - position (String) - `before` or `top` or `bottom` or `after`.\n**/\nElement.insertTo = function (element, to) {\n    var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"bottom\";\n\n    var insertion = {};\n    if (position) {\n        insertion[position] = element;\n    } else {\n        insertion[\"bottom\"] = element;\n    }\n    Element.insert(to, insertion);\n    return element;\n};\n/*?\n    flagrate.Element.readAttribute(element, attributeName) -> String | null\n    - element (Element) - instance of Element.\n    - attributeName (String) - attribute name.\n\r\n    Returns the value of `element`'s `attribute` or `null` if `attribute` has\n    not been specified.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/readAttribute/\n**/\nElement.readAttribute = function (element, name) {\n    // ref: https://github.com/sstephenson/prototype/blob/1fb9728/src/dom/dom.js#L1856\n    return element.getAttribute(name);\n};\n/*?\n    flagrate.Element.writeAttribute(element, attribute[, value = true]) -> Element\n    - element (Element) - instance of Element.\n    - attribute (String|Object) - attribute name or name/value pairs object.\n    - value (Boolean|String) - value of attribute.\n\r\n    Adds, specifies or removes attributes passed as either a hash or a name/value pair.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/writeAttribute/\n**/\nElement.writeAttribute = function (element, name, value) {\n    var attr = void 0;\n    if ((typeof name === \"undefined\" ? \"undefined\" : _typeof(name)) === \"object\") {\n        attr = name;\n    } else {\n        attr = {};\n        attr[name] = value === undefined ? true : value;\n    }\n    var k = void 0;\n    for (k in attr) {\n        if (attr.hasOwnProperty(k) === true) {\n            value = attr[k];\n            if (value === false || value === null) {\n                element.removeAttribute(k);\n            } else if (value === true) {\n                element.setAttribute(k, k);\n            } else if (value !== undefined) {\n                element.setAttribute(k, value);\n            }\n        }\n    }\n    return element;\n};\n/*?\n    flagrate.Element.getDimensions(element) -> Object\n    - element (Element) - instance of Element.\n\r\n    Finds the computed width and height of `element` and returns them as\n    key/value pairs of an object.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/getDimensions/\n**/\nElement.getDimensions = function (element) {\n    var display = Element.getStyle(element, \"display\");\n    if (display && display !== \"none\") {\n        return {\n            width: element.offsetWidth,\n            height: element.offsetHeight\n        };\n    }\n    var before = {\n        visibility: element.style.visibility,\n        position: element.style.position,\n        display: element.style.display\n    };\n    var after = {\n        visibility: \"hidden\",\n        display: \"block\"\n    };\n    // Switching `fixed` to `absolute` causes issues in Safari.\n    if (before.position !== \"fixed\") {\n        after.position = \"absolute\";\n    }\n    Element.setStyle(element, after);\n    var dimensions = {\n        width: element.offsetWidth,\n        height: element.offsetHeight\n    };\n    Element.setStyle(element, before);\n    return dimensions;\n};\n/*?\n    flagrate.Element.getHeight(element) -> Number\n    - element (Element) - instance of Element.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/getHeight/\n**/\nElement.getHeight = function (element) {\n    return Element.getDimensions(element).height;\n};\n/*?\n    flagrate.Element.getWidth(element) -> Number\n    - element (Element) - instance of Element.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/getWidth/\n**/\nElement.getWidth = function (element) {\n    return Element.getDimensions(element).width;\n};\n/*?\n    flagrate.Element.cumulativeOffset(element) -> Object\n    - element (Element) - instance of Element.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/cumulativeOffset/\n**/\nElement.cumulativeOffset = function (element) {\n    var t = 0,\n        l = 0;\n    if (element.parentNode) {\n        do {\n            t += element.offsetTop || 0;\n            l += element.offsetLeft || 0;\n            element = element.offsetParent;\n        } while (element);\n    }\n    return {\n        top: t,\n        left: l\n    };\n};\n/*?\n    flagrate.Element.cumulativeScrollOffset(element) -> Object\n    - element (Element) - instance of Element.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/cumulativeScrollOffset/\n**/\nElement.cumulativeScrollOffset = function (element) {\n    var t = 0,\n        l = 0;\n    do {\n        t += element.scrollTop || 0;\n        l += element.scrollLeft || 0;\n        // for Chrome\n        if (element.parentNode === document.body && document.documentElement.scrollTop !== 0) {\n            element = document.documentElement;\n        } else {\n            element = element.parentNode;\n        }\n    } while (element);\n    return {\n        top: t,\n        left: l\n    };\n};\n/*?\n    Flagrate.Element.hasClassName(element, className) -> Boolean\n    - element (Element) - instance of Element.\n    - className (String) -\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/hasClassName/\n**/\nElement.hasClassName = function (element, className) {\n    return element.className.length > 0 && (element.className === className || new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\").test(element.className));\n};\n/*?\n    flagrate.Element.addClassName(element, className) -> Element\n    - element (Element) - instance of Element.\n    - className (String) - The class name to add.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/addClassName/\n**/\nElement.addClassName = function (element, className) {\n    if (!Element.hasClassName(element, className)) {\n        element.className += (element.className ? \" \" : \"\") + className;\n    }\n    return element;\n};\n/*?\n    flagrate.Element.removeClassName(element, className) -> Element\n    - element (Element) - instance of Element.\n    - className (String) -\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/removeClassName/\n**/\nElement.removeClassName = function (element, className) {\n    element.className = element.className.replace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").trim();\n    return element;\n};\n/*?\n    flagrate.Element.toggleClassName(element, className) -> Element\n    - element (Element) - instance of Element.\n    - className (String) -\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/toggleClassName/\n**/\nElement.toggleClassName = function (element, className) {\n    return Element[Element.hasClassName(element, className) ? \"removeClassName\" : \"addClassName\"](element, className);\n};\n/*?\n    flagrate.Element.getStyle(element, propertyName) -> String | Number | null\n    - element (Element) - instance of Element.\n    - propertyName (String) - The property name of style to be retrieved.\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/getStyle/\n**/\nElement.getStyle = function (element, style) {\n    style = style === \"float\" ? \"cssFloat\" : style.replace(/-+([a-z])?/g, function (m, s) {\n        return s ? s.toUpperCase() : \"\";\n    });\n    var value = element.style[style];\n    if (!value || value === \"auto\") {\n        var css = document.defaultView.getComputedStyle(element, null);\n        value = css && css[style] !== void 0 && css[style] !== \"\" ? css[style] : null;\n    }\n    if (style === \"opacity\") {\n        return value ? parseFloat(value) : 1.0;\n    }\n    return value === \"auto\" ? null : value;\n};\n/*?\n    flagrate.Element.setStyle(element, style) -> Element\n    - element (Element) - instance of Element.\n    - style (Object) -\n\r\n    This method is similar to http://api.prototypejs.org/dom/Element/setStyle/\n**/\nElement.setStyle = function (element, style) {\n    var p = void 0;\n    for (p in style) {\n        if (style.hasOwnProperty(p)) {\n            element.style[p === \"float\" || p === \"cssFloat\" ? \"cssFloat\" : p] = style[p];\n        }\n    }\n    return element;\n};\n/*?\n    flagrate.Element.on(element, eventName, listener[, useCapture = false]) -> Element\n    - element (Element) - instance of Element.\n    - eventName (String) - name of event.\n    - listener (Function) - The function to call when the event occurs.\n    - useCapture (Boolean) -\n\r\n    Registers an event handler on a DOM element.\n**/\nElement.on = function (element, name, listener, useCapture) {\n    if (element._flagrateEvent === undefined) {\n        element._flagrateEvent = {};\n    }\n    if (element._flagrateEvent[name] === undefined) {\n        element._flagrateEvent[name] = [];\n    }\n    element._flagrateEvent[name].push({\n        listener: listener,\n        useCapture: useCapture\n    });\n    element.addEventListener(name, listener, useCapture || false);\n    return element;\n};\n/*?\n    flagrate.Element.off(element, eventName[, listener, useCapture = false]) -> Element\n    - element (Element) - instance of Element.\n    - eventName (String) - name of event.\n    - listener (Function) - The function to call when the event occurs.\n    - useCapture (Boolean) -\n\r\n    Unregisters an event handler on a DOM element.\n**/\nElement.off = function (element, name, listener, useCapture) {\n    if (listener) {\n        element.removeEventListener(name, listener, useCapture || false);\n        return;\n    }\n    if (element._flagrateEvent === undefined) {\n        element._flagrateEvent = {};\n    }\n    if (element._flagrateEvent[name] === undefined) {\n        element._flagrateEvent[name] = [];\n    }\n    element._flagrateEvent[name].forEach(function (fevent) {\n        element.removeEventListener(name, fevent.listener, fevent.useCapture || false);\n    });\n    return element;\n};\n/*?\n    flagrate.Element.fire(element, eventName[, property]) -> Element\n    - element (Element) - instance of Element.\n    - eventName (String) - name of event.\n    - property (Object) -\n\r\n    Fires a custom event.\n**/\nElement.fire = function (element, name, property) {\n    var event = document.createEvent(\"HTMLEvents\");\n    event.initEvent(name, true, true);\n    if (property) {\n        (0, _util.extendObject)(event, property);\n    }\n    element.dispatchEvent(event);\n    return element;\n};\n/*?\n    flagrate.Element.emit(element, eventName[, property]) -> Element\n    Alias of: flagrate.Element.fire\n**/\nElement.emit = Element.fire;\n//\n// create instance methods\n//\nfor (var name in Element) {\n    if (!(name in Element.prototype)) {\n        Element.prototype[name] = wrapper(name);\n    }\n}\nfunction wrapper(name) {\n    return function () {\n        return Element[name].apply(Element, [this].concat(Array.prototype.slice.call(arguments)));\n    };\n}\n//\n// extra class methods\n//\n/*?\n    flagrate.Element.extend(element) -> flagrate.Element\n    - element (Element) - instance of Element.\n\r\n    Extends the given `element` instance.\n\r\n    **Caution**: This method will add Flagrate.Element instance methods to given element instance.\n**/\nElement.extend = function (element) {\n    if (element.isFlagrated) {\n        return element;\n    }\n    (0, _util.extendObject)(element, Element.prototype);\n    return element;\n};\n/*?\n    flagrate.Element.isElement(element) -> Boolean\n    - element (Element) - instance of Element.\n**/\nif ((typeof HTMLElement === \"undefined\" ? \"undefined\" : _typeof(HTMLElement)) === \"object\") {\n    Element.isElement = function (object) {\n        return object instanceof HTMLElement;\n    };\n} else {\n    Element.isElement = function (object) {\n        return !!(object && object.nodeType === 1 && typeof object.nodeName === \"string\");\n    };\n}\n\n\n\n},{\"./util\":36}],16:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Form = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.createForm = createForm;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar _textInput = require(\"./text-input\");\n\nvar _textArea = require(\"./text-area\");\n\nvar _comboBox = require(\"./combo-box\");\n\nvar _checkbox = require(\"./checkbox\");\n\nvar _checkboxes = require(\"./checkboxes\");\n\nvar _switch = require(\"./switch\");\n\nvar _radios = require(\"./radios\");\n\nvar _select = require(\"./select\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*?\n    flagrate.createForm(option)\n    new flagrate.Form(option)\n    - option (Object) - configuration.\n\r\n    Create and initialize the Form.\n\r\n    #### option\n\r\n    * `fields`                   (Array; default `[]`): of **[field](#field)** object.\n    * `id`                       (String): `id` attribute of container.\n    * `className`                (String): `class` attribute of container.\n    * `attribute`                (Object): additional attribute of container.\n    * `style`                    (Object): style of container. (using flagrate.Element.setStyle)\n    * `nolabel`                  (Boolean; default `false`): hide labels.\n    * `vertical`                 (Boolean; default `false`): vertical label style.\n\r\n    #### field\n\r\n    * `key`                      (String):\n    * `pointer`                  (String|null):\n    * `label`                    (String; default `\"\"`):\n    * `icon`                     (String):\n    * `text`                     (String):\n    * `html`                     (String):\n    * `element`                  (Element):\n    * `input`                    (Object): see **[input](#input)**\n    * `depends`                  (Array): of **[depend](#depend)**\n    * `id`                       (String): `id` attribute of container.\n    * `className`                (String): `class` attribute of container.\n    * `attribute`                (Object): additional attribute of container.\n    * `style`                    (Object): style of container. (using flagrate.Element.setStyle)\n\r\n    #### input\n\r\n    * `type`                     (String|Object; **required**): **[inputtype](#inputType)** String or Object\n    * `val`                      (any): default value(s) of this input.\n    * `isRequired`               (Boolean; default `false`):\n    * `min`                      (Number): (simple validator)\n    * `max`                      (Number): (simple validator)\n    * `minLength`                (Number): (simple validator)\n    * `maxLength`                (Number): (simple validator)\n    * `validators`               (Array): of **[inputValidator](#inputvalidator)** String or Object or Function.\n    * `toString`                 (Boolean; default `false`): if NOT String, use [#toString()](https://developer.mozilla.org/ja/docs/toString) before resulting.\n    * `trim`                     (Boolean; default `false`): if String, use [String#trim()](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/String/trim) before resulting.\n    * `toNumber`                 (Boolean; default `false`): if NOT Number, tries to convert to Number.\n    * `transform`                (Function): alternate result transform/converting function. (only sync)\n    * `id`                       (String): `id` attribute of input element.\n\r\n    #### depend\n\r\n    * `key`                      (String): unique key for identifying fields. if looking result, must change to use the pointer.\n    * `pointer`                  (String):\n    * `val`                      (any):\n    * `op`                       (String): `===`, `!==`, `>=`, `<=`, `>`, `<`, `in`\n    * `tester`                   (Function): alternate testing function. this disables normal testing. (only sync)\n\r\n    #### inputType\n\r\n    if specified a String, will use flagrate.Form.inputType[(specified)].\n\r\n    #### inputValidator\n\r\n    if specified a String, will use flagrate.Form.inputValidator[(specified)].\n\r\n        // Example: custom validator\n        validators: [\n            // using regex:\n            {\n                regexp: /^[a-z0-9]+(-[a-z0-9]+)*(\\.([a-z0-9]+(-[a-z0-9]+)*))*$/i,\n                error: \"Please enter a valid hostname string.\"\n            },\n            // using async function:\n            function (input, done) {\n                someAsyncFunction(input, function (err, result) {\n                    if (err) {\n                        done(\"error\", \"This hostname is already in use. (\" + err + \")\");\n                    } else {\n                        done(\"success\");\n                    }\n                });\n            },\n            // using sync function:\n            function (input, done) {\n                var err = someSyncFunction(input);\n                if (err) {\n                    done(\"error\", \"This hostname is prohibited. (\" + err + \")\");\n                } else {\n                    done(\"success\");\n                }\n            }\n        ]\n\r\n    see flagrate.Form.inputValidator to read more documents.\n**/\nvar Form = exports.Form = function () {\n    function Form() {\n        var _opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, Form);\n\n        this._opt = _opt;\n        this._fields = [];\n        this._nolabel = false;\n        this._vertical = false;\n        this.element = new _element.Element(\"form\", { \"class\": \"flagrate flagrate-form\" });\n        this._id = \"flagrate-form-\" + (++Form.idCounter).toString(10);\n        if (_opt.nolabel === true) {\n            this._nolabel = true;\n        }\n        if (_opt.vertical === true) {\n            this._vertical = true;\n        }\n        this._create();\n        if (_opt.fields && _opt.fields.length !== 0) {\n            this.push(_opt.fields);\n        }\n    }\n\n    _createClass(Form, [{\n        key: \"insertTo\",\n        value: function insertTo(element, pos) {\n            return this.element.insertTo(element, pos) && this;\n        }\n    }, {\n        key: \"on\",\n        value: function on(eventType, listener, useCapture) {\n            return this.element.on(eventType, listener, useCapture) && this;\n        }\n    }, {\n        key: \"off\",\n        value: function off(eventType, listener, useCapture) {\n            return this.element.off(eventType, listener, useCapture) && this;\n        }\n        /** Returns a result Object. */\n\n    }, {\n        key: \"getResult\",\n        value: function getResult() {\n            var result = {};\n            for (var i = 0, l = this._fields.length; i < l; i++) {\n                var field = this._fields[i];\n                if (!field.key && typeof field.pointer !== \"string\" || field._dependsIsOk !== true) {\n                    continue;\n                }\n                if (field.pointer === null) {\n                    // null pointer\n                    continue;\n                }\n                if (typeof field.pointer === \"string\") {\n                    _util.jsonPointer.set(result, field.pointer, field.getVal());\n                } else if (field.key) {\n                    result[field.key] = field.getVal();\n                }\n            }\n            return result;\n        }\n        /*?\n            #### Example\n                  form.validate(function(success) {\n                    if (success) {\n                        console.log(\"form is valid.\");\n                    } else {\n                        console.log(\"form is invalid.\");\n                    }\n                });\n        **/\n\n    }, {\n        key: \"validate\",\n        value: function validate(callback) {\n            var fields = [];\n            for (var i = 0, l = this._fields.length; i < l; i++) {\n                var field = this._fields[i];\n                if (field._dependsIsOk === true && field.input && field.input.type) {\n                    fields.push(field);\n                }\n            }\n            var hasError = false;\n            function fin() {\n                if (callback) {\n                    callback(!hasError);\n                }\n            }\n            function done(result) {\n                if (result === false) {\n                    hasError = true;\n                }\n                run();\n            }\n            function run() {\n                if (fields.length === 0) {\n                    return fin();\n                }\n                fields.shift().validate(done);\n            }\n            run();\n            return this;\n        }\n    }, {\n        key: \"enable\",\n        value: function enable() {\n            for (var i = 0, l = this._fields.length; i < l; i++) {\n                var field = this._fields[i];\n                if (field.input && field.input.type) {\n                    field.input.type.enable.call(field.input);\n                }\n            }\n            return this;\n        }\n    }, {\n        key: \"disable\",\n        value: function disable() {\n            for (var i = 0, l = this._fields.length; i < l; i++) {\n                var field = this._fields[i];\n                if (field.input && field.input.type) {\n                    field.input.type.disable.call(field.input);\n                }\n            }\n            return this;\n        }\n    }, {\n        key: \"getField\",\n        value: function getField(key) {\n            for (var i = 0, l = this._fields.length; i < l; i++) {\n                var field = this._fields[i];\n                if (field.key && field.key === key) {\n                    return field;\n                }\n            }\n            return null;\n        }\n    }, {\n        key: \"push\",\n        value: function push(f) {\n            if (f instanceof Array) {\n                for (var i = 0, l = f.length; i < l; i++) {\n                    this._createField(f[i]);\n                    this._fields.push(f[i]);\n                }\n            } else {\n                this._createField(f);\n                this._fields.push(f);\n            }\n            for (var _i = 0, _l = this._fields.length; _i < _l; _i++) {\n                this._collectFieldRefs(this._fields[_i]);\n                this._checkFieldDepends(this._fields[_i]);\n            }\n            this._requestRender();\n            return this._fields.length;\n        }\n    }, {\n        key: \"splice\",\n        value: function splice(index, c, f) {\n            c = typeof c === \"undefined\" ? this._fields.length - index : c;\n            var removes = this._fields.splice(index, c);\n            for (var i = 0, l = removes.length; i < l; i++) {\n                if (removes[i].container) {\n                    removes[i].container.remove();\n                    delete removes[i].container;\n                }\n            }\n            if (f) {\n                if (f instanceof Array === false) {\n                    f = [f];\n                }\n                for (var _i2 = 0, _l2 = f.length; _i2 < _l2; _i2++) {\n                    this._createField(f[_i2]);\n                    this._fields.splice(index + _i2, 0, f[_i2]);\n                }\n            }\n            for (var _i3 = 0, _l3 = this._fields.length; _i3 < _l3; _i3++) {\n                this._collectFieldRefs(this._fields[_i3]);\n                this._checkFieldDepends(this._fields[_i3]);\n            }\n            this._requestRender();\n            return removes;\n        }\n    }, {\n        key: \"removeField\",\n        value: function removeField(f) {\n            var removes = [];\n            var bulk = true;\n            if (f instanceof Array === false) {\n                bulk = false;\n                f = [f];\n            }\n            for (var i = 0, l = f.length; i < l; i++) {\n                var index = typeof f[i] === \"number\" ? f[i] : this.indexOf(f[i]);\n                if (index !== -1) {\n                    removes.push(this.splice(index, 1));\n                }\n            }\n            return bulk ? removes : removes[0];\n        }\n    }, {\n        key: \"indexOf\",\n        value: function indexOf(f) {\n            if (typeof f === \"string\") {\n                var index = -1;\n                for (var i = 0, l = this._fields.length; i < l; i++) {\n                    if (this._fields[i].key === f) {\n                        index = i;\n                        break;\n                    }\n                }\n                return index;\n            } else {\n                return this._fields.indexOf(f);\n            }\n        }\n    }, {\n        key: \"_create\",\n        value: function _create() {\n            if (this._opt.id) {\n                this.element.writeAttribute(\"id\", this._opt.id);\n            }\n            if (this._opt.className) {\n                this.element.addClassName(this._opt.className);\n            }\n            if (this._opt.attribute) {\n                this.element.writeAttribute(this._opt.attribute);\n            }\n            if (this._opt.style) {\n                this.element.setStyle(this._opt.style);\n            }\n            if (this._opt.nolabel === true) {\n                this.element.addClassName(\"flagrate-form-nolabel\");\n            }\n            if (this._opt.vertical === true) {\n                this.element.addClassName(\"flagrate-form-vertical\");\n            }\n            this.element.addEventListener(\"submit\", function (e) {\n                return e.preventDefault();\n            });\n            return this;\n        }\n    }, {\n        key: \"_requestRender\",\n        value: function _requestRender() {\n            if (this._renderTimer) {\n                clearTimeout(this._renderTimer);\n            }\n            this._renderTimer = setTimeout(this._render.bind(this), 0);\n            return this;\n        }\n    }, {\n        key: \"_render\",\n        value: function _render() {\n            var active = document.activeElement;\n            for (var i = 0, l = this._fields.length; i < l; i++) {\n                var field = this._fields[i];\n                if (field._dependsIsOk === true) {\n                    field.container.insertTo(this.element);\n                } else {\n                    if (field.visible() === true) {\n                        field.container.remove();\n                    }\n                }\n            }\n            if (active) {\n                if (/Trident/.test(window.navigator.userAgent) === true) {\n                    setTimeout(function () {\n                        if (active.focus) {\n                            active.focus();\n                        }\n                        var isMustReselected = active.tagName === \"INPUT\" && (active.type === \"text\" || active.type === \"password\" || active.type === \"number\") || active.tagName === \"TEXTAREA\";\n                        if (isMustReselected) {\n                            if (typeof active.selectionStart === \"number\") {\n                                active.selectionStart = active.selectionEnd = active.value.length;\n                            } else if (active[\"createTextRange\"] !== undefined) {\n                                var range = active[\"createTextRange\"]();\n                                range.collapse(false);\n                                range.select();\n                            }\n                        }\n                    }, 0);\n                } else {\n                    if (active.focus) {\n                        active.focus();\n                    }\n                }\n            }\n            return this;\n        }\n    }, {\n        key: \"_collectFieldRefs\",\n        value: function _collectFieldRefs(field) {\n            field._refs = [];\n            // DEPRECATED\n            if (typeof field[\"point\"] !== \"undefined\") {\n                field.pointer = field[\"point\"];\n                delete field[\"point\"];\n            }\n            if (!field.key && typeof field.pointer !== \"string\") {\n                return this;\n            }\n            var i = void 0,\n                l = void 0,\n                j = void 0,\n                m = void 0,\n                k = void 0,\n                n = void 0,\n                fi = void 0,\n                s = void 0;\n            for (i = 0, l = this._fields.length; i < l; i++) {\n                fi = this._fields[i];\n                if (field === fi || !fi.depends || fi.depends.length === 0) {\n                    continue;\n                }\n                for (j = 0, m = fi.depends.length; j < m; j++) {\n                    if (fi.depends[j] instanceof Array) {\n                        s = false;\n                        for (k = 0, n = fi.depends[j].length; k < n; k++) {\n                            if (fi.depends[j][k].key === field.key) {\n                                s = true;\n                                break;\n                            }\n                            if (typeof fi.depends[j][k].point === \"string\") {\n                                fi.depends[j][k].pointer = fi.depends[j][k].point;\n                                delete fi.depends[j][k].point;\n                            }\n                            if (typeof fi.depends[j][k].pointer === \"string\") {\n                                if (fi.depends[j][k].pointer === field.pointer) {\n                                    s = true;\n                                    break;\n                                }\n                                if (fi.depends[j][k].pointer === \"/\" + field.key) {\n                                    s = true;\n                                    break;\n                                }\n                            }\n                        }\n                        if (s) {\n                            field._refs.push(fi);\n                        }\n                        break;\n                    } else {\n                        if (fi.depends[j].key === field.key) {\n                            field._refs.push(fi);\n                            break;\n                        }\n                        if (typeof fi.depends[j].point === \"string\") {\n                            fi.depends[j].pointer = fi.depends[j].point;\n                            delete fi.depends[j].point;\n                        }\n                        if (typeof fi.depends[j].pointer === \"string\") {\n                            if (fi.depends[j].pointer === field.pointer) {\n                                field._refs.push(fi);\n                                break;\n                            }\n                            if (fi.depends[j].pointer === \"/\" + field.key) {\n                                field._refs.push(fi);\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            return this;\n        }\n    }, {\n        key: \"_compareDepend\",\n        value: function _compareDepend(d) {\n            var v = void 0;\n            if (d.key) {\n                var f = this.getField(d.key);\n                if (f !== null) {\n                    if (!d.op && !d.tester && d.val === undefined) {\n                        return true;\n                    }\n                    if (f._dependsIsOk === true) {\n                        v = f.getVal();\n                    }\n                }\n            } else if (typeof d.pointer === \"string\") {\n                try {\n                    v = _util.jsonPointer.get(this.getResult(), d.pointer);\n                } catch (e) {\n                    // undefined\n                }\n            } else {\n                return true;\n            }\n            if (typeof d.tester === \"function\") {\n                return !!d.tester(v, d);\n            }\n            if (d.op) {\n                if (d.op === \"===\" && d.val === v) {\n                    return true;\n                }\n                if (d.op === \"!==\" && d.val !== v) {\n                    return true;\n                }\n                if (d.op === \">=\" && d.val >= v) {\n                    return true;\n                }\n                if (d.op === \"<=\" && d.val <= v) {\n                    return true;\n                }\n                if (d.op === \">\" && d.val > v) {\n                    return true;\n                }\n                if (d.op === \"<\" && d.val < v) {\n                    return true;\n                }\n                if (d.op === \"in\" && typeof v[d.val] !== \"undefined\") {\n                    return true;\n                }\n            } else {\n                if (d.val === v) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }, {\n        key: \"_checkFieldDepends\",\n        value: function _checkFieldDepends(field) {\n            var depends = field.depends;\n            if (!depends || depends.length === 0) {\n                field._dependsIsOk = true;\n                return true;\n            }\n            var result = true;\n            var i = void 0,\n                l = void 0,\n                j = void 0,\n                m = void 0,\n                d = void 0,\n                f = void 0,\n                s = void 0;\n            for (i = 0, l = depends.length; i < l; i++) {\n                d = depends[i];\n                if (d instanceof Array) {\n                    s = false;\n                    for (j = 0, m = d.length; j < m; j++) {\n                        if (this._compareDepend(d[j]) === true) {\n                            s = true;\n                            break;\n                        }\n                    }\n                    if (s === false) {\n                        result = false;\n                        break;\n                    }\n                } else {\n                    if (this._compareDepend(d) === false) {\n                        result = false;\n                        break;\n                    }\n                }\n            }\n            field._dependsIsOk = result;\n            return result;\n        }\n    }, {\n        key: \"_createField\",\n        value: function _createField(field) {\n            var _this = this;\n\n            field._dependsIsOk = !field.depends || field.depends.length === 0;\n            // field container\n            field.container = new _element.Element(\"div\");\n            // attributes to field container\n            if (field.id) {\n                field.container.writeAttribute(\"id\", field.id);\n            }\n            if (field.className) {\n                field.container.writeAttribute(\"class\", field.className);\n            }\n            if (field.attribute) {\n                field.container.writeAttribute(field.attribute);\n            }\n            if (field.style) {\n                field.container.setStyle(field.style);\n            }\n            // create label\n            if (this._nolabel === false) {\n                field.labelElement = new _element.Element(\"label\").insertText(field.label || \"\");\n                new _element.Element(\"div\", { \"class\": \"flagrate-form-field-label\" }).insert(field.labelElement).insertTo(field.container);\n                // icon to label\n                if (field.icon) {\n                    field.labelElement.addClassName(\"flagrate-icon\");\n                    field.labelElement.setStyle({\n                        backgroundImage: \"url(\" + field.icon + \")\"\n                    });\n                }\n            }\n            // input container\n            field._input = new _element.Element(\"div\").insertTo(field.container);\n            // input ready?\n            if (field.input && field.input.type) {\n                if (typeof field.input.type === \"string\") {\n                    field.input.type = Form.inputType[field.input.type];\n                } else if (!field.input.type.create) {\n                    delete field.input;\n                }\n            }\n            // init input\n            if (field.input && field.input.type) {\n                var input = field.input;\n                if (!input.id) {\n                    input.id = \"flagrate-form-input-\" + ++Form.idCounter;\n                }\n                if (this._nolabel === false) {\n                    field.labelElement.writeAttribute(\"for\", input.id);\n                }\n                input.element = input.type.create.call(input);\n                new _element.Element(\"div\", { \"class\": \"flagrate-form-field-input\" }).insert(input.element).insertTo(field._input);\n                input.element.writeAttribute(\"id\", input.id);\n                // value, values is just alias.\n                if (input[\"value\"]) {\n                    input.val = input[\"value\"];\n                } else if (input[\"values\"]) {\n                    input.val = input[\"values\"];\n                }\n                // set the default value\n                if (input.val !== undefined) {\n                    input.type.setVal.call(input, input.val);\n                }\n                if (input.style) {\n                    input.element.setStyle(input.style);\n                }\n                if (input.attribute) {\n                    input.element.writeAttribute(input.attribute);\n                }\n                // toString is alias for toStr.\n                if (typeof input[\"toString\"] === \"boolean\" && input.toStr === undefined) {\n                    input.toStr = input[\"toString\"];\n                }\n                // init validator\n                if (input.validators) {\n                    input.validators.forEach(function (v, i) {\n                        if (typeof v === \"string\") {\n                            input.validators[i] = Form.inputValidator[v];\n                        }\n                    });\n                } else {\n                    input.validators = [];\n                }\n                // result block\n                input._result = new _element.Element(\"ul\", {\n                    \"class\": \"flagrate-form-field-result\"\n                }).insertTo(field._input);\n                // etc\n                if (input.isRequired === true) {\n                    field.container.addClassName(\"flagrate-required\");\n                }\n            }\n            // misc\n            if (field.element) {\n                new _element.Element(\"div\", {\n                    \"class\": \"flagrate-form-field-element\"\n                }).insert(field.element).insertTo(field._input);\n            }\n            if (field.html) {\n                new _element.Element(\"div\", {\n                    \"class\": \"flagrate-form-field-html\"\n                }).insert(field.html).insertTo(field._input);\n            }\n            if (field.text) {\n                new _element.Element(\"p\", {\n                    \"class\": \"flagrate-form-field-text\"\n                }).insertText(field.text).insertTo(field._input);\n            }\n            // field methods\n            field.visible = function () {\n                return field.container.parentNode !== null && field.container.parentNode === _this.element;\n            };\n            field.getVal = function () {\n                if (!field.input) {\n                    return undefined;\n                }\n                var result = field.input.type.getVal.call(field.input);\n                if (field.input.toStr === true) {\n                    result = result.toString();\n                }\n                if (field.input.trim === true && typeof result === \"string\") {\n                    result = result.trim();\n                }\n                if (field.input.toNumber === true && typeof result !== \"number\") {\n                    if (typeof result === \"string\") {\n                        result = parseFloat(result);\n                    } else if (result instanceof Date) {\n                        result = result.getTime();\n                    } else if (typeof result === \"boolean\") {\n                        result = result === true ? 1 : 0;\n                    }\n                }\n                if (typeof field.input.transform === \"function\") {\n                    result = field.input.transform.call(field.input, result);\n                }\n                return result;\n            };\n            field.setVal = function (val) {\n                if (!field.input) {\n                    return field;\n                }\n                field.input.type.setVal.call(field.input, val);\n                field._inputOnChange();\n                return field;\n            };\n            field.validate = function (callback) {\n                var val = field.getVal();\n                var hasError = false;\n                var hasWarning = false;\n                field.input._result.update();\n                // simple validator\n                if (field.input.isRequired === true) {\n                    if (val === undefined) {\n                        hasError = true;\n                    } else if (val === false || val === null) {\n                        hasError = true;\n                    } else if (typeof val === \"number\" && isNaN(val) === true) {\n                        hasError = true;\n                    } else if (val.length !== undefined && val.length === 0) {\n                        hasError = true;\n                    }\n                }\n                if (typeof field.input.min === \"number\") {\n                    if (typeof val === \"number\") {\n                        if (field.input.min > val) {\n                            hasError = true;\n                        }\n                    } else if (typeof val === \"string\" && val !== \"\") {\n                        if (field.input.min > parseInt(val, 10)) {\n                            hasError = true;\n                        }\n                    } else if (val instanceof Array) {\n                        if (field.input.min > val.length) {\n                            hasError = true;\n                        }\n                    }\n                }\n                if (typeof field.input.max === \"number\") {\n                    if (typeof val === \"number\") {\n                        if (field.input.max < val) {\n                            hasError = true;\n                        }\n                    } else if (typeof val === \"string\" && val !== \"\") {\n                        if (field.input.max < parseInt(val, 10)) {\n                            hasError = true;\n                        }\n                    } else if (val instanceof Array) {\n                        if (field.input.max < val.length) {\n                            hasError = true;\n                        }\n                    }\n                }\n                if (field.input.minLength && field.input.minLength > (val.length || val.toString && val.toString().length || 0) && typeof val === \"string\" && val !== \"\") {\n                    hasError = true;\n                }\n                if (field.input.maxLength && field.input.maxLength < (val.length || val.toString && val.toString().length || 0)) {\n                    hasError = true;\n                }\n                // validators\n                var q = [];\n                field.input.validators.forEach(function (v) {\n                    q.push(v);\n                });\n                function fin() {\n                    if (field.input._result.innerHTML === \"\") {\n                        field.container.removeClassName(\"flagrate-has-result\");\n                    } else {\n                        field.container.addClassName(\"flagrate-has-result\");\n                    }\n                    if (hasError) {\n                        field.container.removeClassName(\"flagrate-has-warning\");\n                        field.container.removeClassName(\"flagrate-has-success\");\n                        field.container.addClassName(\"flagrate-has-error\");\n                    } else if (hasWarning) {\n                        field.container.removeClassName(\"flagrate-has-error\");\n                        field.container.removeClassName(\"flagrate-has-success\");\n                        field.container.addClassName(\"flagrate-has-warning\");\n                    } else {\n                        field.container.removeClassName(\"flagrate-has-error\");\n                        field.container.removeClassName(\"flagrate-has-warning\");\n                        field.container.addClassName(\"flagrate-has-success\");\n                    }\n                    field._hasError = hasError;\n                    field._hasWarning = hasWarning;\n                    if (callback) {\n                        callback(!hasError);\n                    }\n                }\n                function done(result, message) {\n                    switch (result) {\n                        case true:\n                        case \"success\":\n                            break;\n                        case null:\n                        case \"warning\":\n                            hasWarning = true;\n                            break;\n                        case false:\n                        case \"error\":\n                            hasError = true;\n                            break;\n                    }\n                    if (message) {\n                        new _element.Element(\"li\").insertText(message).insertTo(field.input._result);\n                    }\n                    run();\n                }\n                function run() {\n                    if (q.length === 0 || hasError === true) {\n                        return fin();\n                    }\n                    var v = q.shift();\n                    if (typeof v === \"function\") {\n                        v.call(field.input, val, done);\n                    } else if (typeof val === \"string\" && val !== \"\") {\n                        if (v.regexp.test(val)) {\n                            done(true, v.success);\n                        } else {\n                            done(false, v.error);\n                        }\n                    } else {\n                        done(true);\n                    }\n                }\n                run();\n            };\n            field._checkRefs = function () {\n                var rerend = false;\n                for (var i = 0, l = field._refs.length, refField; i < l; i++) {\n                    refField = field._refs[i];\n                    if (refField._dependsIsOk !== _this._checkFieldDepends(refField)) {\n                        refField._checkRefs();\n                        rerend = true;\n                    }\n                }\n                if (rerend === true) {\n                    _this._requestRender();\n                }\n            };\n            field._inputOnChange = function () {\n                // validation\n                field.validate();\n                // dependency\n                field._checkRefs();\n            };\n            // listen change event\n            if (field.input && field.input.type) {\n                var changeEvents = field.input.type.changeEvents || [\"change\"];\n                changeEvents.forEach(function (eventName) {\n                    field.input.element.addEventListener(eventName, field._inputOnChange);\n                });\n            }\n            return this;\n        }\n    }]);\n\n    return Form;\n}();\n\nForm.idCounter = 0;\n/*?\n    flagrate.Form.inputValidator -> Object\n\r\n    #### Built-in validators\n\r\n    * numeric\n    * alphanumeric\n\r\n    #### Basic validator\n\r\n        // success and error messages are optional\n        { regexp: /RegExp/, success: \"String\", error: \"String\" }\n        // warning state is not available in this way, see Advanced.\n\r\n    #### Advanced validator\n\r\n        // Sync or Async validation\n        function (input, done) { done(result, message); }// message is optional\n\r\n        // Examples\n        function (input, done) { done(true); }// success\n        function (input, done) { done(null); }// warning\n        function (input, done) { done(false); }// error\n        function (input, done) { done(\"success\"); }// success\n        function (input, done) { done(\"warning\"); }// warning\n        function (input, done) { done(\"error\"); }// error\n        function (input, done) { done(true, \"...\"); }// success with message\n        function (input, done) { done(null, \"...\"); }// warning with message\n        function (input, done) { done(false, \"...\"); }// error with message\n\r\n    #### Example: adding error message to built-in validators\n\r\n        flagrate.Form.inputValidator.numeric.error = \"Please enter a numbers.\";\n        flagrate.Form.inputValidator.alphanumeric.error = \"Please enter a alphanumeric.\";\n\r\n    #### Example: add the custom validator to Flagrate (to create plugin)\n\r\n        flagrate.Form.inputValidator.hostname = {\n            regexp: /^[a-z0-9]+(-[a-z0-9]+)*(\\.([a-z0-9]+(-[a-z0-9]+)*))*$/i,\n            error: \"Please enter a valid hostname string.\"\n        };\n**/\nForm.inputValidator = {\n    numeric: {\n        regexp: /^[0-9]+$/\n    },\n    alphanumeric: {\n        regexp: /^[a-z0-9]+$/i\n    }\n};\n/*?\n    flagrate.Form.inputType -> Object\n\r\n    #### Built-in input types\n\r\n    * [text](#text-string-) -> `String`\n    * [password](#password-string-) -> `String`\n    * [textarea](#textarea-string-) -> `String`\n    * [number](#number-number-) -> `Number`\n    * [combobox](#combobox-string-) -> `String`\n    * [checkbox](#checkbox-boolean-) -> `Boolean`\n    * [checkboxes](#checkboxes-array-) -> `Array`\n    * [switch](#switch-boolean-) -> `Boolean`\n    * [radios](#radios-any-) -> `any`\n    * [select](#select-any-array-) -> `any`|`Array`\n    * [file](#file-file-) -> `File`\n    * [files](#files-filelist-) -> `FileList`\n**/\nForm.inputType = {\n    /*?\n        #### text -> `String`\n        most basic single-line text input. (uses flagrate.TextInput)\n          * `placeholder` (String):\n        * `icon`        (String):\n        * `maxLength`   (Number):\n    **/\n    text: {\n        changeEvents: [\"change\", \"keyup\"],\n        create: function create() {\n            // return to define this.element\n            return new _textInput.TextInput({\n                placeholder: this.placeholder,\n                icon: this.icon,\n                attribute: {\n                    maxlength: this.maxLength\n                }\n            });\n        },\n        getVal: function getVal() {\n            return this.element.getValue();\n        },\n        setVal: function setVal(value) {\n            this.element.setValue(value);\n        },\n        enable: function enable() {\n            this.element.enable();\n        },\n        disable: function disable() {\n            this.element.disable();\n        }\n    },\n    /*?\n        #### password -> `String`\n        password input. Almost the same to [text](#text).\n    **/\n    password: {\n        changeEvents: [\"change\", \"keyup\"],\n        create: function create() {\n            return new _textInput.TextInput({\n                placeholder: this.placeholder,\n                icon: this.icon,\n                attribute: {\n                    type: \"password\",\n                    maxlength: this.maxLength\n                }\n            });\n        },\n        getVal: function getVal() {\n            return this.element.getValue();\n        },\n        setVal: function setVal(value) {\n            this.element.setValue(value);\n        },\n        enable: function enable() {\n            this.element.enable();\n        },\n        disable: function disable() {\n            this.element.disable();\n        }\n    },\n    /*?\n        #### textarea -> `String`\n        textarea input. (uses flagrate.TextArea)\n          * `placeholder` (String):\n        * `icon`        (String):\n        * `maxLength`   (Number):\n    **/\n    textarea: {\n        changeEvents: [\"change\", \"keyup\"],\n        create: function create() {\n            return new _textArea.TextArea({\n                placeholder: this.placeholder,\n                icon: this.icon,\n                attribute: {\n                    maxlength: this.maxLength\n                }\n            });\n        },\n        getVal: function getVal() {\n            return this.element.getValue();\n        },\n        setVal: function setVal(value) {\n            this.element.setValue(value);\n        },\n        enable: function enable() {\n            this.element.enable();\n        },\n        disable: function disable() {\n            this.element.disable();\n        }\n    },\n    /*?\n        #### number -> `Number`\n        number input. (uses flagrate.TextInput)\n          * `placeholder` (String):\n        * `icon`        (String):\n        * `min`         (Number):\n        * `max`         (Number):\n        * `maxLength`   (Number):\n    **/\n    number: {\n        changeEvents: [\"change\", \"keyup\"],\n        create: function create() {\n            return new _textInput.TextInput({\n                placeholder: this.placeholder,\n                icon: this.icon,\n                attribute: {\n                    type: \"number\",\n                    inputmode: \"numeric\",\n                    min: this.min,\n                    max: this.max,\n                    maxlength: this.maxLength\n                }\n            });\n        },\n        getVal: function getVal() {\n            return parseFloat(this.element.getValue());\n        },\n        setVal: function setVal(value) {\n            this.element.setValue(value);\n        },\n        enable: function enable() {\n            this.element.enable();\n        },\n        disable: function disable() {\n            this.element.disable();\n        }\n    },\n    /*?\n        #### combobox -> `String`\n        combobox input. (uses flagrate.ComboBox)\n          * `placeholder` (String):\n        * `icon`        (String):\n        * `maxLength`   (Number):\n        * `items`       (Array): of String values.\n    **/\n    combobox: {\n        changeEvents: [\"change\", \"keyup\"],\n        create: function create() {\n            return new _comboBox.ComboBox({\n                placeholder: this.placeholder,\n                icon: this.icon,\n                items: this.items,\n                attribute: {\n                    maxlength: this.maxLength\n                }\n            });\n        },\n        getVal: function getVal() {\n            return this.element.getValue();\n        },\n        setVal: function setVal(value) {\n            this.element.setValue(value);\n        },\n        enable: function enable() {\n            this.element.enable();\n        },\n        disable: function disable() {\n            this.element.disable();\n        }\n    },\n    /*?\n        #### checkbox -> `Boolean`\n        Checkbox input. (uses flagrate.Checkbox)\n          * `label`       (String):\n        * `labelHTML`   (String):\n        * `icon`        (String):\n    **/\n    checkbox: {\n        create: function create() {\n            return new _checkbox.Checkbox({\n                icon: this.icon,\n                label: this.label,\n                labelHTML: this.labelHTML\n            });\n        },\n        getVal: function getVal() {\n            return this.element.isChecked();\n        },\n        setVal: function setVal(value) {\n            if (value) {\n                this.element.check();\n            } else {\n                this.element.uncheck();\n            }\n        },\n        enable: function enable() {\n            this.element.enable();\n        },\n        disable: function disable() {\n            this.element.disable();\n        }\n    },\n    /*?\n        #### checkboxes -> `Array`\n        Checkboxes input. (uses flagrate.Checkboxes)\n          * `items` (Array):\n    **/\n    checkboxes: {\n        create: function create() {\n            return new _checkboxes.Checkboxes({\n                items: this.items\n            });\n        },\n        getVal: function getVal() {\n            return this.element.getValues();\n        },\n        setVal: function setVal(values) {\n            this.element.setValues(values);\n        },\n        enable: function enable() {\n            this.element.enable();\n        },\n        disable: function disable() {\n            this.element.disable();\n        }\n    },\n    /*?\n        #### switch -> `Boolean`\n        Switch input. (uses flagrate.Switch)\n    **/\n    \"switch\": {\n        create: function create() {\n            return new _switch.Switch();\n        },\n        getVal: function getVal() {\n            return this.element.isOn();\n        },\n        setVal: function setVal(value) {\n            if (value) {\n                this.element.switchOn();\n            } else {\n                this.element.switchOff();\n            }\n        },\n        enable: function enable() {\n            this.element.enable();\n        },\n        disable: function disable() {\n            this.element.disable();\n        }\n    },\n    /*?\n        #### radios -> `any`\n        Radio buttons input. (uses flagrate.Radios)\n          * `items` (Array):\n    **/\n    radios: {\n        create: function create() {\n            return new _radios.Radios({\n                items: this.items\n            });\n        },\n        getVal: function getVal() {\n            return this.element.getValue();\n        },\n        setVal: function setVal(value) {\n            this.element.setValue(value);\n        },\n        enable: function enable() {\n            this.element.enable();\n        },\n        disable: function disable() {\n            this.element.disable();\n        }\n    },\n    /*?\n        #### select -> `any`|`array`\n        Select input. (uses flagrate.Select)\n          * `items` (Array):\n        * `listView` (Boolean; default `false`):\n        * `multiple` (Boolean; default `false`):\n        * `max` (Number; default `-1`):\n        * `selectedIndex` (Number):\n        * `selectedIndexes` (Array): of Number\n    **/\n    select: {\n        create: function create() {\n            return new _select.Select({\n                items: this.items,\n                listView: this.listView,\n                multiple: this.multiple,\n                max: this.max,\n                selectedIndex: this.selectedIndex,\n                selectedIndexes: this.selectedIndexes\n            });\n        },\n        getVal: function getVal() {\n            return this.element.multiple === true ? this.element.getValues() : this.element.getValue();\n        },\n        setVal: function setVal(val) {\n            if (this.element.multiple === false) {\n                val = [val];\n            } else {\n                this.element.deselectAll();\n            }\n            for (var i = 0, l = val.length, m = this.element.items.length; i < l; i++) {\n                for (var j = 0; j < m; j++) {\n                    if (val[i] === this.element.items[j].value) {\n                        this.element.select(j);\n                        break;\n                    }\n                }\n            }\n        },\n        enable: function enable() {\n            this.element.enable();\n        },\n        disable: function disable() {\n            this.element.disable();\n        }\n    },\n    /*?\n        #### file -> `File`\n        File input for [File API](http://www.w3.org/TR/file-upload/)\n          * `accept` (String): pass to `accept` attribute value.\n        * `acceptTypes` (Array): Array of MIME type string.\n    **/\n    file: {\n        create: function create() {\n            return new _element.Element(\"input\", {\n                type: \"file\",\n                accept: this.accept || (this.acceptTypes ? this.acceptTypes.join(\",\") : undefined)\n            });\n        },\n        getVal: function getVal() {\n            return this.element.files[0];\n        },\n        setVal: function setVal(file) {\n            this.element.files[0] = file;\n        },\n        enable: function enable() {\n            this.element.writeAttribute(\"disabled\", false);\n        },\n        disable: function disable() {\n            this.element.writeAttribute(\"disabled\", true);\n        }\n    },\n    /*?\n        #### files -> `FileList`\n        File input for [File API](http://www.w3.org/TR/file-upload/)\n          * `accept` (String): pass to `accept` attribute value.\n        * `acceptTypes` (Array): Array of MIME type string.\n    **/\n    files: {\n        create: function create() {\n            return new _element.Element(\"input\", {\n                type: \"file\",\n                accept: this.accept || (this.acceptTypes ? this.acceptTypes.join(\",\") : undefined),\n                multiple: true\n            });\n        },\n        getVal: function getVal() {\n            return this.element.files;\n        },\n        setVal: function setVal(files) {\n            this.element.files = files;\n        },\n        enable: function enable() {\n            this.element.writeAttribute(\"disabled\", false);\n        },\n        disable: function disable() {\n            this.element.writeAttribute(\"disabled\", true);\n        }\n    }\n};\nfunction createForm(option) {\n    return new Form(option);\n}\n\n\n\n},{\"./checkbox\":11,\"./checkboxes\":12,\"./combo-box\":13,\"./element\":15,\"./radios\":25,\"./select\":27,\"./switch\":29,\"./text-area\":31,\"./text-input\":32,\"./util\":36}],17:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Grid = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.createGrid = createGrid;\n\nvar _element = require(\"./element\");\n\nvar _button = require(\"./button\");\n\nvar _checkbox = require(\"./checkbox\");\n\nvar _toolbar = require(\"./toolbar\");\n\nvar _contextMenu = require(\"./context-menu\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*?\n    flagrate.createGrid(option)\n    new flagrate.Grid(option)\n    - option (Object) - configuration for the grid.\n\r\n    Create and initialize the grid.\n\r\n    #### option\n\r\n    * `id`                       (String): `id` attribute of container.\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): (using flagrate.Element.setStyle)\n    * `cols`                     (Array): of col object.\n    * `rows`                     (Array): of row object.\n    * `pagination`               (Boolean; default `false`):\n    * `numberOfRowsPerPage`      (Number; default `20`): pagination.\n    * `fill`                     (Boolean; default `false`):\n    * `headless`                 (Boolean; default `false`):\n    * `multiSelect`              (Boolean; default `false`):\n    * `disableCheckbox`          (Boolean; default `false`):\n    * `disableSelect`            (Boolean; default `false`):\n    * `disableSort`              (Boolean; default `false`):\n    * `disableFilter`            (Boolean; default `false`):\n    * `disableResize`            (Boolean; default `false`):\n    * `onSelect`                 (Function):\n    * `onDeselect`               (Function):\n    * `onClick`                  (Function):\n    * `onDblClick`               (Function):\n    * `onRender`                 (Function):\n    * `onRendered`               (Function):\n    * `postProcessOfRow`         (Function):\n\r\n    #### col\n\r\n    * `id`                       (String): `id` attribute of `th`\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): styling of `th` (using flagrate.Element.setStyle)\n    * `key`                      (String; required):\n    * `label`                    (String; default `\"\"`):\n    * `icon`                     (String):\n    * `align`                    (String):\n    * `width`                    (Number):\n    * `disableSort`              (Boolean; default `false`):\n    * `disableResize`            (Boolean; default `false`):\n\r\n    #### row\n\r\n    * `id`                       (String): `id` attribute of `tr`\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): styling of `tr` (using flagrate.Element.setStyle)\n    * `cell`                     (Object|String; default `{}`): of cell object. or String for text.\n    * `menuItems`                (Array): of Menu items.\n    * `isSelected`               (Boolean):\n    * `onSelect`                 (Function):\n    * `onDeselect`               (Function):\n    * `onClick`                  (Function):\n    * `onDblClick`               (Function):\n    * `postProcess`              (Function):\n\r\n    #### cell\n\r\n    * `id`                       (String): `id` attribute of `td`\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): styling of `td` (using flagrate.Element.setStyle)\n    * `text`                     (String):\n    * `html`                     (String):\n    * `element`                  (Element):\n    * `icon`                     (String):\n    * `sortAlt`                  (Number|String):\n    * `onClick`                  (Function):\n    * `onDblClick`               (Function):\n    * `postProcess`              (Function):\n**/\nvar Grid = exports.Grid = function () {\n    function Grid() {\n        var _opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, Grid);\n\n        this._opt = _opt;\n        this._cols = [];\n        this._rows = [];\n        this._pagePosition = 0;\n        this._selectedRows = [];\n        this._sortedByKey = null;\n        this._sortedByAsc = null;\n        this.element = new _element.Element(\"div\", { \"class\": \"flagrate flagrate-grid\" });\n        this._head = new _element.Element(\"div\", { \"class\": \"flagrate-grid-head\" }).insertTo(this.element);\n        this._thead = new _element.Element(\"thead\").insertTo(new _element.Element(\"table\").insertTo(this._head));\n        this._tr = new _element.Element(\"tr\").insertTo(this._thead);\n        this._body = new _element.Element(\"div\", { \"class\": \"flagrate-grid-body\" }).insertTo(this.element);\n        this._tbody = new _element.Element(\"tbody\").insertTo(new _element.Element(\"table\").insertTo(this._body));\n        this._style = new _element.Element(\"style\").insertTo(this.element);\n        this._id = \"flagrate-grid-\" + (++Grid.idCounter).toString(10);\n        if (_opt.id) {\n            this.element.writeAttribute(\"id\", _opt.id);\n        }\n        if (_opt.className) {\n            this.element.addClassName(_opt.className);\n        }\n        if (_opt.attribute) {\n            this.element.writeAttribute(_opt.attribute);\n        }\n        if (_opt.style) {\n            this.element.setStyle(_opt.style);\n        }\n        if (_opt.cols) {\n            this._cols = _opt.cols;\n        }\n        if (_opt.rows) {\n            this._rows = _opt.rows;\n        }\n        if (_opt.colMinWidth === undefined) {\n            _opt.colMinWidth = 16;\n        }\n        if (_opt.pagination === undefined) {\n            _opt.pagination = false;\n        }\n        if (!_opt.numberOfRowsPerPage) {\n            _opt.numberOfRowsPerPage = 20;\n        }\n        if (_opt.fill === undefined) {\n            _opt.fill = false;\n        }\n        if (_opt.headless === true) {\n            _opt.disableSort = true;\n            _opt.disableResize = true;\n            this.element.addClassName(\"flagrate-grid-headless\");\n        }\n        if (_opt.multiSelect === undefined) {\n            _opt.multiSelect = false;\n        }\n        if (_opt.disableCheckbox === undefined) {\n            _opt.disableCheckbox = false;\n        }\n        if (_opt.disableSelect === undefined) {\n            _opt.disableSelect = false;\n        }\n        if (_opt.disableSort === undefined) {\n            _opt.disableSort = false;\n        }\n        /* if (_opt.disableFilter === undefined) {\n            _opt.disableFilter = false;\n        } */\n        if (_opt.disableResize === undefined) {\n            _opt.disableResize = false;\n        }\n        this.onSelect = _opt.onSelect;\n        this.onDeselect = _opt.onDeselect;\n        this.onClick = _opt.onClick;\n        this.onDblClick = _opt.onDblClick;\n        this.onRender = _opt.onRender;\n        this.onRendered = _opt.onRendered;\n        this.postProcessOfRow = _opt.postProcessOfRow;\n        this._create()._requestRender();\n    }\n\n    _createClass(Grid, [{\n        key: \"insertTo\",\n        value: function insertTo(element, pos) {\n            return this.element.insertTo(element, pos) && this;\n        }\n    }, {\n        key: \"on\",\n        value: function on(eventType, listener, useCapture) {\n            return this.element.on(eventType, listener, useCapture) && this;\n        }\n    }, {\n        key: \"off\",\n        value: function off(eventType, listener, useCapture) {\n            return this.element.off(eventType, listener, useCapture) && this;\n        }\n    }, {\n        key: \"select\",\n        value: function select(a) {\n            var _this = this;\n\n            var rows = void 0;\n            if (Array.isArray(a) === true) {\n                rows = a;\n            } else {\n                rows = [];\n                for (var i = 0, l = arguments.length; i < l; i++) {\n                    rows.push(arguments[i]);\n                }\n            }\n            if (this._opt.multiSelect === false) {\n                this.deselectAll();\n            }\n\n            var _loop = function _loop(_i, _l) {\n                var row = rows[_i];\n                if (typeof row === \"number\") {\n                    row = _this._rows[row];\n                }\n                row.isSelected = true;\n                if (row._tr && row._tr.hasClassName(\"flagrate-grid-row-selected\") === true) {\n                    return \"continue\";\n                }\n                _this._selectedRows.push(row);\n                if (row._tr) {\n                    row._tr.addClassName(\"flagrate-grid-row-selected\");\n                }\n                if (row._checkbox) {\n                    row._checkbox.check();\n                    setTimeout(function () {\n                        if (row.isSelected === true) {\n                            row._checkbox.check();\n                        }\n                    }, 0);\n                }\n                if (row.onSelect) {\n                    row.onSelect.call(_this, window.event, row, _this);\n                }\n                if (_this.onSelect) {\n                    _this.onSelect(window.event, row, _this);\n                }\n            };\n\n            for (var _i = 0, _l = rows.length; _i < _l; _i++) {\n                var _ret = _loop(_i, _l);\n\n                if (_ret === \"continue\") continue;\n            }\n            if (this._selectedRows.length !== 0 && this._checkbox) {\n                this._checkbox.check();\n            }\n            this.element.fire(\"change\", { targetGrid: this });\n            return this;\n        }\n    }, {\n        key: \"deselect\",\n        value: function deselect(a) {\n            var _this2 = this;\n\n            var rows = void 0;\n            if (Array.isArray(a)) {\n                rows = a;\n            } else {\n                rows = [];\n                for (var i = 0, l = arguments.length; i < l; i++) {\n                    rows.push(arguments[i]);\n                }\n            }\n\n            var _loop2 = function _loop2(_i2, _l2) {\n                var row = rows[_i2];\n                if (typeof row === \"number\") {\n                    row = _this2._rows[row];\n                }\n                row.isSelected = false;\n                if (row._tr && row._tr.hasClassName(\"flagrate-grid-row-selected\") === false) {\n                    return \"continue\";\n                }\n                _this2._selectedRows.splice(_this2._selectedRows.indexOf(row), 1);\n                if (row._tr) {\n                    row._tr.removeClassName(\"flagrate-grid-row-selected\");\n                }\n                if (row._checkbox) {\n                    row._checkbox.uncheck();\n                    setTimeout(function () {\n                        if (row.isSelected === false) {\n                            row._checkbox.uncheck();\n                        }\n                    }, 0);\n                }\n                if (row.onDeselect) {\n                    row.onDeselect.call(_this2, window.event, row, _this2);\n                }\n                if (_this2.onDeselect) {\n                    _this2.onDeselect(window.event, row, _this2);\n                }\n            };\n\n            for (var _i2 = 0, _l2 = rows.length; _i2 < _l2; _i2++) {\n                var _ret2 = _loop2(_i2, _l2);\n\n                if (_ret2 === \"continue\") continue;\n            }\n            if (this._selectedRows.length === 0 && this._checkbox) {\n                this._checkbox.uncheck();\n            }\n            this.element.fire(\"change\", { targetGrid: this });\n            return this;\n        }\n        /** select all rows */\n\n    }, {\n        key: \"selectAll\",\n        value: function selectAll() {\n            return this.select(this._rows);\n        }\n        /** deselect all rows */\n\n    }, {\n        key: \"deselectAll\",\n        value: function deselectAll() {\n            return this.deselect(this._rows);\n        }\n        /** get selected rows */\n\n    }, {\n        key: \"getSelectedRows\",\n        value: function getSelectedRows() {\n            return this._selectedRows;\n        }\n        /** get values of selected rows */\n\n    }, {\n        key: \"getValues\",\n        value: function getValues() {\n            return this._selectedRows.map(function (row) {\n                return getValue.call(row);\n            });\n        }\n        /** sort rows by key */\n\n    }, {\n        key: \"sort\",\n        value: function sort(key, isAsc) {\n            if (isAsc === undefined) {\n                isAsc = true;\n            }\n            this._rows.sort(function (a, b) {\n                var A = 0;\n                var B = 0;\n                var cellA = a.cell[key];\n                var cellB = b.cell[key];\n                if ((typeof cellA === \"undefined\" ? \"undefined\" : _typeof(cellA)) === \"object\") {\n                    A = cellA.sortAlt !== undefined ? cellA.sortAlt : cellA.text || cellA.html || cellA.element && cellA.element.innerHTML || cellA._div && cellA._div.innerHTML || 0;\n                } else {\n                    A = cellA || 0;\n                }\n                if ((typeof cellB === \"undefined\" ? \"undefined\" : _typeof(cellB)) === \"object\") {\n                    B = cellB.sortAlt !== undefined ? cellB.sortAlt : cellB.text || cellB.html || cellB.element && cellB.element.innerHTML || cellB._div && cellB._div.innerHTML || 0;\n                } else {\n                    B = cellB || 0;\n                }\n                return A === B ? 0 : A > B ? 1 : -1;\n            });\n            if (isAsc === false) {\n                this._rows.reverse();\n            }\n            for (var i = 0, l = this._cols.length; i < l; i++) {\n                if (this._cols[i].key === key) {\n                    if (isAsc) {\n                        this._cols[i]._th.addClassName(\"flagrate-grid-col-sorted-asc\");\n                        this._cols[i]._th.removeClassName(\"flagrate-grid-col-sorted-desc\");\n                    } else {\n                        this._cols[i]._th.addClassName(\"flagrate-grid-col-sorted-desc\");\n                        this._cols[i]._th.removeClassName(\"flagrate-grid-col-sorted-asc\");\n                    }\n                    this._cols[i].isSorted = true;\n                    this._cols[i].isAsc = isAsc;\n                    this._sortedByKey = key;\n                    this._sortedByAsc = isAsc;\n                } else {\n                    if (this._cols[i].isSorted) {\n                        this._cols[i]._th.removeClassName(\"flagrate-grid-col-sorted-asc\").removeClassName(\"flagrate-grid-col-sorted-desc\");\n                    }\n                    this._cols[i].isSorted = false;\n                    this._cols[i].isAsc = null;\n                }\n            }\n            this._requestRender();\n            return this;\n        }\n    }, {\n        key: \"unshift\",\n        value: function unshift(r) {\n            if (Array.isArray(r) === true) {\n                for (var i = 0, l = r.length; i < l; i++) {\n                    this._rows.unshift(r[i]);\n                }\n            } else {\n                this._rows.unshift(r);\n            }\n            if (this._sortedByKey === null) {\n                this._requestRender();\n            } else {\n                this.sort(this._sortedByKey, this._sortedByAsc);\n            }\n            return this._rows.length;\n        }\n    }, {\n        key: \"push\",\n        value: function push(r) {\n            if (Array.isArray(r) === true) {\n                for (var i = 0, l = r.length; i < l; i++) {\n                    this._rows.push(r[i]);\n                }\n            } else {\n                this._rows.push(r);\n            }\n            if (this._sortedByKey === null) {\n                this._requestRender();\n            } else {\n                this.sort(this._sortedByKey, this._sortedByAsc);\n            }\n            return this._rows.length;\n        }\n    }, {\n        key: \"shift\",\n        value: function shift(c) {\n            var count = c || 1;\n            var removes = [];\n            for (var i = 0, l = this._rows.length; i < l && i < count; i++) {\n                removes.push(this._rows.shift());\n            }\n            this._requestRender();\n            return !c ? removes[0] : removes;\n        }\n    }, {\n        key: \"pop\",\n        value: function pop(c) {\n            var count = c || 1;\n            var removes = [];\n            for (var i = 0, l = this._rows.length; i < l && i < count; i++) {\n                removes.push(this._rows.pop());\n            }\n            this._requestRender();\n            return !c ? removes[0] : removes;\n        }\n    }, {\n        key: \"splice\",\n        value: function splice(index, c, r) {\n            c = typeof c === \"undefined\" ? this._rows.length - index : c;\n            var removes = this._rows.splice(index, c);\n            if (r) {\n                if (r instanceof Array === false) {\n                    r = [r];\n                }\n                for (var i = 0, l = r.length; i < l; i++) {\n                    this._rows.splice(index + i, 0, r[i]);\n                }\n            }\n            if (this._sortedByKey === null) {\n                this._requestRender();\n            } else {\n                this.sort(this._sortedByKey, this._sortedByAsc);\n            }\n            return removes;\n        }\n    }, {\n        key: \"indexOf\",\n        value: function indexOf(row, fromIndex) {\n            return this._rows.indexOf(row, fromIndex);\n        }\n    }, {\n        key: \"removeRow\",\n        value: function removeRow(r) {\n            var removes = [];\n            var bulk = true;\n            if (r instanceof Array === false) {\n                bulk = false;\n                r = [r];\n            }\n            for (var i = 0, l = r.length; i < l; i++) {\n                var index = this.indexOf(r[i]);\n                if (index !== -1) {\n                    removes.push(this.splice(index, 1));\n                }\n            }\n            return bulk ? removes : removes[0];\n        }\n    }, {\n        key: \"disable\",\n        value: function disable() {\n            this.element.addClassName(\"flagrate-disabled\");\n            return this;\n        }\n    }, {\n        key: \"enable\",\n        value: function enable() {\n            this.element.removeClassName(\"flagrate-disabled\");\n            return this;\n        }\n    }, {\n        key: \"isEnabled\",\n        value: function isEnabled() {\n            return !this.element.hasClassName(\"flagrate-disabled\");\n        }\n    }, {\n        key: \"_create\",\n        value: function _create() {\n            var _this3 = this;\n\n            if (this._opt.disableCheckbox === false && this._opt.disableSelect === false && this._opt.multiSelect === true) {\n                this._checkbox = new _checkbox.Checkbox({\n                    onCheck: this.selectAll.bind(this),\n                    onUncheck: this.deselectAll.bind(this)\n                }).insertTo(new _element.Element(\"th\", { \"class\": \"flagrate-grid-cell-checkbox\" }).insertTo(this._tr));\n            }\n            for (var i = 0, l = this._cols.length; i < l; i++) {\n                var col = this._cols[i];\n                col._id = this._id + \"-col-\" + col.key;\n                col._th = new _element.Element(\"th\").insertTo(this._tr);\n                if (col.id) {\n                    col._th.writeAttribute(\"id\", col.id);\n                }\n                if (col.className) {\n                    col._th.writeAttribute(\"class\", col.className);\n                }\n                if (col.attribute) {\n                    col._th.writeAttribute(col.attribute);\n                }\n                if (col.style) {\n                    col._th.setStyle(col.style);\n                }\n                col._th.addClassName(col._id);\n                var width = !!col.width ? col.width.toString(10) + \"px\" : \"auto\";\n                this._style.insertText(\".\" + col._id + \"{width:\" + width + \"}\");\n                if (col.align) {\n                    col._th.style.textAlign = col.align;\n                }\n                col._div = new _element.Element().insertTo(col._th);\n                if (col.label) {\n                    col._div.updateText(col.label);\n                }\n                if (col.icon) {\n                    col._div.addClassName(\"flagrate-icon\");\n                    col._div.setStyle({\n                        backgroundImage: \"url(\" + col.icon + \")\"\n                    });\n                }\n                if (this._opt.disableResize === false && !col.disableResize) {\n                    col._resizeHandle = new _element.Element(\"div\", {\n                        \"class\": \"flagrate-grid-col-resize-handle\"\n                    }).insertTo(this.element);\n                    col._resizeHandle.onmousedown = this._createResizeHandleOnMousedownHandler(col);\n                }\n                if (this._opt.disableSort === false && !col.disableSort) {\n                    col._th.addClassName(\"flagrate-grid-col-sortable\");\n                    col._th.onclick = this._createColOnClickHandler(col);\n                }\n            }\n            this._lastCol = new _element.Element(\"th\", { \"class\": this._id + \"-col-last\" }).insertTo(this._tr);\n            this._style.insertText(\".\" + this._id + \"-col-last:after{right:0}\");\n            // pagination (testing)\n            if (this._opt.pagination) {\n                this.element.addClassName(\"flagrate-grid-pagination\");\n                // pager container\n                this._pager = new _toolbar.Toolbar({\n                    className: \"flagrate-grid-pager\",\n                    items: [{\n                        key: \"rn\",\n                        element: new _element.Element(\"span\").insertText(\"-\")\n                    }, {\n                        key: \"first\",\n                        element: new _button.Button({\n                            className: \"flagrate-grid-pager-first\",\n                            onSelect: function onSelect() {\n                                _this3._pagePosition = 0;\n                                _this3._requestRender();\n                            }\n                        })\n                    }, {\n                        key: \"prev\",\n                        element: new _button.Button({\n                            className: \"flagrate-grid-pager-prev\",\n                            onSelect: function onSelect() {\n                                --_this3._pagePosition;\n                                _this3._requestRender();\n                            }\n                        })\n                    }, {\n                        key: \"num\",\n                        element: new _element.Element(\"span\", { \"class\": \"flagrate-grid-pager-num\" }).insertText(\"-\")\n                    }, {\n                        key: \"next\",\n                        element: new _button.Button({\n                            className: \"flagrate-grid-pager-next\",\n                            onSelect: function onSelect() {\n                                ++_this3._pagePosition;\n                                _this3._requestRender();\n                            }\n                        })\n                    }, {\n                        key: \"last\",\n                        element: new _button.Button({\n                            className: \"flagrate-grid-pager-last\",\n                            onSelect: function onSelect() {\n                                _this3._pagePosition = Math.floor(_this3._rows.length / _this3._opt.numberOfRowsPerPage);\n                                _this3._requestRender();\n                            }\n                        })\n                    }]\n                }).insertTo(this.element);\n            }\n            if (this._opt.fill) {\n                this.element.addClassName(\"flagrate-grid-fill\");\n                this._body.onscroll = this._createBodyOnScrollHandler();\n            } else {\n                this.element.onscroll = this._createOnScrollHandler();\n            }\n            if (this._opt.disableResize === false) {\n                this._layoutUpdater();\n            }\n            return this;\n        }\n    }, {\n        key: \"_layoutUpdater\",\n        value: function _layoutUpdater() {\n            var _this4 = this;\n\n            if (this._layoutInterval) {\n                clearInterval(this._layoutInterval);\n            }\n            this._layoutInterval = setInterval(function () {\n                if (_this4.element.exists() === false) {\n                    clearInterval(_this4._layoutInterval);\n                    return;\n                }\n                _this4._requestUpdateLayout();\n            }, 1000);\n        }\n    }, {\n        key: \"_requestUpdateLayout\",\n        value: function _requestUpdateLayout() {\n            var _this5 = this;\n\n            if (this._layoutWidth === this.element.clientWidth) {\n                return;\n            }\n            if (this._layoutTimer) {\n                clearTimeout(this._layoutTimer);\n            }\n            this._layoutTimer = setTimeout(function () {\n                _this5._layoutWidth = _this5.element.clientWidth;\n                _this5._updateLayoutOfCols();\n                _this5._updatePositionOfResizeHandles();\n            }, 0);\n        }\n    }, {\n        key: \"_requestRender\",\n        value: function _requestRender() {\n            if (this._renderTimer) {\n                clearTimeout(this._renderTimer);\n            }\n            this._renderTimer = setTimeout(this._render.bind(this), 0);\n            return this;\n        }\n    }, {\n        key: \"_render\",\n        value: function _render() {\n            if (!!this.onRender && this.onRender(this) === false) {\n                return this;\n            }\n            var isCheckable = this._opt.disableCheckbox === false && this._opt.disableSelect === false && this._opt.multiSelect === true;\n            var i = void 0,\n                j = void 0,\n                row = void 0,\n                col = void 0,\n                cell = void 0,\n                pl = void 0,\n                pages = void 0,\n                from = void 0,\n                to = void 0;\n            var rl = this._rows.length;\n            var cl = this._cols.length;\n            if (this._opt.pagination) {\n                pl = 0;\n                pages = Math.ceil(rl / this._opt.numberOfRowsPerPage);\n                if (pages <= this._pagePosition) {\n                    this._pagePosition = pages - 1;\n                }\n                if (this._pagePosition <= 0) {\n                    this._pagePosition = 0;\n                }\n                from = this._pagePosition * this._opt.numberOfRowsPerPage;\n                to = from + this._opt.numberOfRowsPerPage;\n            }\n            this._tbody.update();\n            for (i = 0; i < rl; i++) {\n                if (this._opt.pagination) {\n                    if (i < from) {\n                        continue;\n                    }\n                    if (i >= to) {\n                        break;\n                    }\n                    ++pl;\n                }\n                row = this._rows[i];\n                if (row._tr) {\n                    row._tr.insertTo(this._tbody);\n                    continue;\n                }\n                // init row\n                row._grid = this;\n                row._tr = new _element.Element(\"tr\").insertTo(this._tbody);\n                if (row.id) {\n                    row._tr.id = row.id;\n                }\n                if (row.className) {\n                    row._tr.className = row.className;\n                }\n                if (row.attribute) {\n                    row._tr.writeAttribute(row.attribute);\n                }\n                if (row.style) {\n                    row._tr.setStyle(row.style);\n                }\n                if (row.onClick || this.onClick || this._opt.disableSelect === false) {\n                    if (this._opt.disableSelect === false) {\n                        row._tr.addClassName(\"flagrate-grid-row-selectable\");\n                    }\n                    if (row.onClick || this.onClick) {\n                        row._tr.addClassName(\"flagrate-grid-row-clickable\");\n                    }\n                    row._tr.onclick = this._createRowOnClickHandler(row);\n                }\n                if (row.onDblClick || this.onDblClick) {\n                    row._tr.ondblclick = this._createRowOnDblClickHandler(row);\n                }\n                if (isCheckable && !row._checkbox) {\n                    row._checkbox = new _checkbox.Checkbox({\n                        onChange: this._createRowOnCheckHandler(row)\n                    }).insertTo(new _element.Element(\"td\", { \"class\": \"flagrate-grid-cell-checkbox\" }).insertTo(row._tr));\n                }\n                if (row.isSelected === true) {\n                    this.select(row);\n                }\n                for (j = 0; j < cl; j++) {\n                    col = this._cols[j];\n                    cell = row.cell[col.key] === undefined ? row.cell[col.key] = {} : row.cell[col.key];\n                    if (typeof cell === \"string\" || typeof cell === \"number\") {\n                        cell = row.cell[col.key] = { text: cell };\n                    }\n                    if (cell._td) {\n                        cell._td.insertTo(row._tr);\n                        continue;\n                    }\n                    // init cell\n                    cell._td = new _element.Element(\"td\").insertTo(row._tr);\n                    if (cell.id) {\n                        cell._td.id = cell.id;\n                    }\n                    if (cell.className) {\n                        cell._td.className = cell.className;\n                    }\n                    if (cell.attribute) {\n                        cell._td.writeAttribute(cell.attribute);\n                    }\n                    if (cell.style) {\n                        cell._td.setStyle(cell.style);\n                    }\n                    if (col.align) {\n                        cell._td.style.textAlign = col.align;\n                    }\n                    cell._td.addClassName(col._id);\n                    // init cell content\n                    cell._div = new _element.Element().insertTo(cell._td);\n                    if (cell.text !== undefined) {\n                        cell._div.updateText(cell.text);\n                    }\n                    if (cell.html) {\n                        cell._div.update(cell.html);\n                    }\n                    if (cell.element) {\n                        cell._div.update(cell.element);\n                    }\n                    if (cell.icon) {\n                        cell._div.addClassName(\"flagrate-icon\");\n                        cell._div.style.backgroundImage = \"url(\" + cell.icon + \")\";\n                    }\n                    if (cell.onClick) {\n                        cell._td.addClassName(\"flagrate-grid-cell-clickable\");\n                        cell._td.onclick = this._createCellOnClickHandler(cell);\n                    }\n                    if (cell.onDblClick) {\n                        cell._td.ondblclick = this._createCellOnDblClickHandler(cell);\n                    }\n                    // redefine props\n                    Object.defineProperties(cell, cellProps);\n                    // post-processing\n                    if (cell.postProcess) {\n                        cell.postProcess.call(this, cell._td, cell, this);\n                    }\n                }\n                if (!row._last) {\n                    row._last = new _element.Element(\"td\", { \"class\": this._id + \"-col-last\" });\n                }\n                row._last.insertTo(row._tr);\n                // menu\n                if (row.menuItems) {\n                    this._updateRowMenu(row, row.menuItems);\n                }\n                // redefine props\n                Object.defineProperties(row, rowProps);\n                // post-processing\n                if (row.postProcess) {\n                    row.postProcess.call(this, row._tr, row, this);\n                }\n                if (this.postProcessOfRow) {\n                    this.postProcessOfRow(row._tr, row, this);\n                }\n            } //<--for\n            if (this._opt.pagination) {\n                this._pager.getElementByKey(\"rn\").updateText(from + 1 + \" - \" + (from + pl) + \" / \" + rl);\n                this._pager.getElementByKey(\"num\").updateText(this._pagePosition + 1 + \" / \" + pages);\n            }\n            if (this._opt.disableResize === false) {\n                if (this._opt.fill) {\n                    this._head.style.right = this._body.offsetWidth - this._body.clientWidth + \"px\";\n                    this._head.scrollLeft = this._body.scrollLeft;\n                }\n                this._requestUpdateLayout();\n            }\n            if (this.onRendered) {\n                this.onRendered(this);\n            }\n            return this;\n        }\n    }, {\n        key: \"_updateRowMenu\",\n        value: function _updateRowMenu(row, items) {\n            if (row._menu) {\n                row._menu.remove();\n                delete row._menu;\n            }\n            if (items && items.length !== 0) {\n                row._last.addClassName(\"flagrate-grid-cell-menu\");\n                row._menu = new _contextMenu.ContextMenu({\n                    target: row._tr,\n                    items: items\n                });\n                if (!row._last.onclick) {\n                    row._last.onclick = row._grid._createLastRowOnClickHandler(row);\n                }\n            } else {\n                row._last.removeClassName(\"flagrate-grid-cell-menu\");\n            }\n        }\n    }, {\n        key: \"_updatePositionOfResizeHandles\",\n        value: function _updatePositionOfResizeHandles() {\n            var adj = this._opt.fill ? -this._body.scrollLeft : 0;\n            var col = void 0;\n            for (var i = 0, l = this._cols.length; i < l; i++) {\n                col = this._cols[i];\n                if (col._resizeHandle) {\n                    col._resizeHandle.style.left = col._th.offsetLeft + col._th.getWidth() + adj + \"px\";\n                }\n            }\n        }\n    }, {\n        key: \"_updateLayoutOfCols\",\n        value: function _updateLayoutOfCols(surplus) {\n            var _this6 = this;\n\n            var fixed = true;\n            var minimized = 0;\n            var col = void 0;\n            for (var i = 0, l = this._cols.length; i < l; i++) {\n                col = this._cols[i];\n                if (col.width) {\n                    continue;\n                }\n                var width = \"auto\";\n                var minWidth = col.minWidth === undefined ? this._opt.colMinWidth : col.minWidth;\n                if (surplus) {\n                    width = surplus + \"px\";\n                } else if (minWidth >= col._th.getWidth()) {\n                    width = minWidth + \"px\";\n                    ++minimized;\n                } else {\n                    fixed = false;\n                }\n                this._style.updateText(this._style.innerHTML.replace(new RegExp(\"(\" + col._id + \"{width:)([^}]*)}\"), \"$1\" + width + \"}\"));\n            }\n            if (fixed) {\n                this.element.addClassName(\"flagrate-grid-fixed\");\n            } else {\n                this.element.removeClassName(\"flagrate-grid-fixed\");\n            }\n            setTimeout(function () {\n                var base = _this6._opt.fill ? _this6._body : _this6.element;\n                _this6._style.updateText(_this6._style.innerHTML.replace(new RegExp(\"(\" + _this6._id + \"-col-last:after{right:)([^}]*)}\"), \"$1\" + (base.scrollWidth - base.clientWidth - base.scrollLeft) + \"px!important}\"));\n                var _surplus = _this6._lastCol.getWidth();\n                if (fixed && !surplus && _surplus && minimized) {\n                    _this6._updateLayoutOfCols(Math.floor(_surplus / minimized));\n                }\n            }, 0);\n        }\n    }, {\n        key: \"_createOnScrollHandler\",\n        value: function _createOnScrollHandler() {\n            var _this7 = this;\n\n            return function (e) {\n                if (_this7._opt.disableResize === false) {\n                    _this7._updateLayoutOfCols();\n                }\n            };\n        }\n    }, {\n        key: \"_createBodyOnScrollHandler\",\n        value: function _createBodyOnScrollHandler() {\n            var _this8 = this;\n\n            return function (e) {\n                _this8._head.style.right = _this8._body.offsetWidth - _this8._body.clientWidth + \"px\";\n                _this8._head.scrollLeft = _this8._body.scrollLeft;\n                if (_this8._opt.disableResize === false) {\n                    _this8._updateLayoutOfCols();\n                    _this8._updatePositionOfResizeHandles();\n                }\n            };\n        }\n    }, {\n        key: \"_createColOnClickHandler\",\n        value: function _createColOnClickHandler(col) {\n            var _this9 = this;\n\n            return function (e) {\n                _this9.sort(col.key, !col.isAsc);\n            };\n        }\n    }, {\n        key: \"_createRowOnClickHandler\",\n        value: function _createRowOnClickHandler(row) {\n            var _this10 = this;\n\n            return function (e) {\n                if (/firefox/i.test(navigator.userAgent) === true) {\n                    window.event = e;\n                }\n                if (_this10.isEnabled() === false) {\n                    return;\n                }\n                if (row.onClick) {\n                    row.onClick.call(_this10, e, row, _this10);\n                }\n                if (_this10.onClick) {\n                    _this10.onClick(e, row, _this10);\n                }\n                if (_this10._opt.disableSelect === false) {\n                    if (row.isSelected === true) {\n                        _this10.deselect(row);\n                    } else {\n                        _this10.select(row);\n                    }\n                }\n                if (row._checkbox) {\n                    row._checkbox.focus();\n                }\n                return false;\n            };\n        }\n    }, {\n        key: \"_createRowOnDblClickHandler\",\n        value: function _createRowOnDblClickHandler(row) {\n            var _this11 = this;\n\n            return function (e) {\n                if (/firefox/i.test(navigator.userAgent) === true) {\n                    window.event = e;\n                }\n                if (_this11.isEnabled() === false) {\n                    return;\n                }\n                if (row.onDblClick) {\n                    row.onDblClick.call(_this11, e, row, _this11);\n                }\n                if (_this11.onDblClick) {\n                    _this11.onDblClick(e, row, _this11);\n                }\n            };\n        }\n    }, {\n        key: \"_createCellOnClickHandler\",\n        value: function _createCellOnClickHandler(cell) {\n            var _this12 = this;\n\n            return function (e) {\n                if (_this12.isEnabled() === false) {\n                    return;\n                }\n                if (cell.onClick) {\n                    cell.onClick.call(_this12, e, cell, _this12);\n                }\n            };\n        }\n    }, {\n        key: \"_createCellOnDblClickHandler\",\n        value: function _createCellOnDblClickHandler(cell) {\n            var _this13 = this;\n\n            return function (e) {\n                if (_this13.isEnabled() === false) {\n                    return;\n                }\n                if (cell.onDblClick) {\n                    cell.onDblClick.call(_this13, e, cell, _this13);\n                }\n            };\n        }\n    }, {\n        key: \"_createRowOnCheckHandler\",\n        value: function _createRowOnCheckHandler(row) {\n            var _this14 = this;\n\n            return function (e) {\n                if (_this14.isEnabled() === false) {\n                    if (e.targetCheckbox.isChecked() === true) {\n                        e.targetCheckbox.uncheck();\n                    } else {\n                        e.targetCheckbox.check();\n                    }\n                    return;\n                }\n                if (_this14._opt.disableSelect === false) {\n                    if (row._checkbox.isChecked() === true) {\n                        _this14.select(row);\n                    } else {\n                        _this14.deselect(row);\n                    }\n                }\n            };\n        }\n    }, {\n        key: \"_createLastRowOnClickHandler\",\n        value: function _createLastRowOnClickHandler(row) {\n            var _this15 = this;\n\n            return function (e) {\n                if (_this15.isEnabled() === false) {\n                    return;\n                }\n                e.stopPropagation();\n                if (row._menu) {\n                    row._menu.open(e);\n                }\n            };\n        }\n    }, {\n        key: \"_createResizeHandleOnMousedownHandler\",\n        value: function _createResizeHandleOnMousedownHandler(col) {\n            var _this16 = this;\n\n            return function (e) {\n                //e.stopPropagation();\n                e.preventDefault();\n                var current = e.clientX;\n                var origin = current;\n                var onMove = function onMove(e) {\n                    e.preventDefault();\n                    var delta = e.clientX - current;\n                    current += delta;\n                    col._resizeHandle.style.left = parseInt(col._resizeHandle.style.left.replace(\"px\", \"\"), 10) + delta + \"px\";\n                };\n                var onUp = function onUp(e) {\n                    e.preventDefault();\n                    document.removeEventListener(\"mousemove\", onMove, true);\n                    document.removeEventListener(\"mouseup\", onUp, true);\n                    var minWidth = col.minWidth === undefined ? _this16._opt.colMinWidth : col.minWidth;\n                    var delta = e.clientX - origin;\n                    var width = col._th.getWidth() + delta;\n                    width = col.width = Math.max(width, minWidth);\n                    _this16._style.updateText(_this16._style.innerHTML.replace(new RegExp(\"(\" + col._id + \"{width:)([^}]*)}\"), \"$1\" + width + \"px}\"));\n                    _this16._updateLayoutOfCols();\n                    _this16._updatePositionOfResizeHandles();\n                };\n                document.addEventListener(\"mousemove\", onMove, true);\n                document.addEventListener(\"mouseup\", onUp, true);\n            };\n        }\n    }, {\n        key: \"headless\",\n        get: function get() {\n            return this.element.hasClassName(\"flagrate-grid-headless\");\n        },\n        set: function set(enable) {\n            if (enable) {\n                this.element.addClassName(\"flagrate-grid-headless\");\n            } else {\n                this.element.removeClassName(\"flagrate-grid-headless\");\n            }\n        }\n    }, {\n        key: \"fill\",\n        get: function get() {\n            return this.element.hasClassName(\"flagrate-grid-fill\");\n        },\n        set: function set(enable) {\n            if (enable) {\n                this.element.addClassName(\"flagrate-grid-fill\");\n                this._body.onscroll = this._createBodyOnScrollHandler();\n            } else {\n                this.element.removeClassName(\"flagrate-grid-fill\");\n                this.element.onscroll = this._createOnScrollHandler();\n            }\n            this._requestRender();\n        }\n    }, {\n        key: \"rows\",\n        get: function get() {\n            return this._rows;\n        },\n        set: function set(rows) {\n            this._rows = rows;\n            this._requestRender();\n        }\n    }, {\n        key: \"sortedByKey\",\n        get: function get() {\n            return this._sortedByKey;\n        }\n    }, {\n        key: \"sortedByAsc\",\n        get: function get() {\n            return this._sortedByAsc;\n        }\n    }, {\n        key: \"selectedRows\",\n        get: function get() {\n            return this.getSelectedRows();\n        },\n        set: function set(rows) {\n            this.select(rows);\n        }\n    }]);\n\n    return Grid;\n}();\n\nGrid.idCounter = 0;\nfunction createGrid(a) {\n    return new Grid(a);\n}\n/** get value of row */\nfunction getValue() {\n    var row = this;\n    if (row.value !== undefined) {\n        return row.value;\n    }\n    var ret = {};\n    for (var key in row.cell) {\n        if (_typeof(row.cell[key]) === \"object\" && row.cell[key].value !== undefined) {\n            ret[key] = row.cell[key].value;\n        }\n    }\n    return ret;\n}\nvar hiddenProp = { enumerable: false };\nvar rowProps = {\n    _checkbox: hiddenProp,\n    _grid: hiddenProp,\n    _last: hiddenProp,\n    _menu: hiddenProp,\n    _tr: hiddenProp,\n    className: hiddenProp,\n    attribute: hiddenProp,\n    style: hiddenProp,\n    postProcess: hiddenProp,\n    tr: {\n        enumerable: true,\n        get: function get() {\n            return this._tr;\n        }\n    },\n    id: {\n        enumerable: true,\n        get: function get() {\n            return this._tr.id || undefined;\n        },\n        set: function set(id) {\n            this._tr.id = id;\n        }\n    },\n    menuItems: {\n        enumerable: true,\n        get: function get() {\n            if (this._menu) {\n                return this._menu.items;\n            }\n        },\n        set: function set(items) {\n            this._grid._updateRowMenu(this, items);\n        }\n    }\n};\nvar cellProps = {\n    _td: hiddenProp,\n    _div: hiddenProp,\n    className: hiddenProp,\n    attribute: hiddenProp,\n    style: hiddenProp,\n    postProcess: hiddenProp,\n    td: {\n        enumerable: true,\n        get: function get() {\n            return this._td;\n        }\n    },\n    div: {\n        enumerable: true,\n        get: function get() {\n            return this._div;\n        }\n    },\n    id: {\n        enumerable: true,\n        get: function get() {\n            return this._td.id || undefined;\n        },\n        set: function set(id) {\n            this._td.id = id;\n        }\n    },\n    align: {\n        enumerable: true,\n        get: function get() {\n            return this._td.style.textAlign || undefined;\n        },\n        set: function set(align) {\n            this._td.style.textAlign = align;\n        }\n    },\n    text: {\n        enumerable: false,\n        get: function get() {\n            return this._div.innerText;\n        },\n        set: function set(text) {\n            this._div.updateText(text);\n        }\n    },\n    html: {\n        enumerable: false,\n        get: function get() {\n            return this._div.innerHTML;\n        },\n        set: function set(html) {\n            this._div.update(html);\n        }\n    },\n    element: {\n        enumerable: false,\n        get: function get() {\n            return this._div.firstChild;\n        },\n        set: function set(element) {\n            this._div.update(element);\n        }\n    },\n    icon: {\n        enumerable: true,\n        get: function get() {\n            return this._div.style.backgroundImage.replace(/(.*url\\()([^)]+)(\\).*)/, \"$2\") || undefined;\n        },\n        set: function set(url) {\n            var cell = this;\n            if (url) {\n                cell._div.addClassName(\"flagrate-icon\");\n                cell._div.style.backgroundImage = \"url(\" + url + \")\";\n            } else {\n                cell._div.removeClassName(\"flagrate-icon\");\n                cell._div.style.backgroundImage = \"\";\n            }\n        }\n    }\n};\n\n\n\n},{\"./button\":9,\"./checkbox\":11,\"./context-menu\":14,\"./element\":15,\"./toolbar\":34}],18:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Menu = undefined;\nexports.createMenu = createMenu;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar _button = require(\"./button\");\n\nvar button = _interopRequireWildcard(_button);\n\nvar _buttons = require(\"./buttons\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*?\n    flagrate.createMenu(option)\n    new flagrate.Menu(option)\n    - option (Object) - options.\n\r\n    Menu.\n\r\n    #### option\n\r\n    * `id`                       (String): `id` attribute of container element.\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `items`                    (Array): of item\n    * `onSelect`                 (Function):\n\r\n    #### item\n\r\n    * `key`                      (String):\n    * `label`                    (String; default `\"\"`):\n    * `icon`                     (String):\n    * `isDisabled`               (Boolean; default `false`):\n    * `onSelect`                 (Function):\n**/\nfunction FMenu() {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    option.items = option.items || [];\n    this.onSelect = option.onSelect || _util.emptyFunction;\n    var attr = option.attribute || {};\n    if (option.id) {\n        attr[\"id\"] = option.id;\n    }\n    // create a container\n    var container = new _element.Element(\"div\", attr);\n    (0, _util.extendObject)(container, this);\n    container.addClassName(\"flagrate flagrate-menu\");\n    if (option.className) {\n        container.addClassName(option.className);\n    }\n    if (option.style) {\n        container.setStyle(option.style);\n    }\n    for (var i = 0, l = option.items.length; i < l; i++) {\n        container.push(option.items[i]);\n    }\n    container.addEventListener(\"click\", function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n    });\n    container.addEventListener(\"mouseup\", function (e) {\n        e.stopPropagation();\n    });\n    return container;\n}\nvar Menu = exports.Menu = FMenu;\nfunction createMenu(option) {\n    return new Menu(option);\n}\nMenu.prototype = {\n    push: function push(option) {\n        var _this = this;\n\n        if (typeof option === \"string\") {\n            new _element.Element(\"hr\").insertTo(this);\n        } else {\n            var _onSelect = option.onSelect;\n            option.onSelect = function (e, button) {\n                if (_onSelect) {\n                    _onSelect.call(button, e, button);\n                }\n                _this.onSelect(e, _this);\n            };\n            var btn = new button.Button(option).insertTo(this);\n            if (option.key) {\n                btn.dataset[\"_key\"] = option.key;\n            }\n        }\n        return this;\n    },\n\n    getButtonByKey: _buttons.Buttons.prototype.getButtonByKey,\n    getButtons: _buttons.Buttons.prototype.getButtons\n};\n\n\n\n},{\"./button\":9,\"./buttons\":10,\"./element\":15,\"./util\":36}],19:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Modal = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.createModal = createModal;\n\nvar _element = require(\"./element\");\n\nvar _button = require(\"./button\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*?\n    flagrate.createModal(option)\n    new flagrate.Modal(option)\n    - option (Object) - configuration for the modal.\n\r\n    Create and initialize the modal.\n\r\n    #### option\n\r\n    * `target`                   (Element; default `document.body`):\n    * `id`                       (String):\n    * `className`                (String):\n    * `title`                    (String):\n    * `subtitle`                 (String):\n    * `text`                     (String):\n    * `html`                     (String):\n    * `element`                  (Element):\n    * `href`                     (String):\n    * `buttons`                  (Array): of button object.\n    * `sizing`                   (String;  default `\"flex\"`; `\"flex\"` | `\"full\"`):\n    * `onBeforeClose`            (Function):\n    * `onClose`                  (Function):\n    * `onShow`                   (Function):\n    * `disableCloseButton`       (Boolean; default `false`):\n    * `disableCloseByMask`       (Boolean; default `false`):\n    * `disableCloseByEsc`        (Boolean; default `false`):\n\r\n    #### button\n\r\n    * `key`                      (String):\n    * `label`                    (String; required):\n    * `icon`                     (String):\n    * `color`                    (String):\n    * `onSelect`                 (Function):\n    * `isFocused`                (Boolean; default `false`):\n    * `isDisabled`               (Boolean; default `false`):\n    * `className`                (String):\n**/\nvar Modal = exports.Modal = function () {\n    function Modal() {\n        var _opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, Modal);\n\n        this._opt = _opt;\n        this._buttons = [];\n        this._close = this.close.bind(this);\n        this.__onKeydownHandler = this._onKeydownHandler.bind(this);\n        if (!_opt.target) {\n            _opt.target = document.body;\n        }\n        if (!_opt.sizing) {\n            _opt.sizing = \"flex\";\n        }\n        if (_opt.disableCloseButton === undefined) {\n            _opt.disableCloseButton = false;\n        }\n        if (_opt.disableCloseByMask === undefined) {\n            _opt.disableCloseByMask = false;\n        }\n        if (_opt.disableCloseByEsc === undefined) {\n            _opt.disableCloseByEsc = false;\n        }\n        if (_opt[\"description\"]) {\n            // description has deprecated but no schedule to remove.\n            this._opt.subtitle = _opt[\"description\"];\n        }\n        if (_opt.buttons) {\n            this._buttons = _opt.buttons;\n        }\n        if (_opt.onBeforeClose) {\n            this.onBeforeClose = _opt.onBeforeClose;\n        }\n        if (_opt.onClose) {\n            this.onClose = _opt.onClose;\n        }\n        if (_opt.onShow) {\n            this.onShow = _opt.onShow;\n        }\n        if (this._buttons.length === 0) {\n            this._buttons = [{\n                label: \"OK\",\n                color: \"@primary\",\n                onSelect: this._close,\n                isFocused: true\n            }];\n        }\n        this._create();\n    }\n\n    _createClass(Modal, [{\n        key: \"setId\",\n        value: function setId(id) {\n            this._container.id = id;\n            return this;\n        }\n    }, {\n        key: \"setClassName\",\n        value: function setClassName(className) {\n            this._container.className = className;\n            return this;\n        }\n    }, {\n        key: \"setContent\",\n        value: function setContent(div) {\n            this._opt.content = div;\n            this._middle.update(div);\n            return this;\n        }\n    }, {\n        key: \"setSizing\",\n        value: function setSizing(sizing) {\n            this._container.removeClassName(\"flagrate-sizing-\" + this._opt.sizing);\n            this._container.addClassName(\"flagrate-sizing-\" + sizing);\n            this._opt.sizing = sizing;\n            return this;\n        }\n    }, {\n        key: \"setElement\",\n        value: function setElement(element) {\n            this._opt.element = element;\n            this._content.update(element);\n            return this;\n        }\n    }, {\n        key: \"setHTML\",\n        value: function setHTML(html) {\n            this._opt.html = html;\n            this._content.update(html);\n            return this;\n        }\n    }, {\n        key: \"setText\",\n        value: function setText(text) {\n            this._opt.text = text;\n            this._content.updateText(text);\n            return this;\n        }\n    }, {\n        key: \"setTitle\",\n        value: function setTitle(title) {\n            this._opt.title = title;\n            this._title.updateText(title);\n            return this;\n        }\n    }, {\n        key: \"setSubtitle\",\n        value: function setSubtitle(subtitle) {\n            this._opt.subtitle = subtitle;\n            this._subtitle.updateText(subtitle);\n            return this;\n        }\n    }, {\n        key: \"visible\",\n        value: function visible() {\n            return this._container.hasClassName(\"flagrate-modal-visible\");\n        }\n    }, {\n        key: \"open\",\n        value: function open() {\n            var _this = this;\n\n            if (this.visible() === true) {\n                return this;\n            }\n            // make free\n            if (document.activeElement && document.activeElement[\"blur\"]) {\n                document.activeElement.blur();\n            }\n            window.getSelection().removeAllRanges();\n            if (this._closingTimer) {\n                clearTimeout(this._closingTimer);\n            }\n            _element.Element.insert(this._opt.target, this._container);\n            setTimeout(function () {\n                return _this._container.addClassName(\"flagrate-modal-visible\");\n            }, 0);\n            // Callback: onShow\n            if (this.onShow) {\n                this.onShow(this);\n            }\n            this._positioning();\n            // focus to primary button\n            if (this._buttons[0]) {\n                this._buttons[0]._button.focus();\n            }\n            window.addEventListener(\"keydown\", this.__onKeydownHandler, true);\n            return this;\n        }\n        /** DEPRECATED */\n\n    }, {\n        key: \"show\",\n        value: function show() {\n            return this.open();\n        }\n        /** DEPRECATED */\n\n    }, {\n        key: \"render\",\n        value: function render() {\n            return this.open();\n        }\n    }, {\n        key: \"close\",\n        value: function close(e) {\n            var _this2 = this;\n\n            if (this.visible() === false) {\n                return this;\n            }\n            this._container.removeClassName(\"flagrate-modal-visible\");\n            if (e) {\n                e.stopPropagation();\n                e.preventDefault();\n            }\n            // Callback: onBeforeClose\n            if (this.onBeforeClose) {\n                if (this.onBeforeClose(this, e) === false) {\n                    return this; //abort closing\n                }\n            }\n            clearTimeout(this._positioningTimer);\n            this._closingTimer = setTimeout(function () {\n                return _this2._container.remove();\n            }, 1000);\n            window.removeEventListener(\"keydown\", this.__onKeydownHandler, true);\n            // Callback: onClose\n            if (this.onClose) {\n                this.onClose(this, e);\n            }\n            return this;\n        }\n    }, {\n        key: \"getButtonByKey\",\n        value: function getButtonByKey(key) {\n            var result = null;\n            var buttons = this._buttons;\n            for (var i = 0; i < buttons.length; i++) {\n                if (!buttons[i].key) {\n                    continue;\n                }\n                if (buttons[i].key === key) {\n                    result = buttons[i]._button;\n                    break;\n                }\n            }\n            return result;\n        }\n    }, {\n        key: \"getButtons\",\n        value: function getButtons() {\n            return this._buttons.map(function (button) {\n                return button._button;\n            });\n        }\n    }, {\n        key: \"setButtons\",\n        value: function setButtons(buttons) {\n            this._buttons = buttons;\n            this._createButtons();\n            return this;\n        }\n    }, {\n        key: \"_create\",\n        value: function _create() {\n            this._createBase();\n            this._createModal();\n            this._createButtons();\n        }\n    }, {\n        key: \"_createBase\",\n        value: function _createBase() {\n            this._container = new _element.Element(\"div\", {\n                id: this._opt.id,\n                \"class\": \"flagrate flagrate-modal flagrate-sizing-\" + this._opt.sizing\n            });\n            if (this._opt.className) {\n                this._container.addClassName(this._opt.className);\n            }\n            if (this._opt.target !== document.body) {\n                this._container.style.position = \"absolute\";\n            }\n            this._obi = new _element.Element().insertTo(this._container);\n            if (this._opt.disableCloseByMask === false) {\n                this._container.addEventListener(\"click\", this._close);\n            }\n        }\n    }, {\n        key: \"_createModal\",\n        value: function _createModal() {\n            this._modal = new _element.Element().insertTo(this._obi);\n            this._modal.addEventListener(\"click\", function (e) {\n                return e.stopPropagation();\n            });\n            this._closeButton = new _button.Button({\n                label: \"\",\n                onSelect: this._close\n            });\n            if (this._opt.disableCloseButton === false) {\n                this._closeButton.insertTo(this._modal);\n            }\n            this._header = new _element.Element(\"hgroup\").insertTo(this._modal);\n            this._title = new _element.Element(\"h1\").insertText(this._opt.title || \"\").insertTo(this._header);\n            this._subtitle = new _element.Element(\"small\").insertText(this._opt.subtitle || \"\").insertTo(this._header);\n            this._middle = new _element.Element().insertTo(this._modal);\n            if (this._opt.content) {\n                this._middle.insert(this._opt.content);\n            } else {\n                this._content = new _element.Element().insertTo(this._middle);\n                if (this._opt.element) {\n                    this._content.insert(this._opt.element);\n                } else if (this._opt.html) {\n                    this._content.insert(this._opt.html);\n                } else if (this._opt.text) {\n                    this._content.insertText(this._opt.text);\n                }\n            }\n            this._footer = new _element.Element(\"footer\").insertTo(this._modal);\n        }\n    }, {\n        key: \"_createButtons\",\n        value: function _createButtons() {\n            var _this3 = this;\n\n            if (this._footer.hasChildNodes() === true) {\n                this._footer.update();\n            }\n            this._buttons.forEach(function (button) {\n                button._button = new _button.Button({\n                    className: button.className,\n                    label: button.label,\n                    icon: button.icon,\n                    color: button.color,\n                    isFocused: button.isFocused || false,\n                    isDisabled: button.isDisabled,\n                    onSelect: function onSelect(e) {\n                        if (button.onSelect) {\n                            button.onSelect.call(e.targetButton, e, _this3);\n                        } else if (button[\"onClick\"]) {\n                            console.warn(\"ModalButton#onClick is deprecated. Use ModalButton#onSelect instead.\");\n                            button[\"onClick\"](e, _this3); // DEPRECATED\n                        }\n                    }\n                });\n                // DEPRECATED, This is for backward compatibility.\n                button._button[\"button\"] = button;\n                button[\"button\"] = button._button;\n                button[\"disable\"] = button._button.disable.bind(button._button);\n                button[\"enable\"] = button._button.enable.bind(button._button);\n                button[\"setColor\"] = button._button.setColor.bind(button._button);\n                _this3._footer.insert(button._button);\n            });\n        }\n    }, {\n        key: \"_positioning\",\n        value: function _positioning() {\n            var _this4 = this;\n\n            var baseWidth = -1;\n            var baseHeight = -1;\n            var modalWidth = -1;\n            var modalHeight = -1;\n            var update = function update() {\n                if (baseWidth !== _this4._container.getWidth() || baseHeight !== _this4._container.getHeight() || modalWidth !== _this4._modal.getWidth() || modalHeight !== _this4._modal.getHeight()) {\n                    baseWidth = _this4._container.getWidth();\n                    baseHeight = _this4._container.getHeight();\n                    modalWidth = _this4._modal.getWidth();\n                    modalHeight = _this4._modal.getHeight();\n                    if (_this4._opt.sizing === \"flex\") {\n                        if (baseWidth - 20 <= modalWidth) {\n                            _this4._modal.style.left = \"0\";\n                            _this4._middle.style.width = baseWidth + \"px\";\n                            _this4._middle.style.overflowX = \"auto\";\n                        } else {\n                            _this4._modal.style.left = Math.floor(baseWidth / 2 - modalWidth / 2) + \"px\";\n                            _this4._middle.style.width = \"\";\n                            _this4._middle.style.overflowX = \"visible\";\n                        }\n                        if (baseHeight - 20 <= modalHeight) {\n                            _this4._obi.style.top = \"10px\";\n                            _this4._obi.style.bottom = \"10px\";\n                            _this4._obi.style.height = \"\";\n                            _this4._middle.style.height = baseHeight - _this4._header.getHeight() - _this4._footer.getHeight() - 20 + \"px\";\n                            _this4._middle.style.overflowY = \"auto\";\n                        } else {\n                            _this4._obi.style.top = baseHeight / 2 - modalHeight / 2 + \"px\";\n                            _this4._obi.style.bottom = \"\";\n                            _this4._obi.style.height = modalHeight + \"px\";\n                            _this4._middle.style.height = \"\";\n                            _this4._middle.style.overflowY = \"visible\";\n                        }\n                    }\n                    if (_this4._opt.sizing === \"full\") {\n                        _this4._modal.style.right = \"10px\";\n                        _this4._modal.style.left = \"10px\";\n                        _this4._middle.style.overflowX = \"auto\";\n                        _this4._obi.style.top = \"10px\";\n                        _this4._obi.style.bottom = \"10px\";\n                        _this4._obi.style.height = \"\";\n                        _this4._middle.style.height = baseHeight - _this4._header.getHeight() - _this4._footer.getHeight() - 20 + \"px\";\n                        _this4._middle.style.overflowY = \"auto\";\n                    }\n                }\n                ;\n                _this4._positioningTimer = setTimeout(update, 30);\n            };\n            this._positioningTimer = setTimeout(update, 0);\n        }\n    }, {\n        key: \"_onKeydownHandler\",\n        value: function _onKeydownHandler(e) {\n            var active = document.activeElement && document.activeElement.tagName;\n            if (this.visible() === false) {\n                return;\n            }\n            if (active !== \"BODY\" && active !== \"DIV\" && active !== \"BUTTON\") {\n                return;\n            }\n            if (window.getSelection().toString() !== \"\") {\n                return;\n            }\n            var activated = false;\n            // TAB:9\n            if (e.keyCode === 9 && active !== \"BUTTON\") {\n                activated = true;\n                if (this._closeButton) {\n                    this._closeButton.focus();\n                } else if (this._buttons[0]) {\n                    this._buttons[0]._button.focus();\n                }\n            }\n            // ENTER:13\n            if (e.keyCode === 13 && this._buttons[0] && active !== \"BUTTON\") {\n                activated = true;\n                this._buttons[0]._button.click();\n            }\n            // ESC:27\n            if (e.keyCode === 27 && this._opt.disableCloseByEsc === false) {\n                activated = true;\n                this.close();\n            }\n            if (activated === true) {\n                e.stopPropagation();\n                e.preventDefault();\n            }\n        }\n    }, {\n        key: \"buttons\",\n        get: function get() {\n            return this.getButtons();\n        }\n    }, {\n        key: \"id\",\n        get: function get() {\n            return this._container.id;\n        },\n        set: function set(id) {\n            this._container.id = id;\n        }\n    }, {\n        key: \"className\",\n        get: function get() {\n            return this._container.className;\n        },\n        set: function set(className) {\n            this._container.className = className;\n        }\n    }, {\n        key: \"content\",\n        get: function get() {\n            return this._content;\n        },\n        set: function set(div) {\n            this.setContent(div);\n        }\n    }, {\n        key: \"sizing\",\n        get: function get() {\n            return this._opt.sizing;\n        },\n        set: function set(sizing) {\n            this.setSizing(sizing);\n        }\n    }, {\n        key: \"element\",\n        get: function get() {\n            return this._opt.element;\n        },\n        set: function set(element) {\n            this.setElement(element);\n        }\n    }, {\n        key: \"html\",\n        get: function get() {\n            return this._opt.html;\n        },\n        set: function set(html) {\n            this.setHTML(html);\n        }\n    }, {\n        key: \"text\",\n        get: function get() {\n            return this._opt.text;\n        },\n        set: function set(text) {\n            this.setText(text);\n        }\n    }, {\n        key: \"title\",\n        get: function get() {\n            return this._opt.title;\n        },\n        set: function set(title) {\n            this.setTitle(title);\n        }\n    }, {\n        key: \"subtitle\",\n        get: function get() {\n            return this._opt.subtitle;\n        },\n        set: function set(subtitle) {\n            this.setSubtitle(subtitle);\n        }\n    }]);\n\n    return Modal;\n}();\n\nfunction createModal(option) {\n    return new Modal(option);\n}\n\n\n\n},{\"./button\":9,\"./element\":15}],20:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Notify = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.createNotify = createNotify;\n\nvar _element = require(\"./element\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*?\n    flagrate.createNotify(option)\n    new flagrate.Notify(option)\n    - option (Object) - configuration for the notifications.\n\r\n    Initialize the notifications.\n\r\n    #### option\n\r\n    * `target`                (Element; default `document.body`):\n    * `className`             (String):\n    * `disableDesktopNotify`  (Boolean; default `false`):\n    * `disableFocusDetection` (Boolean; default `false`):\n    * `hAlign`                (String;  default `\"right\"`; `\"right\"` | `\"left\"`):\n    * `vAlign`                (String;  default `\"bottom\"`; `\"top\"` | `\"bottom\"`):\n    * `hMargin`               (Number;  default `10`):\n    * `vMargin`               (Number;  default `10`):\n    * `spacing`               (Number;  default `10`):\n    * `timeout`               (Number;  default `5`):\n    * `title`                 (String;  default `\"Notify\"`):\n**/\nvar Notify = exports.Notify = function () {\n    function Notify() {\n        var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, Notify);\n\n        this.target = document.body;\n        this.disableDesktopNotify = false;\n        this.disableFocusDetection = false;\n        this.hAlign = \"right\";\n        this.vAlign = \"bottom\";\n        this.hMargin = 10; //pixels\n        this.vMargin = 10; //pixels\n        this.spacing = 10; //pixels\n        this.timeout = 5; //seconds\n        this.title = \"Notify\";\n        this._notifies = [];\n        if (opt.target) {\n            this.target = opt.target;\n        }\n        if (opt.className) {\n            this.className = opt.className;\n        }\n        if (opt.disableDesktopNotify) {\n            this.disableDesktopNotify = opt.disableDesktopNotify;\n        }\n        if (opt.disableFocusDetection) {\n            this.disableFocusDetection = opt.disableFocusDetection;\n        }\n        if (opt.hAlign) {\n            this.hAlign = opt.hAlign;\n        }\n        if (opt.vAlign) {\n            this.vAlign = opt.vAlign;\n        }\n        if (opt.hMargin) {\n            this.hMargin = opt.hMargin;\n        }\n        if (opt.vMargin) {\n            this.vMargin = opt.vMargin;\n        }\n        if (opt.spacing) {\n            this.spacing = opt.spacing;\n        }\n        if (opt.timeout) {\n            this.timeout = opt.timeout;\n        }\n        if (opt.title) {\n            this.title = opt.title;\n        }\n        if (opt.icon) {\n            this.icon = opt.icon;\n        }\n        this._init();\n    }\n\n    _createClass(Notify, [{\n        key: \"create\",\n        value: function create() {\n            var _this = this;\n\n            var _opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            var opt = void 0;\n            // sugar\n            if (typeof _opt === \"string\") {\n                opt = {\n                    text: _opt\n                };\n            } else {\n                opt = _opt;\n            }\n            /*- Desktop notify -*/\n            if (this.disableDesktopNotify === false) {\n                var hasFocus = !!document.hasFocus ? document.hasFocus() : false;\n                if (this.disableFocusDetection === false && hasFocus === false) {\n                    if (this._createDesktopNotify(opt) === true) {\n                        return this;\n                    }\n                }\n            }\n            /*- Setting up -*/\n            var title = opt.title || this.title;\n            var message = opt.message || opt.body || opt.content || opt.text || null;\n            var onClick = opt.onClick;\n            var onClose = opt.onClose;\n            var timeout = opt.timeout !== void 0 ? opt.timeout : this.timeout;\n            var icon = opt.icon || this.icon;\n            var isAlive = true;\n            var closeTimer = void 0;\n            /*- Positions -*/\n            var hPosition = this.hMargin;\n            var vPosition = this.vMargin;\n            /*- Create a new element for notify -*/\n            //\n            // <div class=\"flagrate-notify\">\n            //   <div class=\"title\">Notification</div>\n            //   <div class=\"text\">yadda yadda yadda..</div>\n            //   <div class=\"close\">&#xd7;</div>\n            // </div>\n            //\n            var notify = new _element.Element(\"div\", { \"class\": this.className });\n            notify.addClassName(\"flagrate flagrate-notify\");\n            new _element.Element(\"div\", { \"class\": \"title\" }).insertText(title).insertTo(notify);\n            new _element.Element(\"div\", { \"class\": \"text\" }).insertText(message).insertTo(notify);\n            var notifyClose = new _element.Element(\"div\", { \"class\": \"close\" }).update(\"&#xd7;\").insertTo(notify);\n            if (icon) {\n                notify.addClassName(\"flagrate-notify-icon\");\n                new _element.Element(\"div\", { \"class\": \"icon\" }).setStyle({ \"backgroundImage\": \"url(\" + icon + \")\" }).insertTo(notify);\n            }\n            /*- Remove a notify element -*/\n            var closeNotify = function closeNotify() {\n                if (isAlive === false) {\n                    return;\n                }\n                isAlive = false;\n                notify.style.opacity = \"0\";\n                //onClose event\n                if (onClose) {\n                    onClose.call(_this);\n                }\n                setTimeout(function () {\n                    _this.target.removeChild(notify);\n                    _this._notifies.splice(_this._notifies.indexOf(notify), 1);\n                    _this._positioner();\n                }, 300);\n            };\n            notifyClose.addEventListener(\"click\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                if (isAlive) {\n                    closeNotify();\n                }\n            }, false);\n            notify.style.display = \"none\";\n            notify.style.position = \"fixed\";\n            notify.style[this.hAlign] = hPosition + \"px\";\n            notify.style[this.vAlign] = vPosition + \"px\";\n            /*- onClick event -*/\n            if (!onClick) {\n                notify.addEventListener(\"click\", closeNotify);\n            } else {\n                notify.style.cursor = \"pointer\";\n                notify.addEventListener(\"click\", function (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    onClick.call(_this);\n                    closeNotify();\n                });\n            }\n            /*- Insert to the target -*/\n            this.target.appendChild(notify);\n            /*- Show notify -*/\n            notify.style.display = \"block\";\n            setTimeout(function () {\n                notify.style.opacity = \"1\";\n            }, 10);\n            /*- Set timeout -*/\n            if (timeout !== 0) {\n                var onTimeout = function onTimeout() {\n                    if (isAlive) {\n                        closeNotify();\n                    }\n                };\n                closeTimer = setTimeout(onTimeout, timeout * 1000);\n                //Clear timeout\n                notify.addEventListener(\"mouseover\", function () {\n                    clearTimeout(closeTimer);\n                    closeTimer = setTimeout(onTimeout, timeout * 1000);\n                });\n            }\n            this._notifies.push(notify);\n            this._positioner();\n            return this;\n        }\n    }, {\n        key: \"_init\",\n        value: function _init() {\n            if (this.disableDesktopNotify === false) {\n                /*- Check supported -*/\n                if (!window[\"Notification\"] || !window[\"Notification\"].permission) {\n                    this.disableDesktopNotify = true;\n                } else {\n                    /*- Check protocol -*/\n                    if (location.protocol !== \"file:\") {\n                        /*- Get Permissions -*/\n                        if (window[\"Notification\"].permission === \"default\") {\n                            this.create({\n                                text: \"Click here to Activate the Desktop Notifications...\",\n                                onClick: function onClick() {\n                                    window[\"Notification\"].requestPermission();\n                                }\n                            });\n                        }\n                    }\n                }\n            }\n        }\n    }, {\n        key: \"_createDesktopNotify\",\n        value: function _createDesktopNotify(opt) {\n            var _this2 = this;\n\n            /*- Setting up -*/\n            var title = opt.title || this.title;\n            var message = opt.message || opt.body || opt.content || opt.text || null;\n            var onClick = opt.onClick;\n            var onClose = opt.onClose;\n            var timeout = opt.timeout !== void 0 ? opt.timeout : this.timeout;\n            var icon = opt.icon || this.icon;\n            var isAlive = true;\n            var notify = null;\n            var closeTimer = void 0;\n            /*- Create a desktop notification -*/\n            /*- Get Permissions -*/\n            if (window[\"Notification\"].permission !== \"granted\") {\n                return false;\n            }\n            notify = new window[\"Notification\"](title, {\n                icon: icon,\n                body: message\n            });\n            /*- Set timeout -*/\n            if (timeout !== 0) {\n                closeTimer = setTimeout(function () {\n                    if (isAlive) {\n                        notify.close();\n                    }\n                }, timeout * 1000);\n            }\n            /*- onClick event -*/\n            notify.addEventListener(\"click\", function () {\n                if (onClick) {\n                    onClick.call(_this2);\n                }\n                notify.close();\n            });\n            /*- onClose event -*/\n            notify.onclose = function () {\n                isAlive = false;\n                if (onClose) {\n                    onClose.call(_this2);\n                }\n            };\n            /*- Show notify -*/\n            if (notify.show) {\n                notify.show();\n            }\n            return true;\n        }\n    }, {\n        key: \"_positioner\",\n        value: function _positioner() {\n            var tH = this.target === document.body ? window.innerHeight || document.body.clientHeight : this.target.offsetHeight;\n            var pX = 0;\n            var pY = 0;\n            for (var i = 0, l = this._notifies.length; i < l; i++) {\n                var notify = this._notifies[i];\n                var x = this.vMargin + pX;\n                var y = this.hMargin + pY;\n                notify.style[this.hAlign] = x.toString(10) + \"px\";\n                notify.style[this.vAlign] = y.toString(10) + \"px\";\n                pY += this.spacing + notify.offsetHeight;\n                if (pY + notify.offsetHeight + this.vMargin + this.spacing >= tH) {\n                    pY = 0;\n                    pX += this.spacing + notify.offsetWidth;\n                }\n            }\n        }\n    }]);\n\n    return Notify;\n}();\n\nfunction createNotify(option) {\n    return new Notify(option);\n}\n\n\n\n},{\"./element\":15}],21:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Popover = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.createPopover = createPopover;\n\nvar _element = require(\"./element\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*?\n    flagrate.createPopover(option)\n    new flagrate.Popover(option)\n    - option (Object) - options.\n\r\n    Popover.\n\r\n    #### option\n\r\n    * `target`    (Element):\n    * `text`      (String):\n    * `html`      (String):\n    * `element`   (Element):\n    * `className` (String):\n**/\nvar Popover = exports.Popover = function () {\n    function Popover() {\n        var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, Popover);\n\n        this._isShowing = false;\n        this._openHandler = this.open.bind(this);\n        this._closeHandler = this.close.bind(this);\n        if (opt.target) {\n            if (!opt.target[\"isFlagrated\"]) {\n                opt.target = _element.Element.extend(opt.target);\n            }\n            this._target = opt.target;\n        }\n        if (opt.text) {\n            this._text = opt.text;\n        }\n        if (opt.html) {\n            this._html = opt.html;\n        }\n        if (opt.element) {\n            this._element = opt.element;\n        }\n        if (opt.className) {\n            this._className = opt.className;\n        }\n        if (this._target) {\n            this._target.addEventListener(\"mouseover\", this._openHandler);\n        }\n    }\n\n    _createClass(Popover, [{\n        key: \"open\",\n        value: function open(forceTarget) {\n            var _this = this;\n\n            if (this._isShowing === true) {\n                this.close();\n            }\n            var target = this._target || document.documentElement;\n            if (forceTarget instanceof Event) {\n                if (_element.Element.isElement(forceTarget.target) === true) {\n                    target = forceTarget.target;\n                }\n                document.body.addEventListener(\"click\", this._closeHandler);\n                document.body.addEventListener(\"mouseout\", this._closeHandler);\n                document.body.addEventListener(\"mouseup\", this._closeHandler);\n                window.addEventListener(\"scroll\", this._closeHandler);\n            } else if (_element.Element.isElement(forceTarget) === true) {\n                target = forceTarget;\n            }\n            var div = this._create();\n            this._positioningTimer = setInterval(function () {\n                if (_element.Element.exists(target) === true) {\n                    _updatePosition(target, div);\n                } else {\n                    _this.close();\n                }\n            }, 10);\n            this._div.on(\"click\", function (e) {\n                return e.stopPropagation();\n            });\n            this._div.on(\"mouseup\", function (e) {\n                return e.stopPropagation();\n            });\n            this._div.on(\"mousewheel\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n            });\n            _updatePosition(target, div);\n            return this;\n        }\n    }, {\n        key: \"close\",\n        value: function close() {\n            if (this._div === undefined) {\n                return this;\n            }\n            clearInterval(this._positioningTimer);\n            document.body.removeEventListener(\"click\", this._closeHandler);\n            document.body.removeEventListener(\"mouseup\", this._closeHandler);\n            document.body.removeEventListener(\"mouseout\", this._closeHandler);\n            window.removeEventListener(\"scroll\", this._closeHandler);\n            this._isShowing = false;\n            var div = this._div;\n            div.removeClassName(\"flagrate-popover-visible\");\n            setTimeout(function () {\n                if (div && div.remove) {\n                    div.remove();\n                }\n            }, 1000);\n            delete this._div;\n            return this;\n        }\n    }, {\n        key: \"visible\",\n        value: function visible() {\n            return this._isShowing && !!this._div.hasClassName(\"flagrate-popover-visible\");\n        }\n    }, {\n        key: \"remove\",\n        value: function remove() {\n            if (this._div) {\n                this.close();\n            }\n            if (this._target) {\n                this._target.removeEventListener(\"mouseover\", this._openHandler);\n            }\n        }\n    }, {\n        key: \"setTarget\",\n        value: function setTarget(element) {\n            if (this._target === element) {\n                return this;\n            }\n            if (!element[\"isFlagrated\"]) {\n                element = _element.Element.extend(element);\n            }\n            this._target = element;\n            if (this._isShowing === true) {\n                this.open();\n            }\n            return this;\n        }\n    }, {\n        key: \"setText\",\n        value: function setText(text) {\n            if (this._text === text) {\n                return this;\n            }\n            this._text = text;\n            if (this._isShowing === true) {\n                this._div.updateText(text);\n            }\n            return this;\n        }\n    }, {\n        key: \"setHTML\",\n        value: function setHTML(html) {\n            if (this._html === html) {\n                return this;\n            }\n            this._html = html;\n            if (this._isShowing === true) {\n                this._div.update(html);\n            }\n            return this;\n        }\n    }, {\n        key: \"setElement\",\n        value: function setElement(element) {\n            if (this._element === element) {\n                return this;\n            }\n            this._element = element;\n            if (this._isShowing === true) {\n                this._div.update(element);\n            }\n            return this;\n        }\n    }, {\n        key: \"setClassName\",\n        value: function setClassName(className) {\n            if (this._className === className) {\n                return this;\n            }\n            if (this._isShowing === true) {\n                this._div.removeClassName(this._className).addClassName(className);\n            }\n            this._className = className;\n            return this;\n        }\n    }, {\n        key: \"_create\",\n        value: function _create() {\n            this._isShowing = true;\n            var div = this._div = new _element.Element(\"div\", {\n                \"class\": \"flagrate flagrate-popover\"\n            });\n            if (this._className) {\n                div.addClassName(this._className);\n            }\n            if (this._text) {\n                div.updateText(this._text);\n            }\n            if (this._html) {\n                div.update(this._html);\n            }\n            if (this._element) {\n                div.update(this._element);\n            }\n            div.insertTo(document.body);\n            setTimeout(function () {\n                return div.addClassName(\"flagrate-popover-visible\");\n            }, 0);\n            return div;\n        }\n    }, {\n        key: \"target\",\n        get: function get() {\n            return this._target;\n        },\n        set: function set(element) {\n            this.setTarget(element);\n        }\n    }, {\n        key: \"text\",\n        get: function get() {\n            return this._text;\n        },\n        set: function set(text) {\n            this.setText(text);\n        }\n    }, {\n        key: \"html\",\n        get: function get() {\n            return this._html;\n        },\n        set: function set(html) {\n            this.setHTML(html);\n        }\n    }, {\n        key: \"element\",\n        get: function get() {\n            return this._element;\n        },\n        set: function set(element) {\n            this.setElement(element);\n        }\n    }, {\n        key: \"className\",\n        get: function get() {\n            return this._className;\n        },\n        set: function set(className) {\n            this.setClassName(className);\n        }\n    }, {\n        key: \"isShowing\",\n        get: function get() {\n            return this._isShowing;\n        },\n        set: function set(boolean) {\n            if (boolean === true) {\n                this.open();\n            } else {\n                this.close();\n            }\n        }\n    }]);\n\n    return Popover;\n}();\n\nfunction createPopover(option) {\n    return new Popover(option);\n}\nfunction _updatePosition(target, div) {\n    var tOffset = _element.Element.cumulativeOffset(target);\n    var tScroll = _element.Element.cumulativeScrollOffset(target);\n    var tWidth = _element.Element.getWidth(target);\n    var tHeight = _element.Element.getHeight(target);\n    var width = div.getWidth();\n    var height = div.getHeight();\n    var x = tOffset.left - tScroll.left + Math.round(tWidth / 2 - width / 2);\n    var y = tOffset.top - tScroll.top + tHeight;\n    if (y + height > window.innerHeight) {\n        y = window.innerHeight - y + tHeight;\n        div.removeClassName(\"flagrate-popover-tail-top\");\n        div.addClassName(\"flagrate-popover-tail-bottom\");\n        div.style.top = \"\";\n        div.style.bottom = y + \"px\";\n    } else {\n        div.removeClassName(\"flagrate-popover-tail-bottom\");\n        div.addClassName(\"flagrate-popover-tail-top\");\n        div.style.top = y + \"px\";\n        div.style.bottom = \"\";\n    }\n    div.style.left = x + \"px\";\n}\n\n\n\n},{\"./element\":15}],22:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Progress = undefined;\nexports.createProgress = createProgress;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\n/*?\n    flagrate.createProgress(option)\n    new flagrate.Progress(option)\n    - option (Object) - options.\n**/\nfunction FProgress() {\n    var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var attr = opt.attribute || {};\n    attr[\"id\"] = opt.id || null;\n    attr[\"class\"] = opt.className || null;\n    //create\n    var progress = new _element.Element(\"div\", attr);\n    (0, _util.extendObject)(progress, this);\n    progress._value = opt.value || 0;\n    progress._max = opt.max || 100;\n    progress.addClassName(\"flagrate flagrate-progress\");\n    progress._bar = new _element.Element().insertTo(progress);\n    progress._updateProgress();\n    return progress;\n}\nvar Progress = exports.Progress = FProgress;\nfunction createProgress(option) {\n    return new Progress(option);\n}\nProgress.prototype = {\n    getValue: function getValue() {\n        return this._value;\n    },\n    setValue: function setValue(number) {\n        var progress = this;\n        if (typeof number !== \"number\") {\n            return progress;\n        }\n        progress._value = Math.max(0, Math.min(progress._max, number));\n        progress.fire(\"change\", { targetProgress: progress });\n        progress._updateProgress();\n        return progress;\n    },\n    getMax: function getMax() {\n        return this._max;\n    },\n    setMax: function setMax(number) {\n        var progress = this;\n        if (typeof number !== \"number\") {\n            return progress;\n        }\n        progress._max = number;\n        progress.setValue(progress._value);\n        progress._updateProgress();\n        return progress;\n    },\n    _updateProgress: function _updateProgress() {\n        var progress = this;\n        var percentage = Math.max(0, Math.min(100, progress._value / progress._max * 100));\n        progress._bar.setStyle({ width: percentage + \"%\" });\n        return;\n    }\n};\n\n\n\n},{\"./element\":15,\"./util\":36}],23:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Pulldown = undefined;\nexports.createPulldown = createPulldown;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar _button = require(\"./button\");\n\nvar _menu = require(\"./menu\");\n\n/*?\n    flagrate.createPulldown(option)\n    new flagrate.Pulldown(option)\n    - option (Object) - options.\n\r\n    Pulldown.\n\r\n    #### option\n\r\n    * `id`                       (String): `id` attribute of `button` element.\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): (using flagrate.Element.setStyle)\n    * `items`                    (Array): of item (see: flagrate.Menu)\n    * `isDisabled`               (Boolean; default `false`):\n    * `onSelect`                 (Function):\n    * `onOpen`                   (Function):\n    * `onClose`                  (Function):\n**/\nfunction FPulldown() {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    option.label = option.label || \"\";\n    this.items = option.items || [];\n    this.onOpen = option.onOpen || _util.emptyFunction;\n    this.onClose = option.onClose || _util.emptyFunction;\n    var attr = option.attribute || {};\n    if (option.id) {\n        attr[\"id\"] = option.id;\n    }\n    //create\n    var pulldown = new _button.Button({\n        attribute: attr,\n        label: option.label,\n        icon: option.icon,\n        onSelect: option.onSelect\n    });\n    (0, _util.extendObject)(pulldown, this);\n    pulldown.addEventListener(\"select\", pulldown.open.bind(pulldown));\n    pulldown.addClassName(\"flagrate-pulldown\");\n    if (option.className) {\n        pulldown.addClassName(option.className);\n    }\n    new _element.Element(\"span\", { \"class\": \"flagrate-pulldown-triangle\" }).insertTo(pulldown);\n    if (option.style) {\n        pulldown.setStyle(option.style);\n    }\n    if (option.color) {\n        pulldown.setColor(option.color);\n    }\n    if (option.isDisabled) {\n        pulldown.disable();\n    }\n    return pulldown;\n}\nvar Pulldown = exports.Pulldown = FPulldown;\nfunction createPulldown(option) {\n    return new Pulldown(option);\n}\nPulldown.prototype = {\n    open: function open(e) {\n        var pulldown = this;\n        if (pulldown._open === true || !!pulldown._menu) {\n            pulldown.close();\n            return;\n        }\n        pulldown._open = true;\n        pulldown._menu = new _element.Element(\"div\", { \"class\": \"flagrate-pulldown-menu\" }).insert(new _menu.Menu({\n            items: pulldown.items,\n            onSelect: function onSelect(e) {\n                if (pulldown.onSelect) {\n                    pulldown.onSelect(e, pulldown);\n                }\n                pulldown.fire(\"select\", { targetPulldown: pulldown });\n            }\n        }));\n        pulldown._menu.style.top = pulldown.offsetTop + pulldown.getHeight() + \"px\";\n        pulldown._menu.style.left = pulldown.offsetLeft + \"px\";\n        pulldown.insert({ after: pulldown._menu });\n        // To prevent overflow.\n        var menuHeight = pulldown._menu.getHeight();\n        var menuMargin = parseInt(pulldown._menu.getStyle(\"margin-top\").replace(\"px\", \"\"), 10);\n        var cummOffsetTop = pulldown.cumulativeOffset().top;\n        var upsideSpace = -window.pageYOffset + cummOffsetTop;\n        var downsideSpace = window.pageYOffset + window.innerHeight - cummOffsetTop - pulldown.getHeight();\n        if (menuHeight + menuMargin > downsideSpace) {\n            if (upsideSpace > downsideSpace) {\n                if (upsideSpace < menuHeight + menuMargin) {\n                    menuHeight = upsideSpace - menuMargin - menuMargin;\n                    pulldown._menu.style.maxHeight = menuHeight + \"px\";\n                }\n                pulldown._menu.style.top = pulldown.offsetTop - menuHeight - menuMargin * 2 + \"px\";\n            } else {\n                menuHeight = downsideSpace - menuMargin - menuMargin;\n                pulldown._menu.style.maxHeight = menuHeight + \"px\";\n            }\n        }\n        var close = function close(e) {\n            document.body.removeEventListener(\"click\", close);\n            if (pulldown.parentNode) {\n                pulldown.parentNode.removeEventListener(\"click\", close);\n            }\n            pulldown.removeEventListener(\"select\", close);\n            pulldown.close(e);\n        };\n        setTimeout(function () {\n            document.body.addEventListener(\"click\", close);\n            if (pulldown.parentNode) {\n                pulldown.parentNode.addEventListener(\"click\", close);\n            }\n            pulldown.addEventListener(\"select\", close);\n        }, 0);\n        pulldown.onOpen.call(pulldown, e, pulldown);\n        pulldown.fire(\"open\", { targetPulldown: pulldown });\n        return this;\n    },\n    close: function close(e) {\n        var pulldown = this;\n        if (pulldown._open === false || !pulldown._menu) {\n            return;\n        }\n        pulldown._open = false;\n        pulldown._menu.style.opacity = \"0\";\n        setTimeout(function () {\n            if (!pulldown._menu) {\n                return;\n            }\n            pulldown._menu.remove();\n            delete pulldown._menu;\n            pulldown.onClose(e, pulldown);\n            pulldown.fire(\"close\", { targetPulldown: pulldown });\n        }, 250);\n        return this;\n    }\n};\n\n\n\n},{\"./button\":9,\"./element\":15,\"./menu\":18,\"./util\":36}],24:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Radio = undefined;\nexports.createRadio = createRadio;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar idCounter = 0;\n/*?\n    flagrate.createRadio(option)\n    new flagrate.Radio(option)\n    - option (Object) - options.\n**/\nfunction FRadio() {\n    var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var id = \"flagrate-radio-\" + (++idCounter).toString(10);\n    var attr = opt.attribute || {};\n    attr[\"id\"] = opt.id || null;\n    attr[\"class\"] = opt.className || null;\n    //create\n    var radio = new _element.Element(\"label\", attr);\n    radio.writeAttribute(\"for\", id);\n    (0, _util.extendObject)(radio, this);\n    if (opt.label) {\n        radio.insertText(opt.label);\n    } else if (opt.labelHTML) {\n        radio.insert(opt.labelHTML);\n    }\n    radio.addClassName(\"flagrate flagrate-radio\");\n    if (opt.icon) {\n        radio.addClassName(\"flagrate-icon\");\n        radio.setStyle({\n            backgroundImage: \"url(\" + opt.icon + \")\"\n        });\n    }\n    radio.onChange = opt.onChange || null;\n    radio.onCheck = opt.onCheck || null;\n    radio.onUncheck = opt.onUncheck || null;\n    radio._input = new _element.Element(\"input\", { id: id, type: \"radio\", name: opt.name });\n    radio.insert({ top: new _element.Element() });\n    radio.insert({ top: radio._input });\n    radio._input.addEventListener(\"change\", function (e) {\n        e.stopPropagation();\n        var _e = e;\n        _e.targetRadio = radio;\n        if (radio.isChecked() === true) {\n            if (radio.onCheck) {\n                radio.onCheck(_e, radio);\n            }\n            radio.fire(\"check\", { targetRadio: radio });\n        } else {\n            if (radio.onUncheck) {\n                radio.onUncheck(_e, radio);\n            }\n            radio.fire(\"uncheck\", { targetRadio: radio });\n        }\n        if (radio.onChange) {\n            radio.onChange(_e, radio);\n        }\n        radio.fire(\"change\", { targetRadio: radio });\n    });\n    if (opt.isChecked === true) {\n        radio.check();\n    }\n    if (opt.isFocused === true) {\n        radio.focus();\n    }\n    if (opt.isDisabled === true) {\n        radio.disable();\n    }\n    return radio;\n}\nvar Radio = exports.Radio = FRadio;\nfunction createRadio(option) {\n    return new Radio(option);\n}\nRadio.prototype = {\n    disable: function disable() {\n        this.addClassName(\"flagrate-disabled\");\n        this._input.writeAttribute(\"disabled\", true);\n        return this;\n    },\n    enable: function enable() {\n        this.removeClassName(\"flagrate-disabled\");\n        this._input.writeAttribute(\"disabled\", false);\n        return this;\n    },\n    isEnabled: function isEnabled() {\n        return !this.hasClassName(\"flagrate-disabled\");\n    },\n    isChecked: function isChecked() {\n        return !!this._input.checked;\n    },\n    check: function check() {\n        this._input.checked = true;\n        return this;\n    },\n    uncheck: function uncheck() {\n        this._input.checked = false;\n        return this;\n    }\n};\n\n\n\n},{\"./element\":15,\"./util\":36}],25:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Radios = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.createRadios = createRadios;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar _radio = require(\"./radio\");\n\nvar idCounter = 0;\n/*?\n    flagrate.createRadios(option)\n    new flagrate.Radios(option)\n    - option (Object) - options.\n**/\nfunction FRadios() {\n    var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var id = \"flagrate-radios-\" + (++idCounter).toString(10);\n    var attr = opt.attribute || {};\n    if (opt.id) {\n        attr[\"id\"] = opt.id;\n    }\n    //create\n    var radios = new _element.Element(\"div\", attr);\n    (0, _util.extendObject)(radios, this);\n    radios.addClassName(\"flagrate flagrate-radios\");\n    if (opt.className) {\n        radios.addClassName(opt.className);\n    }\n    if (opt.style) {\n        radios.setStyle(opt.style);\n    }\n    radios.onChange = opt.onChange;\n    radios.selectedIndex = opt.selectedIndex || -1;\n    radios._items = [];\n    (opt.items || []).forEach(function (item, i) {\n        var _item = {};\n        if ((typeof item === \"undefined\" ? \"undefined\" : _typeof(item)) === \"object\") {\n            (0, _util.extendObject)(_item, item);\n        } else {\n            _item.label = typeof item === \"string\" ? item : item.toString();\n            _item.value = item;\n        }\n        _item.name = id;\n        _item._radio = new _radio.Radio(_item).insertTo(radios);\n        _item._radio.addEventListener(\"change\", function (e) {\n            if (radios.onChange) {\n                radios.onChange(e, radios);\n            }\n        });\n        _item._radio.addEventListener(\"check\", function (e) {\n            radios.selectedIndex = i;\n        });\n        radios._items.push(_item);\n    });\n    if (opt.isDisabled) {\n        radios.disable();\n    }\n    if (radios.selectedIndex > -1) {\n        radios._items[radios.selectedIndex]._radio.check();\n    }\n    return radios;\n}\nvar Radios = exports.Radios = FRadios;\nfunction createRadios(option) {\n    return new Radios(option);\n}\nRadios.prototype = {\n    select: function select(index) {\n        if (this._items[index] !== void 0) {\n            this.selectedIndex = index;\n            this._items[index]._radio.check();\n        }\n        return this;\n    },\n    getValue: function getValue() {\n        if (this.selectedIndex === -1) {\n            return void 0;\n        } else {\n            return this._items[this.selectedIndex].value;\n        }\n    },\n    setValue: function setValue(value) {\n        for (var i = 0, l = this._items.length; i < l; i++) {\n            if (this._items[i].value === value) {\n                this.select(i);\n                break;\n            }\n        }\n        return this;\n    },\n    enable: function enable() {\n        for (var i = 0, l = this._items.length; i < l; i++) {\n            this._items[i]._radio.enable();\n        }\n        this.removeClassName(\"flagrate-disabled\");\n        return this;\n    },\n    disable: function disable() {\n        for (var i = 0, l = this._items.length; i < l; i++) {\n            this._items[i]._radio.disable();\n        }\n        this.addClassName(\"flagrate-disabled\");\n        return this;\n    },\n    isEnabled: function isEnabled() {\n        return !this.hasClassName(\"flagrate-disabled\");\n    }\n};\n\n\n\n},{\"./element\":15,\"./radio\":24,\"./util\":36}],26:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.SearchBox = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.createSearchBox = createSearchBox;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar _button = require(\"./button\");\n\nvar _textInput = require(\"./text-input\");\n\nvar _menu = require(\"./menu\");\n\n/*?\n    flagrate.createSearchBox(option)\n    new flagrate.SearchBox(option)\n    - option (Object) - options.\n\r\n    text input for search.\n\r\n    #### option\n\r\n    * `id`                       (String): `id` attribute of container element.\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): (using flagrate.Element.setStyle)\n    * `value`                    (String): default value.\n    * `placeholder`              (String):\n    * `icon`                     (String):\n    * `isDisabled`               (Boolean; default `false`):\n    * `suggester`                (Function):\n    * `onSearch`                 (Function): callback with input value.\n**/\nfunction FSearchBox() {\n    var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this.suggester = opt.suggester || null;\n    this.onSearch = opt.onSearch || _util.emptyFunction;\n    var attr = opt.attribute || {};\n    attr[\"id\"] = opt.id || null;\n    attr[\"class\"] = opt.className || null;\n    //create\n    var searchBox = new _element.Element(\"div\", attr);\n    (0, _util.extendObject)(searchBox, this);\n    searchBox.addClassName(\"flagrate flagrate-search-box\");\n    searchBox._input = new _textInput.TextInput({\n        className: \"search-input\",\n        value: opt.value,\n        placeholder: opt.placeholder,\n        icon: opt.icon\n    }).insertTo(searchBox);\n    searchBox._button = new _button.Button({\n        className: \"search-button\",\n        onSelect: searchBox.search.bind(searchBox)\n    }).insertTo(searchBox);\n    searchBox._suggest = new _element.Element(\"div\", {\n        \"class\": \"search-suggest\"\n    }).hide().insertTo(searchBox);\n    searchBox._input.on(\"keydown\", searchBox._onKeydownHandler.bind(searchBox));\n    searchBox._input.on(\"keyup\", searchBox._onKeyupHandler.bind(searchBox));\n    searchBox._input.on(\"focus\", searchBox._onFocusHandler.bind(searchBox));\n    searchBox._input.on(\"blur\", searchBox._onBlurHandler.bind(searchBox));\n    // for Chrome\n    searchBox._suggest.on(\"mousedown\", function (e) {\n        return e.preventDefault();\n    });\n    if (opt.style) {\n        searchBox.setStyle(opt.style);\n    }\n    if (opt.isDisabled) {\n        searchBox.disable();\n    }\n    return searchBox;\n}\nvar SearchBox = exports.SearchBox = FSearchBox;\nfunction createSearchBox(option) {\n    return new SearchBox(option);\n}\nSearchBox.prototype = {\n    disable: function disable() {\n        this.addClassName(\"flagrate-disabled\");\n        this._input.disable();\n        this._button.disable();\n        this._suggest.hide();\n        return this;\n    },\n    enable: function enable() {\n        this.removeClassName(\"flagrate-disabled\");\n        this._input.enable();\n        this._button.enable();\n        return this;\n    },\n    isEnabled: function isEnabled() {\n        return !this.hasClassName(\"flagrate-disabled\");\n    },\n    getValue: function getValue() {\n        return this._input.getValue();\n    },\n    setValue: function setValue(value) {\n        this._input.setValue(value);\n        return this;\n    },\n    search: function search() {\n        var value = this.getValue();\n        this.onSearch(value, this);\n        this.fire(\"search\", value);\n        this._input.blur();\n        return this;\n    },\n    suggest: function suggest() {\n        if (!this.suggester) {\n            return this;\n        }\n        this._suggest.hide();\n        var value = this.getValue();\n        var result = this.suggester(value, this._suggested.bind(this));\n        if (result !== void 0) {\n            this._suggested(result);\n        }\n        return this;\n    },\n    focus: function focus() {\n        this._input.focus();\n    },\n    blur: function blur() {\n        this._input.blur();\n    },\n    _suggested: function _suggested(suggestedItems) {\n        var _this = this;\n\n        if (!suggestedItems) {\n            return;\n        }\n        if (suggestedItems.length === 0) {\n            this._suggest.hide();\n            return;\n        }\n        var items = [];\n        suggestedItems.forEach(function (item) {\n            if (typeof item === \"string\" && item.trim() !== \"\") {\n                items.push({\n                    label: item.trim(),\n                    onSelect: _createCompletionHandler(_this, item.trim())\n                });\n            } else if ((typeof item === \"undefined\" ? \"undefined\" : _typeof(item)) === \"object\") {\n                items.push({\n                    label: item.label,\n                    icon: item.icon,\n                    onSelect: _createSuggestionHandler(_this, item.onSelect)\n                });\n            }\n        });\n        if (items.length === 0) {\n            this._suggest.hide();\n            return;\n        }\n        var menu = this._menu = new _menu.Menu({\n            items: items,\n            onSelect: function onSelect() {\n                _this._suggest.hide();\n            }\n        });\n        _element.Element.addClassName(menu.firstChild, \"flagrate-search-suggest-selected\");\n        this._suggest.update(menu).show();\n        // To prevent overflow.\n        var menuHeight = this._suggest.getHeight();\n        var menuMargin = parseInt(this._suggest.getStyle(\"margin-top\").replace(\"px\", \"\"), 10);\n        var cummOffsetTop = this.cumulativeOffset().top;\n        var upsideSpace = -window.pageYOffset + cummOffsetTop;\n        var downsideSpace = window.pageYOffset + window.innerHeight - cummOffsetTop - this.getHeight();\n        if (menuHeight + menuMargin > downsideSpace) {\n            if (upsideSpace > downsideSpace) {\n                if (upsideSpace < menuHeight + menuMargin) {\n                    menuHeight = upsideSpace - menuMargin - menuMargin;\n                    this._suggest.style.maxHeight = menuHeight + \"px\";\n                }\n                this._suggest.addClassName(\"flagrate-search-suggest-upper\");\n            } else {\n                menuHeight = downsideSpace - menuMargin - menuMargin;\n                this._suggest.style.maxHeight = menuHeight + \"px\";\n                this._suggest.removeClassName(\"flagrate-search-suggest-upper\");\n            }\n        } else {\n            this._suggest.removeClassName(\"flagrate-search-suggest-upper\");\n        }\n        // reset scroll position\n        this._suggest.scrollTop = 0;\n    },\n    _onKeydownHandler: function _onKeydownHandler(e) {\n        // ESC: 27\n        if (e.keyCode === 27) {\n            this._input.select();\n            this._suggest.hide();\n        } else if (this._suggest.visible() === true) {\n            // ENTER: 13\n            if (e.keyCode === 13) {\n                var target = this._menu.getElementsByClassName(\"flagrate-search-suggest-selected\")[0];\n                target.click();\n                return;\n            }\n            // UP: 38, DOWN: 40\n            if (e.keyCode !== 38 && e.keyCode !== 40) {\n                return;\n            }\n            e.preventDefault();\n            var elements = this._menu.getElementsByTagName(\"button\");\n            for (var i = 0, l = elements.length; i < l; i++) {\n                if (elements[i].hasClassName(\"flagrate-search-suggest-selected\") === true) {\n                    if (e.keyCode === 38 && i !== 0 || e.keyCode === 40 && i + 1 !== l) {\n                        elements[i].removeClassName(\"flagrate-search-suggest-selected\");\n                    }\n                    var scrollTop = -1;\n                    if (e.keyCode === 38 && i !== 0) {\n                        elements[i - 1].addClassName(\"flagrate-search-suggest-selected\");\n                        scrollTop = elements[i - 1].offsetHeight + elements[i - 1].offsetTop;\n                    } else if (e.keyCode === 40 && i + 1 !== l) {\n                        elements[i + 1].addClassName(\"flagrate-search-suggest-selected\");\n                        scrollTop = elements[i + 1].offsetHeight + elements[i + 1].offsetTop;\n                    }\n                    if (scrollTop !== -1) {\n                        this._suggest.scrollTop = scrollTop + 4 - this._suggest.getHeight();\n                    }\n                    break;\n                }\n            }\n        } else if (e.keyCode === 13) {\n            setTimeout(this.search.bind(this), 100);\n        }\n    },\n    _onKeyupHandler: function _onKeyupHandler(e) {\n        if (this._lastValue !== this.getValue()) {\n            this._lastValue = this.getValue();\n            this.suggest();\n        }\n    },\n    _onFocusHandler: function _onFocusHandler(e) {\n        setTimeout(this.suggest.bind(this), 100);\n    },\n    _onBlurHandler: function _onBlurHandler(e) {\n        var _this2 = this;\n\n        setTimeout(function () {\n            if (document.activeElement !== _this2._suggest && _this2._suggest.visible() === true) {\n                _this2._suggest.hide();\n            }\n        }, 100);\n    }\n};\nfunction _createCompletionHandler(searchBox, value) {\n    return function () {\n        searchBox._input.setValue(value);\n        searchBox._input.focus();\n    };\n}\nfunction _createSuggestionHandler(searchBox, onSelect) {\n    return function () {\n        onSelect.call(searchBox);\n        searchBox._input.blur();\n    };\n}\n\n\n\n},{\"./button\":9,\"./element\":15,\"./menu\":18,\"./text-input\":32,\"./util\":36}],27:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Select = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.createSelect = createSelect;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar _pulldown = require(\"./pulldown\");\n\nvar _grid = require(\"./grid\");\n\n/*?\n    flagrate.createSelect(option)\n    new flagrate.Select(option)\n    - option (Object) - options.\n\r\n    Select.\n\r\n    #### option\n\r\n    * `id`                       (String): `id` attribute of container element.\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): (using flagrate.Element.setStyle)\n    * `items`                    (Array):\n    * `listView`                 (Boolean; default `false`):\n    * `multiple`                 (Boolean; default `false`):\n    * `max`                      (Number; default `-1`):\n    * `selectedIndex`            (Number):\n    * `selectedIndexes`          (Array): array of Number.\n    * `isDisabled`               (Boolean; default `false`):\n**/\nfunction FSelect() {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this.items = option.items || [];\n    this.listView = option.listView || false;\n    this.multiple = option.multiple || false;\n    this.max = option.max || -1;\n    if (this.multiple) {\n        this.selectedIndexes = option.selectedIndexes || [];\n    } else {\n        this.selectedIndex = typeof option.selectedIndex === \"undefined\" ? -1 : option.selectedIndex;\n    }\n    var attr = option.attribute || {};\n    if (option.id) {\n        attr[\"id\"] = option.id;\n    }\n    this.isPulldown = !this.listView && !this.multiple;\n    // create\n    var container = new _element.Element(\"div\", attr);\n    function createOnSelectHandler(i) {\n        return function () {\n            return container.select(i);\n        };\n    }\n    function createOnDeselectHandler(i) {\n        return function () {\n            return container.deselect(i);\n        };\n    }\n    // normalize items\n    for (var i = 0, l = this.items.length; i < l; i++) {\n        if (_typeof(this.items[i]) !== \"object\") {\n            this.items[i] = {\n                label: typeof this.items[i] === \"string\" ? this.items[i] : this.items[i].toString(10),\n                value: this.items[i]\n            };\n        }\n    }\n    if (this.isPulldown) {\n        container._pulldown = new _pulldown.Pulldown({\n            label: \"-\",\n            items: [{\n                label: \"-\",\n                onSelect: createOnSelectHandler(-1)\n            }].concat(this.items.map(function (item, i) {\n                return {\n                    label: item.label,\n                    labelHTML: item.labelHTML,\n                    icon: item.icon,\n                    onSelect: createOnSelectHandler(i)\n                };\n            }))\n        }).insertTo(container);\n    } else {\n        container._grid = new _grid.Grid({\n            headless: true,\n            multiSelect: this.multiple,\n            cols: [{\n                key: \"label\"\n            }],\n            rows: this.items.map(function (item, i) {\n                return {\n                    cell: {\n                        label: {\n                            text: item.label,\n                            html: item.labelHTML,\n                            icon: item.icon\n                        }\n                    },\n                    onSelect: createOnSelectHandler(i),\n                    onDeselect: createOnDeselectHandler(i)\n                };\n            })\n        }).insertTo(container);\n    }\n    (0, _util.extendObject)(container, this);\n    container.addClassName(\"flagrate flagrate-select\");\n    if (!container.isPulldown) {\n        container.addClassName(\"flagrate-select-list-view\");\n    }\n    if (option.className) {\n        container.addClassName(option.className);\n    }\n    if (option.style) {\n        container.setStyle(option.style);\n    }\n    if (option.isDisabled) {\n        container.disable();\n    }\n    if (container.multiple) {\n        container.selectedIndexes.forEach(function (index) {\n            container.select(index);\n        });\n    } else {\n        if (container.selectedIndex > -1) {\n            container.select(container.selectedIndex);\n        }\n    }\n    return container;\n}\nvar Select = exports.Select = FSelect;\nfunction createSelect(option) {\n    return new Select(option);\n}\nSelect.prototype = {\n    select: function select(index) {\n        if (this.items.length <= index) {\n            return this;\n        }\n        if (this.multiple) {\n            if (this.max > -1 && this.selectedIndexes.length >= this.max) {\n                if (this._grid.rows[index].isSelected === true) {\n                    this._grid.deselect(index);\n                }\n                return this;\n            }\n            if (this.selectedIndexes.indexOf(index) === -1) {\n                this.selectedIndexes.push(index);\n            }\n        } else {\n            this.selectedIndex = index;\n        }\n        if (this.isPulldown) {\n            if (index === -1) {\n                this._pulldown.setLabel(\"-\");\n                this._pulldown.setIcon(null);\n            } else {\n                if (this.items[index].label !== undefined) {\n                    this._pulldown.setLabel(this.items[index].label);\n                } else if (this.items[index].labelHTML !== undefined) {\n                    this._pulldown.setLabelHTML(this.items[index].labelHTML);\n                }\n                this._pulldown.setIcon(this.items[index].icon);\n            }\n            this.fire(\"change\");\n        } else {\n            if (!this._grid.rows[index].isSelected) {\n                this._grid.select(index);\n            }\n        }\n        return this;\n    },\n    deselect: function deselect(index) {\n        if (this.items.length <= index) {\n            return this;\n        }\n        if (this.multiple) {\n            var selectedIndex = this.selectedIndexes.indexOf(index);\n            if (selectedIndex !== -1) {\n                this.selectedIndexes.splice(this.selectedIndexes.indexOf(index), 1);\n            }\n        } else {\n            this.selectedIndex = -1;\n        }\n        if (this.isPulldown) {\n            this._pulldown.setLabel(\"-\");\n            this._pulldown.setIcon(null);\n            this.fire(\"change\");\n        } else {\n            if (this.multiple) {\n                if (this._grid.rows[index].isSelected === true) {\n                    this._grid.deselect(index);\n                }\n            } else {\n                for (var i = 0, l = this.items.length; i < l; i++) {\n                    if (this._grid.rows[i].isSelected === true) {\n                        this._grid.deselect(i);\n                    }\n                }\n            }\n        }\n        return this;\n    },\n    selectAll: function selectAll() {\n        if (this.multiple) {\n            this._grid.selectAll();\n            this.selectedIndexes = [];\n            for (var i = 0, l = this.items.length; i < l; i++) {\n                this.selectedIndexes.push(i);\n            }\n        }\n        return this;\n    },\n    deselectAll: function deselectAll() {\n        if (this.multiple) {\n            this._grid.deselectAll();\n            this.selectedIndexes = [];\n        } else {\n            this.deselect();\n        }\n        return this;\n    },\n    disable: function disable() {\n        this.addClassName(\"flagrate-disabled\");\n        if (this.isPulldown) {\n            this._pulldown.disable();\n        } else {\n            this._grid.disable();\n        }\n        return this;\n    },\n    enable: function enable() {\n        this.removeClassName(\"flagrate-disabled\");\n        if (this.isPulldown) {\n            this._pulldown.enable();\n        } else {\n            this._grid.enable();\n        }\n        return this;\n    },\n    isEnabled: function isEnabled() {\n        return !this.hasClassName(\"flagrate-disabled\");\n    },\n    getValue: function getValue() {\n        if (this.selectedIndex > -1) {\n            return this.items[this.selectedIndex].value;\n        } else {\n            return void 0;\n        }\n    },\n    getValues: function getValues() {\n        var result = [];\n        for (var i = 0, l = this.selectedIndexes.length; i < l; i++) {\n            result.push(this.items[this.selectedIndexes[i]].value);\n        }\n        return result;\n    }\n};\n\n\n\n},{\"./element\":15,\"./grid\":17,\"./pulldown\":23,\"./util\":36}],28:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Slider = undefined;\nexports.createSlider = createSlider;\n\nvar _util = require(\"./util\");\n\nvar _progress = require(\"./progress\");\n\nvar progress = _interopRequireWildcard(_progress);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/*?\n    flagrate.createSlider(option)\n    new flagrate.Slider(option)\n    - option (Object) - options.\n**/\nfunction FSlider() {\n    var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    //create\n    var slider = new progress.Progress(opt);\n    (0, _util.extendObject)(slider, this);\n    slider.addClassName(\"flagrate-slider\");\n    if (slider.tabIndex === -1) {\n        slider.tabIndex = 0;\n    }\n    if (window.ontouchstart !== undefined) {\n        slider.addEventListener(\"touchstart\", slider._onTouchStartHandler.bind(slider));\n    }\n    if (navigator.pointerEnabled) {\n        slider.addEventListener(\"pointerdown\", slider._onPointerDownHandler.bind(slider));\n    } else if (navigator.msPointerEnabled) {\n        // deprecated on IE11\n        slider.addEventListener(\"MSPointerDown\", slider._onPointerDownHandler.bind(slider));\n    } else {\n        slider.addEventListener(\"mousedown\", slider._onPointerDownHandler.bind(slider));\n    }\n    if (opt.isDisabled) {\n        slider.disable();\n    }\n    return slider;\n}\nvar Slider = exports.Slider = FSlider;\nfunction createSlider(option) {\n    return new Slider(option);\n}\nSlider.prototype = {\n    disable: function disable() {\n        var slider = this;\n        slider.dataset[\"flagrateTabIndex\"] = slider.tabIndex.toString(10);\n        slider.removeAttribute(\"tabindex\");\n        return slider.addClassName(\"flagrate-disabled\");\n    },\n    enable: function enable() {\n        var slider = this;\n        var tabIndex = parseInt(slider.dataset[\"flagrateTabIndex\"]);\n        if (tabIndex !== -1) {\n            slider.tabIndex = tabIndex;\n        }\n        return slider.removeClassName(\"flagrate-disabled\");\n    },\n    isEnabled: function isEnabled() {\n        return !this.hasClassName(\"flagrate-disabled\");\n    },\n    _onTouchStartHandler: function _onTouchStartHandler(e) {\n        if (!this.isEnabled()) {\n            return;\n        }\n        e.preventDefault();\n        this._slide(e.touches[0].pageX - this.cumulativeOffset().left, e.touches[0].clientX, \"touch\");\n    },\n    _onPointerDownHandler: function _onPointerDownHandler(e) {\n        if (!this.isEnabled()) {\n            return;\n        }\n        e.preventDefault();\n        this._slide(e.offsetX || e.layerX, e.clientX, \"pointer\");\n    },\n    _slide: function _slide(x, pos, type) {\n        var slider = this;\n        var unitWidth = slider.getWidth() / slider.getMax();\n        var onMove = function onMove(e) {\n            e.preventDefault();\n            if (e.touches && e.touches[0]) {\n                x = x + e.touches[0].clientX - pos;\n                pos = e.touches[0].clientX;\n            } else {\n                x = x + e.clientX - pos;\n                pos = e.clientX;\n            }\n            slider.setValue(Math.round(x / unitWidth));\n            slider.fire(\"slide\", { targetSlider: slider });\n        };\n        var onUp = function onUp(e) {\n            e.preventDefault();\n            if (type === \"pointer\") {\n                if (navigator.pointerEnabled) {\n                    document.removeEventListener(\"pointermove\", onMove);\n                    document.removeEventListener(\"pointerup\", onUp);\n                } else if (navigator.msPointerEnabled) {\n                    document.removeEventListener(\"MSPointerUp\", onUp);\n                    document.removeEventListener(\"MSPointerMove\", onMove);\n                } else {\n                    document.removeEventListener(\"mousemove\", onMove);\n                    document.removeEventListener(\"mouseup\", onUp);\n                }\n            } else if (type === \"touch\") {\n                document.removeEventListener(\"touchmove\", onMove);\n                document.removeEventListener(\"touchend\", onUp);\n                document.removeEventListener(\"touchcancel\", onUp);\n            }\n            if (e.clientX) {\n                x = x + e.clientX - pos;\n                slider.setValue(Math.round(x / unitWidth));\n                slider.fire(\"slide\", { targetSlider: slider });\n            } else if (e.touches && e.touches[0]) {\n                x = x + e.touches[0].clientX - pos;\n                slider.setValue(Math.round(x / unitWidth));\n                slider.fire(\"slide\", { targetSlider: slider });\n            }\n        };\n        if (type === \"pointer\") {\n            if (navigator.pointerEnabled) {\n                document.addEventListener(\"pointermove\", onMove);\n                document.addEventListener(\"pointerup\", onUp);\n            } else if (navigator.msPointerEnabled) {\n                document.addEventListener(\"MSPointerMove\", onMove);\n                document.addEventListener(\"MSPointerUp\", onUp);\n            } else {\n                document.addEventListener(\"mousemove\", onMove);\n                document.addEventListener(\"mouseup\", onUp);\n            }\n        } else if (type === \"touch\") {\n            document.addEventListener(\"touchmove\", onMove);\n            document.addEventListener(\"touchend\", onUp);\n            document.addEventListener(\"touchcancel\", onUp);\n        }\n        slider.setValue(Math.round(x / unitWidth));\n        slider.fire(\"slide\", { targetSlider: slider });\n    }\n};\n\n\n\n},{\"./progress\":22,\"./util\":36}],29:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Switch = undefined;\nexports.createSwitch = createSwitch;\n\nvar _util = require(\"./util\");\n\nvar _button = require(\"./button\");\n\n/*?\n    flagrate.createSwitch(option)\n    new flagrate.Switch(option)\n    - option (Object) - options.\n**/\nfunction FSwitch() {\n    var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    //create\n    var sw = new _button.Button({\n        id: opt.id,\n        className: opt.className,\n        attribute: opt.attribute,\n        style: opt.style,\n        isFocused: opt.isFocused,\n        isDisabled: opt.isDisabled\n    });\n    (0, _util.extendObject)(sw, this);\n    sw.addEventListener(\"select\", sw.toggleSwitch.bind(sw));\n    sw.addClassName(\"flagrate-switch\");\n    if (sw.dataset) {\n        sw.dataset[\"flagrateSwitchStatus\"] = opt.isOn ? \"on\" : \"off\";\n    } else {\n        sw.writeAttribute(\"data-flagrate-switch-status\", opt.isOn ? \"on\" : \"off\");\n    }\n    return sw;\n}\nvar Switch = exports.Switch = FSwitch;\nfunction createSwitch(option) {\n    return new Switch(option);\n}\nSwitch.prototype = {\n    isOn: function isOn() {\n        if (this.dataset) {\n            return this.dataset.flagrateSwitchStatus === \"on\";\n        } else {\n            return this.readAttribute(\"data-flagrate-switch-status\") === \"on\";\n        }\n    },\n    switchOn: function switchOn() {\n        if (this.dataset) {\n            this.dataset.flagrateSwitchStatus = \"on\";\n        } else {\n            this.writeAttribute(\"data-flagrate-switch-status\", \"on\");\n        }\n        return this.fire(\"on\", { targetSwitch: this }).fire(\"change\", { targetSwitch: this });\n    },\n    switchOff: function switchOff() {\n        if (this.dataset) {\n            this.dataset.flagrateSwitchStatus = \"off\";\n        } else {\n            this.writeAttribute(\"data-flagrate-switch-status\", \"off\");\n        }\n        return this.fire(\"off\", { targetSwitch: this }).fire(\"change\", { targetSwitch: this });\n    },\n    toggleSwitch: function toggleSwitch() {\n        return this.isOn() ? this.switchOff() : this.switchOn();\n    }\n};\n\n\n\n},{\"./button\":9,\"./util\":36}],30:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Tab = undefined;\nexports.createTab = createTab;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar _button = require(\"./button\");\n\n/*?\n    flagrate.createTab(option)\n    new flagrate.Tab(option)\n    - option (Object) - option.\n\r\n    Create and initialize the tab.\n\r\n    #### option\n\r\n    * `id`            (String): `id` attribute of container.\n    * `className`     (String):\n    * `attribute`     (Object):\n    * `style`         (Object): (using flagrate.Element.setStyle)\n    * `tabs`          (Array): Array of **tab** object.\n    * `selectedIndex` (Number):\n    * `fill`          (Boolean; default `false`):\n    * `bodyless`      (Boolean; default `false`):\n    * `onSelect`      (Function): Triggered whenever select the tab.\n\r\n    #### tab\n\r\n    * `key`           (String):\n    * `label`         (String):\n    * `icon`          (String):\n    * `text`          (String):\n    * `html`          (String):\n    * `element`       (Element):\n    * `onSelect`      (Function):\n**/\nfunction FTab() {\n    var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var attr = opt.attribute || {};\n    attr[\"id\"] = opt.id;\n    attr[\"class\"] = \"flagrate flagrate-tab\";\n    if (opt.fill) {\n        attr[\"class\"] += \" flagrate-tab-fill\";\n    }\n    // create\n    var tab = new _element.Element(\"div\", attr);\n    (0, _util.extendObject)(tab, this);\n    if (opt.className) {\n        tab.addClassName(opt.className);\n    }\n    if (opt.style) {\n        tab.setStyle(opt.style);\n    }\n    tab._tabs = opt.tabs || [];\n    tab._bodyless = opt.bodyless || false;\n    tab._selectedIndex = opt.selectedIndex || 0;\n    tab.onSelect = opt.onSelect || null;\n    Object.defineProperties(tab, {\n        tabs: {\n            enumerable: true,\n            get: function get() {\n                return tab._tabs;\n            },\n            set: function set(tabs) {\n                tab._tabs = tabs;\n                tab._render();\n            }\n        },\n        bodyless: {\n            enumerable: true,\n            get: function get() {\n                return tab._bodyless;\n            },\n            set: function set(bodyless) {\n                tab._bodyless = bodyless;\n                tab.update()._create()._render();\n            }\n        },\n        selectedIndex: {\n            enumerable: true,\n            get: function get() {\n                return tab._selectedIndex;\n            },\n            set: function set(index) {\n                tab.select(index);\n            }\n        }\n    });\n    tab._create()._render();\n    if (tab.tabs.length > 0) {\n        tab.select(tab.selectedIndex);\n    }\n    return tab;\n}\nvar Tab = exports.Tab = FTab;\nfunction createTab(option) {\n    return new Tab(option);\n}\nTab.prototype = {\n    select: function select(a) {\n        var tab = this;\n        var index = typeof a === \"number\" ? a : tab.indexOf(a);\n        if (index < 0 || index >= tab._tabs.length) {\n            return tab;\n        }\n        if (0 <= tab._selectedIndex && tab._selectedIndex < tab._tabs.length && tab._tabs[tab._selectedIndex]._button) {\n            tab._tabs[tab._selectedIndex]._button.removeClassName(\"flagrate-tab-selected\");\n        }\n        tab._selectedIndex = index;\n        var tabItem = tab._tabs[index];\n        if (!tabItem || !tabItem._button) {\n            return tab;\n        }\n        tabItem._button.addClassName(\"flagrate-tab-selected\");\n        if (tabItem.text) {\n            tab._body.updateText(tabItem.text);\n        }\n        if (tabItem.html) {\n            tab._body.update(tabItem.html);\n        }\n        if (tabItem.element) {\n            tab._body.update(tabItem.element);\n        }\n        var tabEvent = window.event || {};\n        tabEvent.targetTab = tab;\n        tabEvent.targetTabItem = tabItem;\n        if (tabItem.onSelect) {\n            tabItem.onSelect.call(tab, tabEvent, tabItem);\n        }\n        if (tab.onSelect) {\n            tab.onSelect(tabEvent, tabItem);\n        }\n        return tab;\n    },\n    unshift: function unshift(r) {\n        var tab = this;\n        if (r instanceof Array) {\n            for (var i = 0, l = r.length; i < l; i++) {\n                tab._tabs.unshift(r);\n            }\n        } else {\n            tab._tabs.unshift(r);\n        }\n        tab._render();\n        return tab._tabs.length;\n    },\n    push: function push(r) {\n        var tab = this;\n        if (r instanceof Array) {\n            for (var i = 0, l = r.length; i < l; i++) {\n                tab._tabs.push(r);\n            }\n        } else {\n            tab._tabs.push(r);\n        }\n        tab._render();\n        return tab._tabs.length;\n    },\n    shift: function shift(c) {\n        var tab = this;\n        var count = c || 1;\n        var removes = [];\n        for (var i = 0, l = tab._tabs.length; i < l && i < count; i++) {\n            removes.push(tab._tabs.shift());\n        }\n        tab._render();\n        return !c ? removes[0] : removes;\n    },\n    pop: function pop(c) {\n        var tab = this;\n        var count = c || 1;\n        var removes = [];\n        for (var i = 0, l = tab._tabs.length; i < l && i < count; i++) {\n            removes.push(tab._tabs.pop());\n        }\n        tab._render();\n        return !c ? removes[0] : removes;\n    },\n    splice: function splice(index, c, t) {\n        var tab = this;\n        c = typeof c === \"undefined\" ? this._tabs.length - index : c;\n        var removes = tab._tabs.splice(index, c);\n        if (t) {\n            if (t instanceof Array === false) {\n                t = [t];\n            }\n            for (var i = 0, l = t.length; i < l; i++) {\n                tab._tabs.splice(index + i, 0, t[i]);\n            }\n        }\n        tab._render();\n        return removes;\n    },\n    removeTab: function removeTab(a) {\n        var tab = this;\n        var removes = [];\n        var bulk = true;\n        if (a instanceof Array === false) {\n            bulk = false;\n            a = [a];\n        }\n        for (var i = 0, l = a.length; i < l; i++) {\n            var index = typeof a[i] === \"number\" ? a[i] : tab.indexOf(a[i]);\n            if (index !== -1) {\n                removes.push(tab.splice(index, 1));\n            }\n        }\n        return bulk ? removes : removes[0];\n    },\n    indexOf: function indexOf(a) {\n        var tab = this;\n        if (typeof a === \"string\") {\n            var index = -1;\n            for (var i = 0, l = tab._tabs.length; i < l; i++) {\n                if (tab._tabs[i].key === a) {\n                    index = i;\n                    break;\n                }\n            }\n            return index;\n        } else {\n            return tab._tabs.indexOf(a);\n        }\n    },\n    _create: function _create() {\n        var tab = this;\n        tab._head = new _element.Element(\"div\", { \"class\": \"flagrate-tab-head\" }).insertTo(tab);\n        if (tab._bodyless === true) {\n            tab._body = new _element.Element();\n        } else {\n            tab._body = new _element.Element(\"div\", { \"class\": \"flagrate-tab-body\" }).insertTo(tab);\n        }\n        return tab;\n    },\n    _render: function _render() {\n        var tab = this;\n        tab._head.update();\n        tab._tabs.forEach(function (tabItem) {\n            if (!tabItem._button) {\n                tabItem._button = new _button.Button({\n                    icon: tabItem.icon,\n                    label: tabItem.label,\n                    onSelect: tab._createOnSelectHandler(tabItem)\n                });\n            }\n            tabItem._button.insertTo(tab._head);\n        });\n        return tab;\n    },\n    _createOnSelectHandler: function _createOnSelectHandler(tabItem) {\n        var tab = this;\n        return function (e) {\n            if (/firefox/i.test(navigator.userAgent) === true) {\n                window.event = e;\n            }\n            tab.select(tabItem);\n        };\n    }\n};\n\n\n\n},{\"./button\":9,\"./element\":15,\"./util\":36}],31:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TextArea = undefined;\nexports.createTextArea = createTextArea;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\n/*?\n    flagrate.createTextArea(option)\n    new flagrate.TextArea(option)\n    - option (Object) - options.\n\r\n    TextArea.\n\r\n    #### option\n\r\n    * `id`                       (String): `id` attribute of `textarea` element.\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): (using flagrate.Element.setStyle)\n    * `value`                    (String):\n    * `placeholder`              (String):\n    * `icon`                     (String):\n    * `regexp`                   (RegExp):\n    * `isDisabled`               (Boolean; default `false`):\n**/\nfunction FTextArea() {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this.regexp = option.regexp || null;\n    var attr = option.attribute || {};\n    if (option.id) {\n        attr[\"id\"] = option.id;\n    }\n    if (option.placeholder) {\n        attr[\"placeholder\"] = option.placeholder;\n    }\n    //create\n    var textArea = new _element.Element(\"textarea\", attr);\n    (0, _util.extendObject)(textArea, this);\n    textArea.addClassName(\"flagrate flagrate-textarea\");\n    if (option.className) {\n        textArea.addClassName(option.className);\n    }\n    if (option.style) {\n        textArea.setStyle(option.style);\n    }\n    if (option.icon) {\n        textArea.setIcon(option.icon);\n    }\n    if (option.value) {\n        textArea.setValue(option.value);\n    }\n    if (option.isDisabled) {\n        textArea.disable();\n    }\n    return textArea;\n}\nvar TextArea = exports.TextArea = FTextArea;\nfunction createTextArea(option) {\n    return new TextArea(option);\n}\nTextArea.prototype = {\n    disable: function disable() {\n        this.addClassName(\"flagrate-disabled\");\n        this.writeAttribute(\"disabled\", true);\n        return this;\n    },\n    enable: function enable() {\n        this.removeClassName(\"flagrate-disabled\");\n        this.writeAttribute(\"disabled\", false);\n        return this;\n    },\n    isEnabled: function isEnabled() {\n        return !this.hasClassName(\"flagrate-disabled\");\n    },\n    setValue: function setValue(value) {\n        this.value = value;\n        return this;\n    },\n    getValue: function getValue() {\n        return this.value;\n    },\n    setIcon: function setIcon(identifier) {\n        this._iconIdentifier = identifier;\n        if (identifier) {\n            return this.addClassName(\"flagrate-icon\").setStyle({\n                backgroundImage: \"url(\" + identifier + \")\"\n            });\n        } else {\n            return this.removeClassName(\"flagrate-icon\").setStyle({\n                backgroundImage: \"none\"\n            });\n        }\n    },\n    getIcon: function getIcon() {\n        return this._iconIdentifier || \"\";\n    },\n\n    isValid: function isValid() {\n        return this.regexp.test(this.getValue());\n    }\n};\n\n\n\n},{\"./element\":15,\"./util\":36}],32:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TextInput = undefined;\nexports.createTextInput = createTextInput;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\n/*?\n    flagrate.createTextInput(option)\n    new flagrate.TextInput(option)\n    - option (Object) - options.\n\r\n    TextInput.\n\r\n    #### option\n\r\n    * `id`                       (String): `id` attribute of `input` element.\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): (using flagrate.Element.setStyle)\n    * `value`                    (String):\n    * `placeholder`              (String):\n    * `icon`                     (String):\n    * `regexp`                   (RegExp):\n    * `isDisabled`               (Boolean; default `false`):\n**/\nfunction FTextInput() {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this.regexp = option.regexp || null;\n    var attr = option.attribute || {};\n    if (option.id) {\n        attr[\"id\"] = option.id;\n    }\n    if (option.value) {\n        attr[\"value\"] = option.value;\n    }\n    if (option.placeholder) {\n        attr[\"placeholder\"] = option.placeholder;\n    }\n    //create\n    var input = new _element.Element(\"input\", attr);\n    (0, _util.extendObject)(input, this);\n    input.addClassName(\"flagrate flagrate-textinput\");\n    if (option.className) {\n        input.addClassName(option.className);\n    }\n    if (option.style) {\n        input.setStyle(option.style);\n    }\n    if (option.icon) {\n        input.setIcon(option.icon);\n    }\n    if (option.isDisabled) {\n        input.disable();\n    }\n    return input;\n}\nvar TextInput = exports.TextInput = FTextInput;\nfunction createTextInput(option) {\n    return new TextInput(option);\n}\nTextInput.prototype = {\n    disable: function disable() {\n        this.addClassName(\"flagrate-disabled\");\n        this.writeAttribute(\"disabled\", true);\n        return this;\n    },\n    enable: function enable() {\n        this.removeClassName(\"flagrate-disabled\");\n        this.writeAttribute(\"disabled\", false);\n        return this;\n    },\n    isEnabled: function isEnabled() {\n        return !this.hasClassName(\"flagrate-disabled\");\n    },\n    setValue: function setValue(value) {\n        this.value = value;\n        return this;\n    },\n    getValue: function getValue() {\n        return this.value;\n    },\n    setIcon: function setIcon(identifier) {\n        this._iconIdentifier = identifier;\n        if (identifier) {\n            return this.addClassName(\"flagrate-icon\").setStyle({\n                backgroundImage: \"url(\" + identifier + \")\"\n            });\n        } else {\n            return this.removeClassName(\"flagrate-icon\").setStyle({\n                backgroundImage: \"none\"\n            });\n        }\n    },\n    getIcon: function getIcon() {\n        return this._iconIdentifier || \"\";\n    },\n\n    isValid: function isValid() {\n        return this.regexp.test(this.getValue());\n    }\n};\n\n\n\n},{\"./element\":15,\"./util\":36}],33:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Tokenizer = undefined;\nexports.createTokenizer = createTokenizer;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar _button = require(\"./button\");\n\nvar _menu = require(\"./menu\");\n\nvar _textInput = require(\"./text-input\");\n\n/*?\n    flagrate.createTextInput(option)\n    new flagrate.TextInput(option)\n    - option (Object) - options.\n\r\n    TextInput.\n\r\n    #### option\n\r\n    * `id`                       (String): `id` attribute of `input` element.\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): (using flagrate.Element.setStyle)\n    * `value`                    (String):\n    * `placeholder`              (String):\n    * `icon`                     (String):\n    * `regexp`                   (RegExp):\n    * `isDisabled`               (Boolean; default `false`):\n**/\nfunction FTokenizer() {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this.values = option.values || [];\n    this.max = option.max || -1;\n    this.tokenize = option.tokenize || option.tokenizeSync || _util.identity;\n    if (option.onChange) {\n        this.onChange = option.onChange;\n    }\n    var attr = option.attribute || {};\n    if (option.id) {\n        attr[\"id\"] = option.id;\n    }\n    //create\n    var tokenizer = new _element.Element(\"div\", attr);\n    (0, _util.extendObject)(tokenizer, this);\n    tokenizer.addClassName(\"flagrate flagrate-tokenizer\");\n    if (option.className) {\n        tokenizer.addClassName(option.className);\n    }\n    tokenizer._tokens = new _element.Element(\"span\").insertTo(tokenizer);\n    tokenizer._input = new _textInput.TextInput({ placeholder: option.placeholder }).insertTo(tokenizer);\n    if (tokenizer.values.length !== 0) {\n        tokenizer._updateTokens();\n    }\n    tokenizer.addEventListener(\"click\", tokenizer._onClickHandler.bind(tokenizer));\n    tokenizer._input.addEventListener(\"keydown\", tokenizer._onKeydownHandler.bind(tokenizer));\n    tokenizer._input.addEventListener(\"focus\", tokenizer._onFocusHandler.bind(tokenizer));\n    tokenizer._input.addEventListener(\"blur\", tokenizer._onBlurHandler.bind(tokenizer));\n    if (option.style) {\n        tokenizer.setStyle(option.style);\n    }\n    if (option.icon) {\n        tokenizer.setIcon(option.icon);\n    }\n    if (option.isDisabled) {\n        tokenizer.disable();\n    }\n    return tokenizer;\n}\nvar Tokenizer = exports.Tokenizer = FTokenizer;\nfunction createTokenizer(option) {\n    return new Tokenizer(option);\n}\nTokenizer.prototype = {\n    disable: function disable() {\n        this.addClassName(\"flagrate-disabled\");\n        this._input.disable();\n        return this._updateTokens();\n    },\n    enable: function enable() {\n        this.removeClassName(\"flagrate-disabled\");\n        this._input.enable();\n        return this._updateTokens();\n    },\n    isEnabled: function isEnabled() {\n        return !this.hasClassName(\"flagrate-disabled\");\n    },\n    setValues: function setValues(values) {\n        this.values = values;\n        return this._updateTokens();\n    },\n    getValues: function getValues() {\n        return this.values;\n    },\n    removeValues: function removeValues() {\n        this.values = [];\n        return this._updateTokens();\n    },\n    removeValue: function removeValue(value) {\n        this.values.splice(this.values.indexOf(value), 1);\n        return this._updateTokens();\n    },\n    setIcon: function setIcon(identifier) {\n        this._iconIdentifier = identifier;\n        if (identifier) {\n            this.addClassName(\"flagrate-icon\").setStyle({\n                backgroundImage: \"url(\" + identifier + \")\"\n            });\n        } else {\n            this.removeClassName(\"flagrate-icon\").setStyle({\n                backgroundImage: \"none\"\n            });\n        }\n        return this._updateTokens();\n    },\n    getIcon: function getIcon() {\n        return this._iconIdentifier || \"\";\n    },\n    focus: function focus() {\n        this._input.focus();\n    },\n    _updateTokens: function _updateTokens() {\n        var tokenizer = this;\n        tokenizer._tokens.update();\n        tokenizer.values.forEach(function (value) {\n            var label = void 0;\n            if (typeof value === \"string\") {\n                label = value;\n            } else {\n                label = value.label;\n            }\n            new _button.Button({\n                isDisabled: tokenizer.isEnabled() === false,\n                isRemovableByUser: tokenizer.isEnabled(),\n                onRemove: function onRemove() {\n                    return tokenizer.removeValue(value);\n                },\n                label: label\n            }).insertTo(tokenizer._tokens);\n        });\n        var vw = tokenizer.getWidth();\n        var bw = tokenizer.getStyle(\"border-width\") === null ? 2 : parseInt(tokenizer.getStyle(\"border-width\").replace(\"px\", \"\"), 10);\n        var pl = tokenizer.getStyle(\"padding-left\") === null ? 4 : parseInt(tokenizer.getStyle(\"padding-left\").replace(\"px\", \"\"), 10);\n        var pr = tokenizer.getStyle(\"padding-right\") === null ? 4 : parseInt(tokenizer.getStyle(\"padding-right\").replace(\"px\", \"\"), 10);\n        var tw = tokenizer._tokens.getWidth();\n        var tm = tokenizer._tokens.getStyle(\"margin-left\") === null ? 2 : parseInt(tokenizer._tokens.getStyle(\"margin-left\").replace(\"px\", \"\"), 10);\n        var im = tokenizer._input.getStyle(\"margin-left\") === null ? 2 : parseInt(tokenizer._input.getStyle(\"margin-left\").replace(\"px\", \"\"), 10);\n        var ip = tokenizer._input.getStyle(\"padding-left\") === null ? 2 : parseInt(tokenizer._input.getStyle(\"padding-left\").replace(\"px\", \"\"), 10);\n        var aw = vw - pl - pr - tw - tm - im - ip - bw * 2 - 2;\n        if (aw > 30) {\n            tokenizer._input.style.width = aw + \"px\";\n        } else if (aw < -5) {\n            tokenizer._input.style.width = \"\";\n        } else {\n            tokenizer._input.style.width = \"100%\";\n        }\n        tokenizer.fire(\"change\");\n        return this;\n    },\n    _tokenize: function _tokenize() {\n        this._candidates = [];\n        var str = this._input.value;\n        var result = this.tokenize(str, this._tokenized.bind(this));\n        if (result !== void 0) {\n            this._tokenized(result);\n        }\n        this._lastTokenizedValue = this._input.value;\n        return this;\n    },\n    _tokenized: function _tokenized(candidates) {\n        if (candidates instanceof Array === false) {\n            candidates = [candidates];\n        }\n        this._candidates = [];\n        var menu = new _menu.Menu({\n            onSelect: function onSelect() {\n                return menu.remove();\n            }\n        });\n        menu.style.left = this._input.offsetLeft + \"px\";\n        for (var i = 0, l = candidates.length, candidate, menuItem; i < l; i++) {\n            candidate = candidates[i];\n            if (typeof candidate === \"string\") {\n                if (candidate === \"\") {\n                    continue;\n                }\n                menuItem = { label: candidate };\n            } else {\n                menuItem = candidate;\n            }\n            if (menuItem.onSelect) {\n                menuItem._onSelect = menuItem.onSelect;\n            }\n            menuItem.onSelect = _createMenuOnSelectHandler(this, candidate);\n            this._candidates.push(candidate);\n            menu.push(menuItem);\n        }\n        if (this._menu) {\n            this._menu.remove();\n        }\n        if (this._candidates.length !== 0) {\n            this.insert({ top: menu });\n            this._menu = menu;\n        }\n        return this;\n    },\n    _onClickHandler: function _onClickHandler() {\n        this.focus();\n    },\n    _onKeydownHandler: function _onKeydownHandler(e) {\n        var _this = this;\n\n        // ENTER:13\n        if (e.keyCode === 13 && this._lastTokenizedValue !== this._input.value) {\n            e.stopPropagation();\n            e.preventDefault();\n            this._lastTokenizedValue = this._input.value;\n            this._tokenize();\n            return;\n        }\n        if (this._candidates && this._candidates.length !== 0) {\n            if (\n            // ENTER:13\n            e.keyCode === 13 ||\n            // right:39\n            e.keyCode === 39) {\n                e.stopPropagation();\n                e.preventDefault();\n                this._input.value = \"\";\n                if (this.max < 0 || this.max > this.values.length) {\n                    this.values.push(this._candidates[0]);\n                }\n                this._updateTokens();\n                if (this.onChange) {\n                    this.onChange();\n                }\n                if (this._menu) {\n                    this._menu.remove();\n                }\n            }\n        }\n        if (this._input.value === \"\" && this.values.length !== 0) {\n            if (\n            // BS:8\n            e.keyCode === 8) {\n                e.stopPropagation();\n                e.preventDefault();\n                var value = this.values.pop();\n                this._input.value = typeof value === \"string\" ? value : typeof value.value === \"string\" ? value.value : \"\";\n                this._updateTokens();\n                if (this.onChange) {\n                    this.onChange();\n                }\n                if (this._menu) {\n                    this._menu.remove();\n                }\n            }\n        }\n        setTimeout(function () {\n            if (_this.max > -1 && _this.max <= _this.values.length && _this._input.value !== \"\") {\n                e.stopPropagation();\n                _this._input.value = \"\";\n                return;\n            }\n            _this._tokenize();\n        }, 0);\n    },\n    _onFocusHandler: function _onFocusHandler() {\n        this._updateTokens();\n        this._tokenize();\n        this.addClassName(\"flagrate-tokenizer-focus\");\n    },\n    _onBlurHandler: function _onBlurHandler() {\n        var _this2 = this;\n\n        this._input.value = \"\";\n        if (this._menu) {\n            this._menu.style.opacity = \"0\";\n            setTimeout(function () {\n                return _this2._menu.remove();\n            }, 500);\n        }\n        this.removeClassName(\"flagrate-tokenizer-focus\");\n    }\n};\nfunction _createMenuOnSelectHandler(tokenizer, candidate) {\n    return function (e) {\n        if (tokenizer.max < 0 || tokenizer.max > tokenizer.values.length) {\n            tokenizer.values.push(candidate);\n        }\n        tokenizer._updateTokens();\n        if (tokenizer.onChange) {\n            tokenizer.onChange(e, this);\n        }\n    };\n}\n\n\n\n},{\"./button\":9,\"./element\":15,\"./menu\":18,\"./text-input\":32,\"./util\":36}],34:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Toolbar = undefined;\nexports.createToolbar = createToolbar;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\n/*?\n    flagrate.createToolbar(option)\n    new flagrate.Toolbar(option)\n    - option (Object) - options.\n\r\n    Toolbar.\n\r\n    #### option\n\r\n    * `id`                       (String): `id` attribute of container element.\n    * `className`                (String):\n    * `attribute`                (Object):\n    * `style`                    (Object): (using flagrate.Element.setStyle)\n    * `items`                    (Array): of item or String to create border, Element to insert any element.\n\r\n    #### item\n\r\n    * `key`                      (String):\n    * `element`                  (Element):\n**/\nfunction FToolbar() {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var items = option.items || [];\n    var attr = option.attribute || {};\n    if (option.id) {\n        attr[\"id\"] = option.id;\n    }\n    //create\n    var container = new _element.Element(\"div\", attr);\n    (0, _util.extendObject)(container, this);\n    container.addClassName(\"flagrate flagrate-toolbar\");\n    if (option.className) {\n        container.addClassName(option.className);\n    }\n    if (option.style) {\n        container.setStyle(option.style);\n    }\n    for (var i = 0, l = items.length; i < l; i++) {\n        container.push(items[i]);\n    }\n    return container;\n}\nvar Toolbar = exports.Toolbar = FToolbar;\nfunction createToolbar(option) {\n    return new Toolbar(option);\n}\nToolbar.prototype = {\n    push: function push(option) {\n        if (typeof option === \"string\") {\n            new _element.Element(\"hr\").insertTo(this);\n        } else if (option instanceof HTMLElement) {\n            this.insert(option);\n        } else {\n            var element = void 0;\n            if (option.isBorder) {\n                element = new _element.Element(\"hr\").insertTo(this);\n            } else {\n                if (!option.element.isFlagrated) {\n                    option.element = _element.Element.extend(option.element);\n                }\n                element = _element.Element.insertTo(option.element, this);\n            }\n            if (option.key) {\n                element.dataset[\"_key\"] = option.key;\n            }\n        }\n        return this;\n    },\n    getElementByKey: function getElementByKey(key) {\n        var elements = this.childNodes;\n        for (var i = 0, l = elements.length; i < l; i++) {\n            if (elements[i].dataset[\"_key\"] === key) {\n                return elements[i];\n            }\n        }\n        return null;\n    },\n    getElements: function getElements() {\n        return this.childNodes || [];\n    }\n};\n\n\n\n},{\"./element\":15,\"./util\":36}],35:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Tutorial = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.createTutorial = createTutorial;\n\nvar _util = require(\"./util\");\n\nvar _element = require(\"./element\");\n\nvar _button = require(\"./button\");\n\nvar _popover = require(\"./popover\");\n\nvar _modal = require(\"./modal\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*?\n    flagrate.createTutorial(option)\n    new flagrate.Tutorial(option)\n    - option (Object) - options.\n\r\n    Creates new tutorial.\n\r\n    #### option\n\r\n    * `steps`              (Array; required): Array of **step** object.\n    * `count`              (Number; default `0`): current count of step.\n    * `onFinish`           (Function): callback when finish.\n    * `onAbort`            (Function): callback when abort.\n    * `onClose`            (Function): callback when close.\n\r\n    #### step\n\r\n    * `target`             (Element|String): Element to target. If target is undefined or not found, will creates flagrate.Modal.\n    * `title`              (String): Title for this step.\n    * `text`               (String): Descriptive text for this step.\n    * `html`               (String): Descriptive html for this step.\n    * `onStep`             (Function): Triggered whenever a step is started.\n    * `onBeforeStep`       (Function): Triggered at before starting of this step.\n    * `onAfterStep`        (Function): Triggered at after of this step.\n\r\n    ##### onBeforeStep / onAfterStep\n\r\n        // async callback\n        function (done) {// if expects callback, will waits for it.\n            setTimeout(done, 1000);\n        }\n\r\n        // sync\n        function () {\n            // ...\n        }\n**/\nvar Tutorial = exports.Tutorial = function () {\n    function Tutorial() {\n        var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, Tutorial);\n\n        this.onFinish = _util.emptyFunction;\n        this.onAbort = _util.emptyFunction;\n        this.onClose = _util.emptyFunction;\n        this._steps = [];\n        this._index = 0;\n        if (opt.steps) {\n            this._steps = opt.steps;\n        }\n        if (opt.index) {\n            this._index = opt.index;\n        }\n        if (opt.onFinish) {\n            this.onFinish = opt.onFinish;\n        }\n        if (opt.onAbort) {\n            this.onAbort = opt.onAbort;\n        }\n        if (opt.onClose) {\n            this.onClose = opt.onClose;\n        }\n    }\n\n    _createClass(Tutorial, [{\n        key: \"visible\",\n        value: function visible() {\n            return !!this._popover || !!this._modal || !!this._inStep;\n        }\n    }, {\n        key: \"open\",\n        value: function open() {\n            if (this.visible() === false) {\n                this._main();\n            }\n            return this;\n        }\n    }, {\n        key: \"close\",\n        value: function close() {\n            if (this.visible() === true) {\n                this._afterStep(this.onClose.bind(this));\n            }\n            return this;\n        }\n    }, {\n        key: \"abort\",\n        value: function abort() {\n            if (this.visible() === true) {\n                this._afterStep(this.onAbort.bind(this));\n            }\n            return this;\n        }\n    }, {\n        key: \"finish\",\n        value: function finish() {\n            this._afterStep(this.onFinish.bind(this));\n            this._index = 0;\n            return this;\n        }\n    }, {\n        key: \"prev\",\n        value: function prev() {\n            var _this = this;\n\n            this._afterStep(function () {\n                if (_this._index > 0) {\n                    --_this._index;\n                }\n                _this._main();\n            });\n            return this;\n        }\n    }, {\n        key: \"next\",\n        value: function next() {\n            var _this2 = this;\n\n            this._afterStep(function () {\n                if (_this2._index + 1 < _this2._steps.length) {\n                    ++_this2._index;\n                }\n                _this2._main();\n            });\n            return this;\n        }\n    }, {\n        key: \"_main\",\n        value: function _main() {\n            this._inStep = true;\n            var step = this._steps[this._index];\n            if (step.onBeforeStep) {\n                if (step.onBeforeStep.length) {\n                    step.onBeforeStep.call(this, this._step.bind(this));\n                    return this;\n                } else {\n                    step.onBeforeStep.call(this);\n                }\n            }\n            this._step();\n            return this;\n        }\n    }, {\n        key: \"_step\",\n        value: function _step() {\n            var _this3 = this;\n\n            var step = this._steps[this._index];\n            var buttons = [];\n            if (this._index + 1 >= this._steps.length) {\n                buttons.push({\n                    className: \"flagrate-tutorial-button-finish\",\n                    onSelect: function onSelect() {\n                        _this3._afterStep(_this3.finish.bind(_this3));\n                    }\n                });\n            } else {\n                buttons.push({\n                    className: \"flagrate-tutorial-button-next\",\n                    onSelect: function onSelect() {\n                        _this3._afterStep(_this3.next.bind(_this3));\n                    }\n                });\n            }\n            if (this._index > 0) {\n                buttons.push({\n                    className: \"flagrate-tutorial-button-prev\",\n                    onSelect: function onSelect() {\n                        _this3._afterStep(_this3.prev.bind(_this3));\n                    }\n                });\n            }\n            if (this._index + 1 < this._steps.length) {\n                buttons.push({\n                    className: \"flagrate-tutorial-button-abort\",\n                    onSelect: function onSelect() {\n                        _this3._afterStep(_this3.abort.bind(_this3));\n                    }\n                });\n            }\n            buttons[0].color = \"@primary\";\n            var target = void 0;\n            if (typeof step.target === \"string\") {\n                target = document.querySelector(step.target);\n            } else if (_element.Element.isElement(step.target) === true) {\n                target = step.target;\n            }\n            if (target) {\n                var container = new _element.Element();\n                var body = new _element.Element();\n                if (step.html) {\n                    body.insert(step.html).insertTo(container);\n                }\n                if (step.text) {\n                    body.insertText(step.text).insertTo(container);\n                }\n                var buttonContainer = new _element.Element(\"footer\").insertTo(container);\n                buttons.forEach(function (button) {\n                    new _button.Button(button).insertTo(buttonContainer);\n                });\n                this._popover = new _popover.Popover({\n                    className: \"flagrate-tutorial\",\n                    element: container\n                });\n                this._popover.open(target);\n            } else {\n                this._modal = new _modal.Modal({\n                    disableCloseByMask: true,\n                    disableCloseButton: true,\n                    disableCloseByEsc: true,\n                    className: \"flagrate-tutorial\",\n                    title: step.title,\n                    text: step.text,\n                    html: step.html,\n                    buttons: buttons\n                });\n                this._modal.open();\n            }\n            if (step.onStep) {\n                step.onStep.call(this);\n            }\n            return this;\n        }\n    }, {\n        key: \"_afterStep\",\n        value: function _afterStep(done) {\n            this._inStep = false;\n            var pp = false;\n            if (this._popover) {\n                pp = true;\n                this._popover.remove();\n                delete this._popover;\n            }\n            if (this._modal) {\n                pp = true;\n                this._modal.close();\n                delete this._modal;\n            }\n            if (pp === true) {\n                var step = this._steps[this._index];\n                if (step.onAfterStep) {\n                    if (step.onAfterStep.length) {\n                        step.onAfterStep.call(this, done);\n                        return this;\n                    } else {\n                        step.onAfterStep.call(this);\n                    }\n                }\n            }\n            done();\n            return this;\n        }\n    }]);\n\n    return Tutorial;\n}();\n\nfunction createTutorial(option) {\n    return new Tutorial(option);\n}\n\n\n\n},{\"./button\":9,\"./element\":15,\"./modal\":19,\"./popover\":21,\"./util\":36}],36:[function(require,module,exports){\n/*\n   Copyright 2016 Webnium\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\n\r\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\"use strict\";\n/**\n * Identity.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.identity = identity;\nexports.extendObject = extendObject;\nexports.emptyFunction = emptyFunction;\nfunction identity(a) {\n    return a;\n}\n/**\n * Extend Object.\n */\nfunction extendObject(dest, source) {\n    var k = void 0;\n    for (k in source) {\n        dest[k] = source[k];\n    }\n    return dest;\n}\nfunction emptyFunction() {}\n/*?\n    Flagrate#jsonPointer\n\r\n    ref: node-jsonpointer https://github.com/janl/node-jsonpointer\n    ref: http://tools.ietf.org/html/draft-ietf-appsawg-json-pointer-08\n**/\n/**\n * JSON Pointer Implementation.\n */\nvar jsonPointer = exports.jsonPointer = undefined;\n(function (jsonPointer) {\n    function get(object, pointer) {\n        var pts = validate_input(object, pointer);\n        if (pts.length === 0) {\n            return object;\n        }\n        return traverse(object, pts);\n    }\n    jsonPointer.get = get;\n    function set(object, pointer, value) {\n        if (pointer === \"\" && (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\") {\n            extendObject(object, value);\n            return value;\n        } else {\n            var pts = validate_input(object, pointer);\n            if (pts.length === 0) {\n                throw new Error(\"Invalid JSON pointer for set.\");\n            }\n            return traverse(object, pts, value, true);\n        }\n    }\n    jsonPointer.set = set;\n    function untilde(str) {\n        return str.replace(/~[01]/g, function (m) {\n            switch (m) {\n                case \"~0\":\n                    return \"~\";\n                case \"~1\":\n                    return \"/\";\n            }\n            throw new Error(\"Invalid tilde escape: \" + m);\n        });\n    }\n    function traverse(object, pts, value, isSet) {\n        var part = untilde(pts.shift());\n        if (/^\\d+$/.test(part)) {\n            part = parseInt(part, 10);\n        }\n        if (pts.length !== 0) {\n            if (isSet && _typeof(object[part]) !== \"object\") {\n                if (value === void 0) {\n                    return value;\n                }\n                if (/^\\d+$/.test(pts[0])) {\n                    object[part] = [];\n                } else {\n                    object[part] = {};\n                }\n            }\n            return traverse(object[part], pts, value, isSet);\n        }\n        // we're done\n        if (!isSet) {\n            // just reading\n            return object[part];\n        }\n        // set new value, and return\n        if (value === void 0) {\n            delete object[part];\n        } else {\n            object[part] = value;\n        }\n        return value;\n    }\n    function validate_input(object, pointer) {\n        if ((typeof object === \"undefined\" ? \"undefined\" : _typeof(object)) !== \"object\") {\n            throw new Error(\"Invalid input object.\");\n        }\n        if (pointer === \"\") {\n            return [];\n        }\n        if (!pointer) {\n            throw new Error(\"Invalid JSON pointer.\");\n        }\n        var pts = pointer.split(\"/\");\n        if (pts.shift() !== \"\") {\n            throw new Error(\"Invalid JSON pointer.\");\n        }\n        return pts;\n    }\n})(jsonPointer || (exports.jsonPointer = jsonPointer = {}));\n\n\n\n},{}]},{},[5])\n//# sourceMappingURL=kuromaty.js.map\n"]}