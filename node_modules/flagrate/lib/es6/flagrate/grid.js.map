{"version":3,"sources":["flagrate/grid.ts"],"names":[],"mappings":"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","file":"grid.js","sourcesContent":["/*\r\n   Copyright 2016 Webnium\r\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\r\n   you may not use this file except in compliance with the License.\r\n   You may obtain a copy of the License at\r\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n   Unless required by applicable law or agreed to in writing, software\r\n   distributed under the License is distributed on an \"AS IS\" BASIS,\r\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n   See the License for the specific language governing permissions and\r\n   limitations under the License.\r\n*/\r\n\"use strict\";\r\n\r\nimport {\r\n    Element, Attribute, Property, InsertPosition,\r\n    FHTMLElement, FHTMLDivElement, FHTMLTableDataCellElement,\r\n    FHTMLTableSectionElement, FHTMLTableRowElement, FHTMLTableHeaderCellElement\r\n} from \"./element\";\r\nimport { Button } from \"./button\";\r\nimport { ItemOption as MenuItemOption } from \"./menu\";\r\nimport { Checkbox, CheckboxEvent } from \"./checkbox\";\r\nimport { Toolbar } from \"./toolbar\";\r\nimport { ContextMenu } from \"./context-menu\";\r\n\r\n/*?\r\n    class flagrate.Grid\r\n**/\r\nexport interface Option {\r\n    /** `id` attribute of container. */\r\n    id?: string;\r\n    className?: string;\r\n    attribute?: Attribute;\r\n    style?: Property;\r\n    cols?: ColOption[];\r\n    rows?: RowOption[];\r\n    /** default is `16`. */\r\n    colMinWidth?: number;\r\n    /** default is `false`. */\r\n    pagination?: boolean;\r\n    /** default is `20`. */\r\n    numberOfRowsPerPage?: number;\r\n    /** default is `false`. */\r\n    fill?: boolean;\r\n    /** default is `false`. */\r\n    headless?: boolean;\r\n    /** default is `false`. */\r\n    multiSelect?: boolean;\r\n    /** default is `false`. */\r\n    disableCheckbox?: boolean;\r\n    /** default is `false`. */\r\n    disableSelect?: boolean;\r\n    /** default is `false`. */\r\n    disableSort?: boolean;\r\n    ///** default is `false`. */\r\n    //disableFilter?: boolean;\r\n    /** default is `false`. */\r\n    disableResize?: boolean;\r\n\r\n    onSelect?(event?: Event, row?: Row, grid?: Grid): void;\r\n    onDeselect?(event?: Event, row?: Row, grid?: Grid): void;\r\n    onClick?(event?: MouseEvent, row?: Row, grid?: Grid): void;\r\n    onDblClick?(event?: MouseEvent, row?: Row, grid?: Grid): void;\r\n    onRender?(grid?: Grid): boolean;\r\n    onRendered?(grid?: Grid): void;\r\n    postProcessOfRow?(tr?: FHTMLTableRowElement, row?: Row, grid?: Grid): void;\r\n}\r\n\r\nexport interface Col extends ColOption {\r\n    readonly isSorted?: boolean;\r\n    readonly isAsc?: boolean;\r\n\r\n    _id?: string;\r\n    _th?: FHTMLTableHeaderCellElement;\r\n    _div?: FHTMLDivElement;\r\n    _resizeHandle?: FHTMLDivElement;\r\n}\r\n\r\nexport interface ColOption {\r\n    /** `id` attribute of `th` */\r\n    id?: string;\r\n    className?: string;\r\n    attribute?: Attribute;\r\n    style?: Property;\r\n\r\n    key: string;\r\n    label?: string;\r\n    icon?: string;\r\n    align?: TextAlign;\r\n    width?: number;\r\n    minWidth?: number;\r\n\r\n    /** default is `false`. */\r\n    disableSort?: boolean;\r\n    /** default is `false`. */\r\n    disableResize?: boolean;\r\n}\r\n\r\nexport interface Row extends RowOption {\r\n    cell?: { [colKey: string]: string | number | Cell };\r\n\r\n    readonly tr?: FHTMLTableRowElement;\r\n\r\n    _grid?: Grid;\r\n    _tr?: FHTMLTableRowElement;\r\n    _checkbox?: Checkbox;\r\n    _last?: FHTMLTableDataCellElement;\r\n    _menu?: ContextMenu;\r\n}\r\n\r\nexport interface RowOption {\r\n    /** `id` attribute of `tr` */\r\n    id?: string;\r\n    className?: string;\r\n    attribute?: Attribute;\r\n    style?: Property;\r\n\r\n    cell?: { [colKey: string]: string | number | CellOption };\r\n    menuItems?: MenuItemOption[];\r\n    isSelected?: boolean;\r\n\r\n    onSelect?(event?: Event, row?: Row, grid?: Grid): void;\r\n    onDeselect?(event?: Event, row?: Row, grid?: Grid): void;\r\n    onClick?(event?: MouseEvent, row?: Row, grid?: Grid): void;\r\n    onDblClick?(event?: MouseEvent, row?: Row, grid?: Grid): void;\r\n    postProcess?(tr?: FHTMLTableRowElement, row?: Row, grid?: Grid): void;\r\n\r\n    /** value of row. this will disables cell's value. */\r\n    value?: any;\r\n}\r\n\r\nexport interface Cell extends CellOption {\r\n    readonly td?: FHTMLTableDataCellElement;\r\n    readonly div?: FHTMLDivElement;\r\n\r\n    _td?: FHTMLTableDataCellElement;\r\n    _div?: FHTMLDivElement;\r\n}\r\n\r\nexport interface CellOption {\r\n    /** `id` attribute of `td` */\r\n    id?: string;\r\n    className?: string;\r\n    attribute?: Attribute;\r\n    style?: Property;\r\n\r\n    text?: string | number;\r\n    html?: string;\r\n    element?: HTMLElement;\r\n    icon?: string;\r\n    sortAlt?: number | string;\r\n    onClick?(event?: MouseEvent, cell?: Cell, grid?: Grid): void;\r\n    onDblClick?(event?: MouseEvent, cell?: Cell, grid?: Grid): void;\r\n    postProcess?(td?: FHTMLTableDataCellElement, cell?: Cell, grid?: Grid): void;\r\n\r\n    /** value of cell. */\r\n    value?: any;\r\n}\r\n\r\nexport type TextAlign = \"left\" | \"center\" | \"right\";\r\n\r\n/*?\r\n    flagrate.createGrid(option)\r\n    new flagrate.Grid(option)\r\n    - option (Object) - configuration for the grid.\r\n\r\n    Create and initialize the grid.\r\n\r\n    #### option\r\n\r\n    * `id`                       (String): `id` attribute of container.\r\n    * `className`                (String):\r\n    * `attribute`                (Object):\r\n    * `style`                    (Object): (using flagrate.Element.setStyle)\r\n    * `cols`                     (Array): of col object.\r\n    * `rows`                     (Array): of row object.\r\n    * `pagination`               (Boolean; default `false`):\r\n    * `numberOfRowsPerPage`      (Number; default `20`): pagination.\r\n    * `fill`                     (Boolean; default `false`):\r\n    * `headless`                 (Boolean; default `false`):\r\n    * `multiSelect`              (Boolean; default `false`):\r\n    * `disableCheckbox`          (Boolean; default `false`):\r\n    * `disableSelect`            (Boolean; default `false`):\r\n    * `disableSort`              (Boolean; default `false`):\r\n    * `disableFilter`            (Boolean; default `false`):\r\n    * `disableResize`            (Boolean; default `false`):\r\n    * `onSelect`                 (Function):\r\n    * `onDeselect`               (Function):\r\n    * `onClick`                  (Function):\r\n    * `onDblClick`               (Function):\r\n    * `onRender`                 (Function):\r\n    * `onRendered`               (Function):\r\n    * `postProcessOfRow`         (Function):\r\n\r\n    #### col\r\n\r\n    * `id`                       (String): `id` attribute of `th`\r\n    * `className`                (String):\r\n    * `attribute`                (Object):\r\n    * `style`                    (Object): styling of `th` (using flagrate.Element.setStyle)\r\n    * `key`                      (String; required):\r\n    * `label`                    (String; default `\"\"`):\r\n    * `icon`                     (String):\r\n    * `align`                    (String):\r\n    * `width`                    (Number):\r\n    * `disableSort`              (Boolean; default `false`):\r\n    * `disableResize`            (Boolean; default `false`):\r\n\r\n    #### row\r\n\r\n    * `id`                       (String): `id` attribute of `tr`\r\n    * `className`                (String):\r\n    * `attribute`                (Object):\r\n    * `style`                    (Object): styling of `tr` (using flagrate.Element.setStyle)\r\n    * `cell`                     (Object|String; default `{}`): of cell object. or String for text.\r\n    * `menuItems`                (Array): of Menu items.\r\n    * `isSelected`               (Boolean):\r\n    * `onSelect`                 (Function):\r\n    * `onDeselect`               (Function):\r\n    * `onClick`                  (Function):\r\n    * `onDblClick`               (Function):\r\n    * `postProcess`              (Function):\r\n\r\n    #### cell\r\n\r\n    * `id`                       (String): `id` attribute of `td`\r\n    * `className`                (String):\r\n    * `attribute`                (Object):\r\n    * `style`                    (Object): styling of `td` (using flagrate.Element.setStyle)\r\n    * `text`                     (String):\r\n    * `html`                     (String):\r\n    * `element`                  (Element):\r\n    * `icon`                     (String):\r\n    * `sortAlt`                  (Number|String):\r\n    * `onClick`                  (Function):\r\n    * `onDblClick`               (Function):\r\n    * `postProcess`              (Function):\r\n**/\r\nexport class Grid {\r\n\r\n    private _cols: Col[] = [];\r\n    private _rows: Row[] = [];\r\n\r\n    private _pagePosition: number = 0;\r\n\r\n    onSelect: (event?: Event, row?: Row, grid?: Grid) => void;\r\n    onDeselect: (event?: Event, row?: Row, grid?: Grid) => void;\r\n    onClick: (event?: MouseEvent, row?: Row, grid?: Grid) => void;\r\n    onDblClick: (event?: MouseEvent, row?: Row, grid?: Grid) => void;\r\n    onRender: (grid?: Grid) => boolean;\r\n    onRendered: (grid?: Grid) => void;\r\n    postProcessOfRow: (tr?: FHTMLTableRowElement, row?: Row, grid?: Grid) => void;\r\n\r\n    private _selectedRows: Row[] = [];\r\n    private _sortedByKey: string = null;\r\n    private _sortedByAsc: boolean = null;\r\n\r\n    element = new Element(\"div\", { \"class\": \"flagrate flagrate-grid\" });\r\n    private _checkbox: Checkbox;\r\n    private _pager: Toolbar;\r\n    private _lastCol: FHTMLTableHeaderCellElement;\r\n    private _head = new Element(\"div\", { \"class\": \"flagrate-grid-head\" }).insertTo(this.element);\r\n    private _thead = new Element(\"thead\").insertTo(new Element(\"table\").insertTo(this._head));\r\n    private _tr = new Element(\"tr\").insertTo(this._thead);\r\n    private _body = new Element(\"div\", { \"class\": \"flagrate-grid-body\" }).insertTo(this.element);\r\n    private _tbody = new Element(\"tbody\").insertTo(new Element(\"table\").insertTo(this._body));\r\n    private _style = new Element(\"style\").insertTo(this.element);\r\n\r\n    static idCounter = 0;\r\n    private _id = \"flagrate-grid-\" + (++Grid.idCounter).toString(10);\r\n\r\n    private _renderTimer: number;\r\n    private _layoutTimer: number;\r\n    private _layoutInterval: number;\r\n    private _layoutWidth: number;\r\n\r\n    constructor(private _opt: Option = {}) {\r\n\r\n        if (_opt.id) {\r\n            this.element.writeAttribute(\"id\", _opt.id);\r\n        }\r\n        if (_opt.className) {\r\n            this.element.addClassName(_opt.className);\r\n        }\r\n        if (_opt.attribute) {\r\n            this.element.writeAttribute(_opt.attribute);\r\n        }\r\n        if (_opt.style) {\r\n            this.element.setStyle(_opt.style);\r\n        }\r\n\r\n        if (_opt.cols) {\r\n            this._cols = _opt.cols;\r\n        }\r\n        if (_opt.rows) {\r\n            this._rows = _opt.rows;\r\n        }\r\n\r\n        if (_opt.colMinWidth === undefined) {\r\n            _opt.colMinWidth = 16;\r\n        }\r\n        if (_opt.pagination === undefined) {\r\n            _opt.pagination = false;\r\n        }\r\n        if (!_opt.numberOfRowsPerPage) {\r\n            _opt.numberOfRowsPerPage = 20;\r\n        }\r\n        if (_opt.fill === undefined) {\r\n            _opt.fill = false;\r\n        }\r\n\r\n        if (_opt.headless === true) {\r\n            _opt.disableSort = true;\r\n            _opt.disableResize = true;\r\n            this.element.addClassName(\"flagrate-grid-headless\");\r\n        }\r\n\r\n        if (_opt.multiSelect === undefined) {\r\n            _opt.multiSelect = false;\r\n        }\r\n        if (_opt.disableCheckbox === undefined) {\r\n            _opt.disableCheckbox = false;\r\n        }\r\n        if (_opt.disableSelect === undefined) {\r\n            _opt.disableSelect = false;\r\n        }\r\n        if (_opt.disableSort === undefined) {\r\n            _opt.disableSort = false;\r\n        }\r\n        /* if (_opt.disableFilter === undefined) {\r\n            _opt.disableFilter = false;\r\n        } */\r\n        if (_opt.disableResize === undefined) {\r\n            _opt.disableResize = false;\r\n        }\r\n\r\n        this.onSelect = _opt.onSelect;\r\n        this.onDeselect = _opt.onDeselect;\r\n        this.onClick = _opt.onClick;\r\n        this.onDblClick = _opt.onDblClick;\r\n        this.onRender = _opt.onRender;\r\n        this.onRendered = _opt.onRendered;\r\n        this.postProcessOfRow = _opt.postProcessOfRow;\r\n\r\n        this._create()._requestRender();\r\n    }\r\n\r\n    get headless(): boolean {\r\n        return this.element.hasClassName(\"flagrate-grid-headless\");\r\n    }\r\n    set headless(enable: boolean) {\r\n\r\n        if (enable) {\r\n            this.element.addClassName(\"flagrate-grid-headless\");\r\n        } else {\r\n            this.element.removeClassName(\"flagrate-grid-headless\");\r\n        }\r\n    }\r\n\r\n    get fill(): boolean {\r\n        return this.element.hasClassName(\"flagrate-grid-fill\");\r\n    }\r\n    set fill(enable: boolean) {\r\n\r\n        if (enable) {\r\n            this.element.addClassName(\"flagrate-grid-fill\");\r\n\r\n            this._body.onscroll = this._createBodyOnScrollHandler();\r\n        } else {\r\n            this.element.removeClassName(\"flagrate-grid-fill\");\r\n\r\n            this.element.onscroll = this._createOnScrollHandler();\r\n        }\r\n\r\n        this._requestRender();\r\n    }\r\n\r\n    get rows(): Row[] {\r\n        return this._rows;\r\n    }\r\n    set rows(rows: Row[]) {\r\n        this._rows = rows;\r\n        this._requestRender();\r\n    }\r\n\r\n    get sortedByKey(): string {\r\n        return this._sortedByKey;\r\n    }\r\n\r\n    get sortedByAsc(): boolean {\r\n        return this._sortedByAsc;\r\n    }\r\n\r\n    get selectedRows(): Row[] {\r\n        return this.getSelectedRows();\r\n    }\r\n    set selectedRows(rows: Row[]) {\r\n        this.select(rows);\r\n    }\r\n\r\n    insertTo(element: HTMLElement, pos?: InsertPosition): this {\r\n        return this.element.insertTo(element, pos) && this;\r\n    }\r\n\r\n    on(eventType: string, listener: EventListener, useCapture?: boolean): this {\r\n        return this.element.on(eventType, listener, useCapture) && this;\r\n    }\r\n\r\n    off(eventType: string, listener?: EventListener, useCapture?: boolean): this {\r\n        return this.element.off(eventType, listener, useCapture) && this;\r\n    }\r\n\r\n    /** select row(s) */\r\n    select(...row: (number | Row)[]): this;\r\n    select(rows: (number | Row)[]): this;\r\n    select(a) {\r\n\r\n        let rows: Row[];\r\n\r\n        if (Array.isArray(a) === true) {\r\n            rows = a;\r\n        } else {\r\n            rows = [];\r\n\r\n            for (let i = 0, l = arguments.length; i < l; i++) {\r\n                rows.push(arguments[i]);\r\n            }\r\n        }\r\n\r\n        if (this._opt.multiSelect === false) {\r\n            this.deselectAll();\r\n        }\r\n\r\n        for (let i = 0, l = rows.length; i < l; i++) {\r\n            let row = rows[i];\r\n\r\n            if (typeof row === \"number\") {\r\n                row = this._rows[<number>row];\r\n            }\r\n\r\n            row.isSelected = true;\r\n\r\n            if (row._tr && row._tr.hasClassName(\"flagrate-grid-row-selected\") === true) {\r\n                continue;\r\n            }\r\n\r\n            this._selectedRows.push(row);\r\n\r\n            if (row._tr) {\r\n                row._tr.addClassName(\"flagrate-grid-row-selected\");\r\n            }\r\n\r\n            if (row._checkbox) {\r\n                row._checkbox.check();\r\n                setTimeout(() => {\r\n                    if (row.isSelected === true) {\r\n                        row._checkbox.check();\r\n                    }\r\n                }, 0);\r\n            }\r\n\r\n            if (row.onSelect) {\r\n                row.onSelect.call(this, window.event, row, this);\r\n            }\r\n            if (this.onSelect) {\r\n                this.onSelect(window.event, row, this);\r\n            }\r\n        }\r\n\r\n        if (this._selectedRows.length !== 0 && this._checkbox) {\r\n            this._checkbox.check();\r\n        }\r\n\r\n        this.element.fire(\"change\", { targetGrid: this });\r\n\r\n        return this;\r\n    }\r\n\r\n    /** deselect row(s) */\r\n    deselect(...row: (number | Row)[]): this;\r\n    deselect(rows: (number | Row)[]): this;\r\n    deselect(a) {\r\n\r\n        let rows: Row[];\r\n\r\n        if (Array.isArray(a)) {\r\n            rows = a;\r\n        } else {\r\n            rows = [];\r\n\r\n            for (let i = 0, l = arguments.length; i < l; i++) {\r\n                rows.push(arguments[i]);\r\n            }\r\n        }\r\n\r\n        for (let i = 0, l = rows.length; i < l; i++) {\r\n            let row = rows[i];\r\n\r\n            if (typeof row === \"number\") {\r\n                row = this._rows[<number>row];\r\n            }\r\n\r\n            row.isSelected = false;\r\n\r\n            if (row._tr && row._tr.hasClassName(\"flagrate-grid-row-selected\") === false) {\r\n                continue;\r\n            }\r\n\r\n            this._selectedRows.splice(this._selectedRows.indexOf(row), 1);\r\n\r\n            if (row._tr) {\r\n                row._tr.removeClassName(\"flagrate-grid-row-selected\");\r\n            }\r\n\r\n            if (row._checkbox) {\r\n                row._checkbox.uncheck();\r\n                setTimeout(() => {\r\n                    if (row.isSelected === false) {\r\n                        row._checkbox.uncheck();\r\n                    }\r\n                }, 0);\r\n            }\r\n\r\n            if (row.onDeselect) {\r\n                row.onDeselect.call(this, window.event, row, this);\r\n            }\r\n            if (this.onDeselect) {\r\n                this.onDeselect(window.event, row, this);\r\n            }\r\n        }\r\n\r\n        if (this._selectedRows.length === 0 && this._checkbox) {\r\n            this._checkbox.uncheck();\r\n        }\r\n\r\n        this.element.fire(\"change\", { targetGrid: this });\r\n\r\n        return this;\r\n    }\r\n\r\n    /** select all rows */\r\n    selectAll(): this {\r\n        return this.select(this._rows);\r\n    }\r\n\r\n    /** deselect all rows */\r\n    deselectAll(): this {\r\n        return this.deselect(this._rows);\r\n    }\r\n\r\n    /** get selected rows */\r\n    getSelectedRows(): Row[] {\r\n        return this._selectedRows;\r\n    }\r\n\r\n    /** get values of selected rows */\r\n    getValues(): any[] {\r\n\r\n        return this._selectedRows.map(row => getValue.call(row));\r\n    }\r\n\r\n    /** sort rows by key */\r\n    sort(key: string, isAsc?: boolean): this {\r\n\r\n        if (isAsc === undefined) {\r\n            isAsc = true;\r\n        }\r\n\r\n        this._rows.sort((a, b) => {\r\n\r\n            let A: any = 0;\r\n            let B: any = 0;\r\n\r\n            const cellA: Cell = a.cell[key];\r\n            const cellB: Cell = b.cell[key];\r\n\r\n            if (typeof cellA === \"object\") {\r\n                A = (cellA.sortAlt !== undefined) ? cellA.sortAlt : cellA.text || cellA.html || (cellA.element && cellA.element.innerHTML) || (cellA._div && cellA._div.innerHTML) || 0;\r\n            } else {\r\n                A = cellA || 0;\r\n            }\r\n            if (typeof cellB === \"object\") {\r\n                B = (cellB.sortAlt !== undefined) ? cellB.sortAlt : cellB.text || cellB.html || (cellB.element && cellB.element.innerHTML) || (cellB._div && cellB._div.innerHTML) || 0;\r\n            } else {\r\n                B = cellB || 0;\r\n            }\r\n\r\n            return A === B ? 0 : (A > B ? 1 : -1);\r\n        });\r\n\r\n        if (isAsc === false) {\r\n            this._rows.reverse();\r\n        }\r\n\r\n        for (let i = 0, l = this._cols.length; i < l; i++) {\r\n            if (this._cols[i].key === key) {\r\n                if (isAsc) {\r\n                    this._cols[i]._th.addClassName(\"flagrate-grid-col-sorted-asc\");\r\n                    this._cols[i]._th.removeClassName(\"flagrate-grid-col-sorted-desc\");\r\n                } else {\r\n                    this._cols[i]._th.addClassName(\"flagrate-grid-col-sorted-desc\");\r\n                    this._cols[i]._th.removeClassName(\"flagrate-grid-col-sorted-asc\");\r\n                }\r\n\r\n                (<any>this._cols[i]).isSorted = true;\r\n                (<any>this._cols[i]).isAsc = isAsc;\r\n\r\n                this._sortedByKey = key;\r\n                this._sortedByAsc = isAsc;\r\n            } else {\r\n                if (this._cols[i].isSorted) {\r\n                    this._cols[i]._th.removeClassName(\"flagrate-grid-col-sorted-asc\").removeClassName(\"flagrate-grid-col-sorted-desc\");\r\n                }\r\n\r\n                (<any>this._cols[i]).isSorted = false;\r\n                (<any>this._cols[i]).isAsc = null;\r\n            }\r\n        }\r\n\r\n        this._requestRender();\r\n\r\n        return this;\r\n    }\r\n\r\n    unshift(row: Row): number;\r\n    unshift(rows: Row[]): number;\r\n    unshift(r) {\r\n\r\n        if (Array.isArray(r) === true) {\r\n            for (let i = 0, l = r.length; i < l; i++) {\r\n                this._rows.unshift(r[i]);\r\n            }\r\n        } else {\r\n            this._rows.unshift(r);\r\n        }\r\n\r\n        if (this._sortedByKey === null) {\r\n            this._requestRender();\r\n        } else {\r\n            this.sort(this._sortedByKey, this._sortedByAsc);\r\n        }\r\n\r\n        return this._rows.length;\r\n    }\r\n\r\n    push(row: Row): number;\r\n    push(rows: Row[]): number;\r\n    push(r) {\r\n\r\n        if (Array.isArray(r) === true) {\r\n            for (let i = 0, l = r.length; i < l; i++) {\r\n                this._rows.push(r[i]);\r\n            }\r\n        } else {\r\n            this._rows.push(r);\r\n        }\r\n\r\n        if (this._sortedByKey === null) {\r\n            this._requestRender();\r\n        } else {\r\n            this.sort(this._sortedByKey, this._sortedByAsc);\r\n        }\r\n\r\n        return this._rows.length;\r\n    }\r\n\r\n    shift(count?: number): Row | Row[];\r\n    shift(c) {\r\n\r\n        const count = c || 1;\r\n        const removes: Row[] = [];\r\n\r\n        for (let i = 0, l = this._rows.length; i < l && i < count; i++) {\r\n            removes.push(this._rows.shift());\r\n        }\r\n\r\n        this._requestRender();\r\n\r\n        return !c ? removes[0] : removes;\r\n    }\r\n\r\n    pop(count?: number): Row | Row[];\r\n    pop(c) {\r\n\r\n        const count = c || 1;\r\n        const removes: Row[] = [];\r\n\r\n        for (let i = 0, l = this._rows.length; i < l && i < count; i++) {\r\n            removes.push(this._rows.pop());\r\n        }\r\n\r\n        this._requestRender();\r\n\r\n        return !c ? removes[0] : removes;\r\n    }\r\n\r\n    splice(index: number, howMany?: number, rows?: Row[]): Row[];\r\n    splice(index: number, howMany?: number, row?: Row): Row[];\r\n    splice(index, c, r) {\r\n\r\n        c = typeof c === \"undefined\" ? this._rows.length - index : c;\r\n\r\n        const removes = this._rows.splice(index, c);\r\n\r\n        if (r) {\r\n            if (r instanceof Array === false) {\r\n                r = [r];\r\n            }\r\n\r\n            for (let i = 0, l = r.length; i < l; i++) {\r\n                this._rows.splice(index + i, 0, r[i]);\r\n            }\r\n        }\r\n\r\n        if (this._sortedByKey === null) {\r\n            this._requestRender();\r\n        } else {\r\n            this.sort(this._sortedByKey, this._sortedByAsc);\r\n        }\r\n\r\n        return removes;\r\n    }\r\n\r\n    indexOf(row: Row, fromIndex?: number): number {\r\n        return this._rows.indexOf(row, fromIndex);\r\n    }\r\n\r\n    removeRow(row: Row): Row;\r\n    removeRow(rows: Row[]): Row[];\r\n    removeRow(r) {\r\n\r\n        const removes: Row[] = [];\r\n        let bulk = true;\r\n\r\n        if (r instanceof Array === false) {\r\n            bulk = false;\r\n            r = [r];\r\n        }\r\n\r\n        for (let i = 0, l = r.length; i < l; i++) {\r\n            const index = this.indexOf(r[i]);\r\n            if (index !== -1) {\r\n                removes.push(this.splice(index, 1));\r\n            }\r\n        }\r\n\r\n        return bulk ? removes : removes[0];\r\n    }\r\n\r\n    disable() {\r\n\r\n        this.element.addClassName(\"flagrate-disabled\");\r\n\r\n        return this;\r\n    }\r\n\r\n    enable() {\r\n\r\n        this.element.removeClassName(\"flagrate-disabled\");\r\n\r\n        return this;\r\n    }\r\n\r\n    isEnabled() {\r\n        return !this.element.hasClassName(\"flagrate-disabled\");\r\n    }\r\n\r\n    private _create(): this {\r\n\r\n        if (this._opt.disableCheckbox === false && this._opt.disableSelect === false && this._opt.multiSelect === true) {\r\n            this._checkbox = new Checkbox({\r\n                onCheck: this.selectAll.bind(this),\r\n                onUncheck: this.deselectAll.bind(this)\r\n            }).insertTo(new Element(\"th\", { \"class\": \"flagrate-grid-cell-checkbox\" }).insertTo(this._tr));\r\n        }\r\n\r\n        for (let i = 0, l = this._cols.length; i < l; i++) {\r\n            let col = this._cols[i];\r\n\r\n            col._id = `${this._id}-col-${col.key}`;\r\n            col._th = new Element(\"th\").insertTo(this._tr);\r\n\r\n            if (col.id) {\r\n                col._th.writeAttribute(\"id\", col.id);\r\n            }\r\n            if (col.className) {\r\n                col._th.writeAttribute(\"class\", col.className);\r\n            }\r\n            if (col.attribute) {\r\n                col._th.writeAttribute(col.attribute);\r\n            }\r\n            if (col.style) {\r\n                col._th.setStyle(col.style);\r\n            }\r\n\r\n            col._th.addClassName(col._id);\r\n\r\n            const width = !!col.width ? (col.width.toString(10) + \"px\") : \"auto\";\r\n            this._style.insertText(`.${col._id}{width:${width}}`);\r\n\r\n            if (col.align) {\r\n                col._th.style.textAlign = col.align;\r\n            }\r\n\r\n            col._div = new Element().insertTo(col._th);\r\n\r\n            if (col.label) {\r\n                col._div.updateText(col.label);\r\n            }\r\n\r\n            if (col.icon) {\r\n                col._div.addClassName(\"flagrate-icon\");\r\n                col._div.setStyle({\r\n                    backgroundImage: \"url(\" + col.icon + \")\"\r\n                });\r\n            }\r\n\r\n            if (this._opt.disableResize === false && !col.disableResize) {\r\n                col._resizeHandle = new Element(\"div\", {\r\n                    \"class\": \"flagrate-grid-col-resize-handle\"\r\n                }).insertTo(this.element);\r\n\r\n                col._resizeHandle.onmousedown = this._createResizeHandleOnMousedownHandler(col);\r\n            }\r\n\r\n            if (this._opt.disableSort === false && !col.disableSort) {\r\n                col._th.addClassName(\"flagrate-grid-col-sortable\");\r\n                col._th.onclick = this._createColOnClickHandler(col);\r\n            }\r\n        }\r\n\r\n        this._lastCol = new Element(\"th\", { \"class\": this._id + \"-col-last\" }).insertTo(this._tr);\r\n        this._style.insertText(\".\" + this._id + \"-col-last:after{right:0}\");\r\n\r\n        // pagination (testing)\r\n        if (this._opt.pagination) {\r\n            this.element.addClassName(\"flagrate-grid-pagination\");\r\n            // pager container\r\n            this._pager = new Toolbar({\r\n                className: \"flagrate-grid-pager\",\r\n                items: [\r\n                    {\r\n                        key: \"rn\",\r\n                        element: new Element(\"span\").insertText(\"-\")\r\n                    },\r\n                    {\r\n                        key: \"first\",\r\n                        element: new Button({\r\n                            className: \"flagrate-grid-pager-first\",\r\n                            onSelect: () => {\r\n                                this._pagePosition = 0;\r\n                                this._requestRender();\r\n                            }\r\n                        })\r\n                    },\r\n                    {\r\n                        key: \"prev\",\r\n                        element: new Button({\r\n                            className: \"flagrate-grid-pager-prev\",\r\n                            onSelect: () => {\r\n                                --this._pagePosition;\r\n                                this._requestRender();\r\n                            }\r\n                        })\r\n                    },\r\n                    {\r\n                        key: \"num\",\r\n                        element: new Element(\"span\", { \"class\": \"flagrate-grid-pager-num\" }).insertText(\"-\")\r\n                    },\r\n                    {\r\n                        key: \"next\",\r\n                        element: new Button({\r\n                            className: \"flagrate-grid-pager-next\",\r\n                            onSelect: () => {\r\n                                ++this._pagePosition;\r\n                                this._requestRender();\r\n                            }\r\n                        })\r\n                    },\r\n                    {\r\n                        key: \"last\",\r\n                        element: new Button({\r\n                            className: \"flagrate-grid-pager-last\",\r\n                            onSelect: () => {\r\n                                this._pagePosition = Math.floor(this._rows.length / this._opt.numberOfRowsPerPage);\r\n                                this._requestRender();\r\n                            }\r\n                        })\r\n                    }\r\n                ]\r\n            }).insertTo(this.element);\r\n        }\r\n\r\n        if (this._opt.fill) {\r\n            this.element.addClassName(\"flagrate-grid-fill\");\r\n\r\n            this._body.onscroll = this._createBodyOnScrollHandler();\r\n        } else {\r\n            this.element.onscroll = this._createOnScrollHandler();\r\n        }\r\n\r\n        if (this._opt.disableResize === false) {\r\n            this._layoutUpdater();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    private _layoutUpdater(): void {\r\n\r\n        if (this._layoutInterval) {\r\n            clearInterval(this._layoutInterval);\r\n        }\r\n        this._layoutInterval = setInterval(() => {\r\n\r\n            if (this.element.exists() === false) {\r\n                clearInterval(this._layoutInterval);\r\n                return;\r\n            }\r\n\r\n            this._requestUpdateLayout();\r\n        }, 1000);\r\n    }\r\n\r\n    private _requestUpdateLayout(): void {\r\n\r\n        if (this._layoutWidth === this.element.clientWidth) {\r\n            return;\r\n        }\r\n        if (this._layoutTimer) {\r\n            clearTimeout(this._layoutTimer);\r\n        }\r\n        this._layoutTimer = setTimeout(() => {\r\n\r\n            this._layoutWidth = this.element.clientWidth;\r\n            this._updateLayoutOfCols();\r\n            this._updatePositionOfResizeHandles();\r\n        }, 0);\r\n    }\r\n\r\n    private _requestRender(): this {\r\n\r\n        if (this._renderTimer) {\r\n            clearTimeout(this._renderTimer);\r\n        }\r\n        this._renderTimer = setTimeout(this._render.bind(this), 0);\r\n\r\n        return this;\r\n    }\r\n\r\n    private _render(): this {\r\n\r\n        if (!!this.onRender && this.onRender(this) === false) {\r\n            return this;\r\n        }\r\n\r\n        const isCheckable = (this._opt.disableCheckbox === false && this._opt.disableSelect === false && this._opt.multiSelect === true);\r\n\r\n        let i: number, j: number, row: Row, col: Col, cell: Cell, pl: number, pages: number, from: number, to: number;\r\n        const rl = this._rows.length;\r\n        const cl = this._cols.length;\r\n\r\n        if (this._opt.pagination) {\r\n            pl = 0;\r\n            pages = Math.ceil(rl / this._opt.numberOfRowsPerPage);\r\n            if (pages <= this._pagePosition) {\r\n                this._pagePosition = pages - 1;\r\n            }\r\n            if (this._pagePosition <= 0) {\r\n                this._pagePosition = 0;\r\n            }\r\n            from = this._pagePosition * this._opt.numberOfRowsPerPage;\r\n            to = from + this._opt.numberOfRowsPerPage;\r\n        }\r\n\r\n        this._tbody.update();\r\n\r\n        for (i = 0; i < rl; i++) {\r\n            if (this._opt.pagination) {\r\n                if (i < from) {\r\n                    continue;\r\n                }\r\n                if (i >= to) {\r\n                    break;\r\n                }\r\n                ++pl;\r\n            }\r\n\r\n            row = this._rows[i];\r\n\r\n            if (row._tr) {\r\n                row._tr.insertTo(this._tbody);\r\n                continue;\r\n            }\r\n\r\n            // init row\r\n            row._grid = this;\r\n            row._tr = new Element(\"tr\").insertTo(this._tbody);\r\n\r\n            if (row.id) {\r\n                row._tr.id = row.id;\r\n            }\r\n            if (row.className) {\r\n                row._tr.className = row.className;\r\n            }\r\n            if (row.attribute) {\r\n                row._tr.writeAttribute(row.attribute);\r\n            }\r\n            if (row.style) {\r\n                row._tr.setStyle(row.style);\r\n            }\r\n\r\n            if (row.onClick || this.onClick || this._opt.disableSelect === false) {\r\n                if (this._opt.disableSelect === false) {\r\n                    row._tr.addClassName(\"flagrate-grid-row-selectable\");\r\n                }\r\n                if (row.onClick || this.onClick) {\r\n                    row._tr.addClassName(\"flagrate-grid-row-clickable\");\r\n                }\r\n\r\n                row._tr.onclick = this._createRowOnClickHandler(row);\r\n            }\r\n\r\n            if (row.onDblClick || this.onDblClick) {\r\n                row._tr.ondblclick = this._createRowOnDblClickHandler(row);\r\n            }\r\n\r\n            if (isCheckable && !row._checkbox) {\r\n                row._checkbox = new Checkbox({\r\n                    onChange: this._createRowOnCheckHandler(row)\r\n                }).insertTo(new Element(\"td\", { \"class\": \"flagrate-grid-cell-checkbox\" }).insertTo(row._tr));\r\n            }\r\n\r\n            if (row.isSelected === true) {\r\n                this.select(row);\r\n            }\r\n\r\n            for (j = 0; j < cl; j++) {\r\n                col = this._cols[j];\r\n                cell = (row.cell[col.key] === undefined) ? (row.cell[col.key] = {}) : row.cell[col.key];\r\n\r\n                if (typeof cell === \"string\" || typeof cell === \"number\") {\r\n                    cell = row.cell[col.key] = { text: <string | number>cell };\r\n                }\r\n\r\n                if (cell._td) {\r\n                    cell._td.insertTo(row._tr);\r\n                    continue;\r\n                }\r\n\r\n                // init cell\r\n                cell._td = new Element(\"td\").insertTo(row._tr);\r\n\r\n                if (cell.id) {\r\n                    cell._td.id = cell.id;\r\n                }\r\n                if (cell.className) {\r\n                    cell._td.className = cell.className;\r\n                }\r\n                if (cell.attribute) {\r\n                    cell._td.writeAttribute(cell.attribute);\r\n                }\r\n                if (cell.style) {\r\n                    cell._td.setStyle(cell.style);\r\n                }\r\n\r\n                if (col.align) {\r\n                    cell._td.style.textAlign = col.align;\r\n                }\r\n\r\n                cell._td.addClassName(col._id);\r\n\r\n                // init cell content\r\n                cell._div = new Element().insertTo(cell._td);\r\n\r\n                if (cell.text !== undefined) {\r\n                    cell._div.updateText(cell.text);\r\n                }\r\n                if (cell.html) {\r\n                    cell._div.update(cell.html);\r\n                }\r\n                if (cell.element) {\r\n                    cell._div.update(cell.element);\r\n                }\r\n\r\n                if (cell.icon) {\r\n                    cell._div.addClassName(\"flagrate-icon\");\r\n                    cell._div.style.backgroundImage = `url(${cell.icon})`;\r\n                }\r\n\r\n                if (cell.onClick) {\r\n                    cell._td.addClassName(\"flagrate-grid-cell-clickable\");\r\n\r\n                    cell._td.onclick = this._createCellOnClickHandler(cell);\r\n                }\r\n\r\n                if (cell.onDblClick) {\r\n                    cell._td.ondblclick = this._createCellOnDblClickHandler(cell);\r\n                }\r\n\r\n                // redefine props\r\n                Object.defineProperties(cell, cellProps);\r\n\r\n                // post-processing\r\n                if (cell.postProcess) {\r\n                    cell.postProcess.call(this, cell._td, cell, this);\r\n                }\r\n            }\r\n\r\n            if (!row._last) {\r\n                row._last = new Element(\"td\", { \"class\": this._id + \"-col-last\" });\r\n            }\r\n            row._last.insertTo(row._tr);\r\n\r\n            // menu\r\n            if (row.menuItems) {\r\n                this._updateRowMenu(row, row.menuItems);\r\n            }\r\n\r\n            // redefine props\r\n            Object.defineProperties(row, rowProps);\r\n\r\n            // post-processing\r\n            if (row.postProcess) {\r\n                row.postProcess.call(this, row._tr, row, this);\r\n            }\r\n            if (this.postProcessOfRow) {\r\n                this.postProcessOfRow(row._tr, row, this);\r\n            }\r\n        }//<--for\r\n\r\n        if (this._opt.pagination) {\r\n            this._pager.getElementByKey(\"rn\").updateText((from + 1) + \" - \" + (from + pl) + \" / \" + rl);\r\n            this._pager.getElementByKey(\"num\").updateText((this._pagePosition + 1) + \" / \" + pages);\r\n        }\r\n\r\n        if (this._opt.disableResize === false) {\r\n            if (this._opt.fill) {\r\n                this._head.style.right = (this._body.offsetWidth - this._body.clientWidth) + \"px\";\r\n                this._head.scrollLeft = this._body.scrollLeft;\r\n            }\r\n\r\n            this._requestUpdateLayout();\r\n        }\r\n\r\n        if (this.onRendered) {\r\n            this.onRendered(this);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    private _updateRowMenu(row: Row, items: MenuItemOption[]): void {\r\n\r\n        if (row._menu) {\r\n            row._menu.remove();\r\n            delete row._menu;\r\n        }\r\n\r\n        if (items && items.length !== 0) {\r\n            row._last.addClassName(\"flagrate-grid-cell-menu\");\r\n\r\n            row._menu = new ContextMenu({\r\n                target: row._tr,\r\n                items: items\r\n            });\r\n\r\n            if (!row._last.onclick) {\r\n                row._last.onclick = row._grid._createLastRowOnClickHandler(row);\r\n            }\r\n        } else {\r\n            row._last.removeClassName(\"flagrate-grid-cell-menu\");\r\n        }\r\n    }\r\n\r\n    private _updatePositionOfResizeHandles(): void {\r\n\r\n        const adj = this._opt.fill ? -this._body.scrollLeft : 0;\r\n\r\n        let col;\r\n        for (let i = 0, l = this._cols.length; i < l; i++) {\r\n            col = this._cols[i];\r\n\r\n            if (col._resizeHandle) {\r\n                col._resizeHandle.style.left = (col._th.offsetLeft + col._th.getWidth() + adj) + \"px\";\r\n            }\r\n        }\r\n    }\r\n\r\n    private _updateLayoutOfCols(surplus?: number): void {\r\n\r\n        let fixed = true;\r\n        let minimized = 0;\r\n\r\n        let col;\r\n        for (let i = 0, l = this._cols.length; i < l; i++) {\r\n            col = this._cols[i];\r\n\r\n            if (col.width) {\r\n                continue;\r\n            }\r\n\r\n            let width = \"auto\";\r\n\r\n            const minWidth = col.minWidth === undefined ? this._opt.colMinWidth : col.minWidth;\r\n            if (surplus) {\r\n                width = surplus + \"px\";\r\n            } else if (minWidth >= col._th.getWidth()) {\r\n                width = minWidth + \"px\";\r\n                ++minimized;\r\n            } else {\r\n                fixed = false;\r\n            }\r\n\r\n            this._style.updateText(\r\n                this._style.innerHTML.replace(\r\n                    new RegExp(\"(\" + col._id + \"{width:)([^}]*)}\"),\r\n                    \"$1\" + width + \"}\"\r\n                )\r\n            );\r\n        }\r\n\r\n        if (fixed) {\r\n            this.element.addClassName(\"flagrate-grid-fixed\");\r\n        } else {\r\n            this.element.removeClassName(\"flagrate-grid-fixed\");\r\n        }\r\n\r\n        setTimeout(() => {\r\n\r\n            const base = this._opt.fill ? this._body : this.element;\r\n\r\n            this._style.updateText(\r\n                this._style.innerHTML.replace(\r\n                    new RegExp(\"(\" + this._id + \"-col-last:after{right:)([^}]*)}\"),\r\n                    \"$1\" + (base.scrollWidth - base.clientWidth - base.scrollLeft) + \"px!important}\"\r\n                )\r\n            );\r\n\r\n            const _surplus = this._lastCol.getWidth();\r\n            if (fixed && !surplus && _surplus && minimized) {\r\n                this._updateLayoutOfCols(Math.floor(_surplus / minimized));\r\n            }\r\n        }, 0);\r\n    }\r\n\r\n    private _createOnScrollHandler() {\r\n\r\n        return (e: Event) => {\r\n\r\n            if (this._opt.disableResize === false) {\r\n                this._updateLayoutOfCols();\r\n            }\r\n        };\r\n    }\r\n\r\n    private _createBodyOnScrollHandler() {\r\n\r\n        return (e: Event) => {\r\n\r\n            this._head.style.right = (this._body.offsetWidth - this._body.clientWidth) + \"px\";\r\n            this._head.scrollLeft = this._body.scrollLeft;\r\n\r\n            if (this._opt.disableResize === false) {\r\n                this._updateLayoutOfCols();\r\n                this._updatePositionOfResizeHandles();\r\n            }\r\n        };\r\n    }\r\n\r\n    private _createColOnClickHandler(col: Col) {\r\n\r\n        return (e: MouseEvent) => {\r\n\r\n            this.sort(col.key, !col.isAsc);\r\n        };\r\n    }\r\n\r\n    private _createRowOnClickHandler(row: Row) {\r\n\r\n        return (e: MouseEvent) => {\r\n\r\n            if (/firefox/i.test(navigator.userAgent) === true) {\r\n                window.event = e;\r\n            }\r\n\r\n            if (this.isEnabled() === false) {\r\n                return;\r\n            }\r\n\r\n            if (row.onClick) {\r\n                row.onClick.call(this, e, row, this);\r\n            }\r\n            if (this.onClick) {\r\n                this.onClick(e, row, this);\r\n            }\r\n\r\n            if (this._opt.disableSelect === false) {\r\n                if (row.isSelected === true) {\r\n                    this.deselect(row);\r\n                } else {\r\n                    this.select(row);\r\n                }\r\n            }\r\n\r\n            if (row._checkbox) {\r\n                row._checkbox.focus();\r\n            }\r\n\r\n            return false;\r\n        };\r\n    }\r\n\r\n    private _createRowOnDblClickHandler(row: Row) {\r\n\r\n        return (e: MouseEvent) => {\r\n            if (/firefox/i.test(navigator.userAgent) === true) {\r\n                window.event = e;\r\n            }\r\n\r\n            if (this.isEnabled() === false) {\r\n                return;\r\n            }\r\n\r\n            if (row.onDblClick) {\r\n                row.onDblClick.call(this, e, row, this);\r\n            }\r\n            if (this.onDblClick) {\r\n                this.onDblClick(e, row, this);\r\n            }\r\n        };\r\n    }\r\n\r\n    private _createCellOnClickHandler(cell: Cell) {\r\n\r\n        return (e: MouseEvent) => {\r\n\r\n            if (this.isEnabled() === false) {\r\n                return;\r\n            }\r\n\r\n            if (cell.onClick) {\r\n                cell.onClick.call(this, e, cell, this);\r\n            }\r\n        };\r\n    }\r\n\r\n    private _createCellOnDblClickHandler(cell: Cell) {\r\n\r\n        return (e: MouseEvent) => {\r\n\r\n            if (this.isEnabled() === false) {\r\n                return;\r\n            }\r\n\r\n            if (cell.onDblClick) {\r\n                cell.onDblClick.call(this, e, cell, this);\r\n            }\r\n        };\r\n    }\r\n\r\n    private _createRowOnCheckHandler(row: Row) {\r\n\r\n        return (e: CheckboxEvent) => {\r\n\r\n            if (this.isEnabled() === false) {\r\n                if (e.targetCheckbox.isChecked() === true) {\r\n                    e.targetCheckbox.uncheck();\r\n                } else {\r\n                    e.targetCheckbox.check();\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (this._opt.disableSelect === false) {\r\n                if (row._checkbox.isChecked() === true) {\r\n                    this.select(row);\r\n                } else {\r\n                    this.deselect(row);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    private _createLastRowOnClickHandler(row: Row) {\r\n\r\n        return (e: MouseEvent) => {\r\n\r\n            if (this.isEnabled() === false) {\r\n                return;\r\n            }\r\n\r\n            e.stopPropagation();\r\n\r\n            if (row._menu) {\r\n                row._menu.open(e);\r\n            }\r\n        };\r\n    }\r\n\r\n    private _createResizeHandleOnMousedownHandler(col: Col) {\r\n\r\n        return (e: MouseEvent) => {\r\n\r\n            //e.stopPropagation();\r\n            e.preventDefault();\r\n\r\n            let current = e.clientX;\r\n            const origin = current;\r\n\r\n            const onMove = (e: MouseEvent) => {\r\n\r\n                e.preventDefault();\r\n\r\n                const delta = e.clientX - current;\r\n                current += delta;\r\n\r\n                col._resizeHandle.style.left = (parseInt(col._resizeHandle.style.left.replace(\"px\", \"\"), 10) + delta) + \"px\";\r\n            };\r\n\r\n            const onUp = (e: MouseEvent) => {\r\n\r\n                e.preventDefault();\r\n\r\n                document.removeEventListener(\"mousemove\", onMove, true);\r\n                document.removeEventListener(\"mouseup\", onUp, true);\r\n\r\n                const minWidth = col.minWidth === undefined ? this._opt.colMinWidth : col.minWidth;\r\n                const delta = e.clientX - origin;\r\n                let width = col._th.getWidth() + delta;\r\n                width = col.width = Math.max(width, minWidth);\r\n\r\n                this._style.updateText(\r\n                    this._style.innerHTML.replace(new RegExp(`(${col._id}{width:)([^}]*)}`), `$1${width}px}`)\r\n                );\r\n\r\n                this._updateLayoutOfCols();\r\n                this._updatePositionOfResizeHandles();\r\n            };\r\n\r\n            document.addEventListener(\"mousemove\", onMove, true);\r\n            document.addEventListener(\"mouseup\", onUp, true);\r\n        };\r\n    }\r\n}\r\n\r\nexport function createGrid(a): Grid {\r\n    return new Grid(a);\r\n}\r\n\r\n/** get value of row */\r\nfunction getValue(): any {\r\n\r\n    const row = this as Row;\r\n\r\n    if (row.value !== undefined) {\r\n        return row.value;\r\n    }\r\n\r\n    const ret = {};\r\n\r\n    for (const key in row.cell) {\r\n        if (typeof row.cell[key] === \"object\" && (<Cell>row.cell[key]).value !== undefined) {\r\n            ret[key] = (<Cell>row.cell[key]).value;\r\n        }\r\n    }\r\n\r\n    return ret;\r\n}\r\n\r\nconst hiddenProp = { enumerable: false };\r\n\r\nconst rowProps = <PropertyDescriptorMap>{\r\n    _checkbox: hiddenProp,\r\n    _grid: hiddenProp,\r\n    _last: hiddenProp,\r\n    _menu: hiddenProp,\r\n    _tr: hiddenProp,\r\n    className: hiddenProp,\r\n    attribute: hiddenProp,\r\n    style: hiddenProp,\r\n    postProcess: hiddenProp,\r\n\r\n    tr: {\r\n        enumerable: true,\r\n        get: function () {\r\n            return (<Row>this)._tr;\r\n        }\r\n    },\r\n    id: {\r\n        enumerable: true,\r\n        get: function () {\r\n            return (<Row>this)._tr.id || undefined;\r\n        },\r\n        set: function (id: string) {\r\n            (<Row>this)._tr.id = id;\r\n        }\r\n    },\r\n    menuItems: {\r\n        enumerable: true,\r\n        get: function () {\r\n            if ((<Row>this)._menu) {\r\n                return (<Row>this)._menu.items;\r\n            }\r\n        },\r\n        set: function (items: MenuItemOption[]) {\r\n            this._grid._updateRowMenu(<Row>this, items);\r\n        }\r\n    }\r\n};\r\n\r\nconst cellProps = <PropertyDescriptorMap>{\r\n    _td: hiddenProp,\r\n    _div: hiddenProp,\r\n    className: hiddenProp,\r\n    attribute: hiddenProp,\r\n    style: hiddenProp,\r\n    postProcess: hiddenProp,\r\n\r\n    td: {\r\n        enumerable: true,\r\n        get: function () {\r\n            return (<Cell>this)._td;\r\n        }\r\n    },\r\n    div: {\r\n        enumerable: true,\r\n        get: function () {\r\n            return (<Cell>this)._div;\r\n        }\r\n    },\r\n    id: {\r\n        enumerable: true,\r\n        get: function () {\r\n            return (<Cell>this)._td.id || undefined;\r\n        },\r\n        set: function (id: string) {\r\n            (<Cell>this)._td.id = id;\r\n        }\r\n    },\r\n    align: {\r\n        enumerable: true,\r\n        get: function () {\r\n            return (<Cell>this)._td.style.textAlign || undefined;\r\n        },\r\n        set: function (align: TextAlign) {\r\n            (<Cell>this)._td.style.textAlign = align;\r\n        }\r\n    },\r\n    text: {\r\n        enumerable: false,\r\n        get: function () {\r\n            return (<Cell>this)._div.innerText;\r\n        },\r\n        set: function (text: string | number) {\r\n            (<Cell>this)._div.updateText(text);\r\n        }\r\n    },\r\n    html: {\r\n        enumerable: false,\r\n        get: function () {\r\n            return (<Cell>this)._div.innerHTML;\r\n        },\r\n        set: function (html: string) {\r\n            (<Cell>this)._div.update(html);\r\n        }\r\n    },\r\n    element: {\r\n        enumerable: false,\r\n        get: function () {\r\n            return (<Cell>this)._div.firstChild;\r\n        },\r\n        set: function (element: HTMLElement) {\r\n            (<Cell>this)._div.update(element);\r\n        }\r\n    },\r\n    icon: {\r\n        enumerable: true,\r\n        get: function () {\r\n            return (<Cell>this)._div.style.backgroundImage.replace(/(.*url\\()([^)]+)(\\).*)/, \"$2\") || undefined;\r\n        },\r\n        set: function (url: string) {\r\n\r\n            const cell = this as Cell;\r\n\r\n            if (url) {\r\n                cell._div.addClassName(\"flagrate-icon\");\r\n                cell._div.style.backgroundImage = `url(${url})`;\r\n            } else {\r\n                cell._div.removeClassName(\"flagrate-icon\");\r\n                cell._div.style.backgroundImage = \"\";\r\n            }\r\n        }\r\n    }\r\n};"]}