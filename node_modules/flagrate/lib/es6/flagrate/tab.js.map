{"version":3,"sources":["flagrate/tab.ts"],"names":[],"mappings":"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","file":"tab.js","sourcesContent":["/*\r\n   Copyright 2016 Webnium\r\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\r\n   you may not use this file except in compliance with the License.\r\n   You may obtain a copy of the License at\r\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n   Unless required by applicable law or agreed to in writing, software\r\n   distributed under the License is distributed on an \"AS IS\" BASIS,\r\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n   See the License for the specific language governing permissions and\r\n   limitations under the License.\r\n*/\r\n\"use strict\";\r\n\r\nimport { extendObject } from \"./util\";\r\nimport { Element, Attribute, Property, FHTMLDivElement } from \"./element\";\r\nimport { Button } from \"./button\";\r\n\r\n/*?\r\n    class flagrate.Tab\r\n**/\r\nexport interface Tab extends Instance, FHTMLDivElement { }\r\n\r\nexport interface Class {\r\n    new (option?: Option): Tab;\r\n    prototype: Instance;\r\n}\r\n\r\nexport interface Instance {\r\n    /** select the tab by key. */\r\n    select(tabKey: string): this;\r\n    /** select the tab by index. */\r\n    select(tabIndex: number): this;\r\n    /** select the tab by same object. */\r\n    select(tabItem: TabItem): this;\r\n\r\n    /** unshift the tab. */\r\n    unshift(tabItem: TabItem): number;\r\n    /** unshift the tabs. */\r\n    unshift(tabItems: TabItem[]): number;\r\n\r\n    /** push the tab. */\r\n    push(tabItem: TabItem): number;\r\n    /** push the tabs. */\r\n    push(tabItems: TabItem[]): number;\r\n\r\n    /** shift the tab(s). */\r\n    shift(count?: number): TabItem | TabItem[];\r\n\r\n    /** pop the tabs. */\r\n    pop(count?: number): TabItem | TabItem[];\r\n\r\n    /** Changes the content of a tabs, adding new tabs while removing old tab(s). */\r\n    splice(index: number, howMany?: number, tabItems?: TabItem[]): TabItem[];\r\n    /** Changes the content of a tabs, adding new tab while removing old tab(s). */\r\n    splice(index: number, howMany?: number, tabItem?: TabItem): TabItem[];\r\n\r\n    /** remove tab by key. */\r\n    removeTab(tabKey: string): TabItem;\r\n    /** remove tab by index. */\r\n    removeTab(tabIndex: number): TabItem;\r\n    /** remove tab by same object. */\r\n    removeTab(tabItem: TabItem): TabItem;\r\n    /** remove tabs by same objects */\r\n    removeTab(tabItems: TabItem[]): TabItem[];\r\n\r\n    /** get index by key. */\r\n    indexOf(tabKey: string): number;\r\n    /** get index by same object. */\r\n    indexOf(tabItem: TabItem): number;\r\n\r\n    readonly tabs?: TabItem[];\r\n    readonly bodyless?: boolean;\r\n    readonly selectedIndex?: number;\r\n\r\n    onSelect?(event?: TabEvent, tabItem?: TabItem): void;\r\n\r\n    _tabs?: TabItem[];\r\n    _bodyless?: boolean;\r\n    _selectedIndex?: number;\r\n    _head?: FHTMLDivElement;\r\n    _body?: FHTMLDivElement;\r\n\r\n    _create(): this;\r\n    _render(): this;\r\n    _createOnSelectHandler(tabItem: TabItem): (e: Event) => void;\r\n}\r\n\r\nexport interface Option {\r\n    id?: string;\r\n    className?: string;\r\n    attribute?: Attribute;\r\n    style?: Property;\r\n    tabs?: TabItemOption[];\r\n    selectedIndex?: number;\r\n    fill?: boolean;\r\n    bodyless?: boolean;\r\n    onSelect?(event?: TabEvent, tabItem?: TabItem): void;\r\n}\r\n\r\nexport interface TabItem extends TabItemOption {\r\n    _button?: Button;\r\n\r\n}\r\n\r\nexport interface TabItemOption {\r\n    key?: string;\r\n    label?: string;\r\n    icon?: string;\r\n    text?: string;\r\n    html?: string;\r\n    element?: HTMLElement;\r\n    onSelect?(event?: TabEvent, tabItem?: TabItem): void;\r\n}\r\n\r\nexport interface TabEvent extends Event {\r\n    targetTab?: Tab;\r\n    targetTabItem?: TabItem;\r\n}\r\n\r\n/*?\r\n    flagrate.createTab(option)\r\n    new flagrate.Tab(option)\r\n    - option (Object) - option.\r\n\r\n    Create and initialize the tab.\r\n\r\n    #### option\r\n\r\n    * `id`            (String): `id` attribute of container.\r\n    * `className`     (String):\r\n    * `attribute`     (Object):\r\n    * `style`         (Object): (using flagrate.Element.setStyle)\r\n    * `tabs`          (Array): Array of **tab** object.\r\n    * `selectedIndex` (Number):\r\n    * `fill`          (Boolean; default `false`):\r\n    * `bodyless`      (Boolean; default `false`):\r\n    * `onSelect`      (Function): Triggered whenever select the tab.\r\n\r\n    #### tab\r\n\r\n    * `key`           (String):\r\n    * `label`         (String):\r\n    * `icon`          (String):\r\n    * `text`          (String):\r\n    * `html`          (String):\r\n    * `element`       (Element):\r\n    * `onSelect`      (Function):\r\n**/\r\nfunction FTab(opt: Option = {}) {\r\n\r\n    const attr = opt.attribute || {};\r\n\r\n    attr[\"id\"] = opt.id;\r\n    attr[\"class\"] = \"flagrate flagrate-tab\";\r\n\r\n    if (opt.fill) {\r\n        attr[\"class\"] += \" flagrate-tab-fill\";\r\n    }\r\n\r\n    // create\r\n    const tab = new Element(\"div\", attr) as Tab;\r\n    extendObject(tab, this);\r\n\r\n    if (opt.className) {\r\n        tab.addClassName(opt.className);\r\n    }\r\n    if (opt.style) {\r\n        tab.setStyle(opt.style);\r\n    }\r\n\r\n    tab._tabs = opt.tabs || [];\r\n    tab._bodyless = opt.bodyless || false;\r\n    tab._selectedIndex = opt.selectedIndex || 0;\r\n    tab.onSelect = opt.onSelect || null;\r\n\r\n    Object.defineProperties(tab, {\r\n        tabs: {\r\n            enumerable: true,\r\n            get() { return tab._tabs; },\r\n            set(tabs) {\r\n                tab._tabs = tabs;\r\n                tab._render();\r\n            }\r\n        },\r\n        bodyless: {\r\n            enumerable: true,\r\n            get() { return tab._bodyless; },\r\n            set(bodyless) {\r\n                tab._bodyless = bodyless;\r\n                tab.update()._create()._render();\r\n            }\r\n        },\r\n        selectedIndex: {\r\n            enumerable: true,\r\n            get() { return tab._selectedIndex; },\r\n            set(index) { tab.select(index); }\r\n        }\r\n    })\r\n\r\n    tab._create()._render();\r\n\r\n    if (tab.tabs.length > 0) {\r\n        tab.select(tab.selectedIndex);\r\n    }\r\n\r\n    return tab;\r\n}\r\n\r\nexport const Tab = FTab as any as Class;\r\n\r\nexport function createTab(option?: Option): Tab {\r\n    return new Tab(option);\r\n}\r\n\r\nTab.prototype = {\r\n    select(a) {\r\n\r\n        const tab = this as Tab;\r\n\r\n        const index = (typeof a === \"number\") ? a : tab.indexOf(a);\r\n\r\n        if (index < 0 || index >= tab._tabs.length) {\r\n            return tab;\r\n        }\r\n\r\n        if (0 <= tab._selectedIndex && tab._selectedIndex < tab._tabs.length && tab._tabs[tab._selectedIndex]._button) {\r\n            tab._tabs[tab._selectedIndex]._button.removeClassName(\"flagrate-tab-selected\");\r\n        }\r\n\r\n        tab._selectedIndex = index;\r\n\r\n        const tabItem = tab._tabs[index];\r\n        if (!tabItem || !tabItem._button) {\r\n            return tab;\r\n        }\r\n\r\n        tabItem._button.addClassName(\"flagrate-tab-selected\");\r\n\r\n        if (tabItem.text) {\r\n            tab._body.updateText(tabItem.text);\r\n        }\r\n        if (tabItem.html) {\r\n            tab._body.update(tabItem.html);\r\n        }\r\n        if (tabItem.element) {\r\n            tab._body.update(tabItem.element);\r\n        }\r\n\r\n        const tabEvent: TabEvent = window.event || {} as TabEvent;\r\n        tabEvent.targetTab = tab;\r\n        tabEvent.targetTabItem = tabItem;\r\n\r\n        if (tabItem.onSelect) {\r\n            tabItem.onSelect.call(tab, tabEvent, tabItem);\r\n        }\r\n        if (tab.onSelect) {\r\n            tab.onSelect(tabEvent, tabItem);\r\n        }\r\n\r\n        return tab;\r\n    },\r\n\r\n    unshift(r) {\r\n\r\n        const tab = this as Tab;\r\n\r\n        if (r instanceof Array) {\r\n            for (let i = 0, l = r.length; i < l; i++) {\r\n                tab._tabs.unshift(r);\r\n            }\r\n        } else {\r\n            tab._tabs.unshift(r);\r\n        }\r\n\r\n        tab._render();\r\n\r\n        return tab._tabs.length;\r\n    },\r\n\r\n    push(r) {\r\n\r\n        const tab = this as Tab;\r\n\r\n        if (r instanceof Array) {\r\n            for (let i = 0, l = r.length; i < l; i++) {\r\n                tab._tabs.push(r);\r\n            }\r\n        } else {\r\n            tab._tabs.push(r);\r\n        }\r\n\r\n        tab._render();\r\n\r\n        return tab._tabs.length;\r\n    },\r\n\r\n    shift(c) {\r\n\r\n        const tab = this as Tab;\r\n\r\n        const count = c || 1;\r\n        const removes = [];\r\n\r\n        for (let i = 0, l = tab._tabs.length; i < l && i < count; i++) {\r\n            removes.push(tab._tabs.shift());\r\n        }\r\n\r\n        tab._render();\r\n\r\n        return !c ? removes[0] : removes;\r\n    },\r\n\r\n    pop(c) {\r\n\r\n        const tab = this as Tab;\r\n\r\n        const count = c || 1;\r\n        const removes = [];\r\n\r\n        for (let i = 0, l = tab._tabs.length; i < l && i < count; i++) {\r\n            removes.push(tab._tabs.pop());\r\n        }\r\n\r\n        tab._render();\r\n\r\n        return !c ? removes[0] : removes;\r\n    },\r\n\r\n    splice(index, c, t) {\r\n\r\n        const tab = this as Tab;\r\n\r\n        c = typeof c === \"undefined\" ? this._tabs.length - index : c;\r\n\r\n        const removes = tab._tabs.splice(index, c);\r\n\r\n        if (t) {\r\n            if (t instanceof Array === false) {\r\n                t = [t];\r\n            }\r\n\r\n            for (let i = 0, l = t.length; i < l; i++) {\r\n                tab._tabs.splice(index + i, 0, t[i]);\r\n            }\r\n        }\r\n\r\n        tab._render();\r\n\r\n        return removes;\r\n    },\r\n\r\n    removeTab(a) {\r\n\r\n        const tab = this as Tab;\r\n\r\n        const removes = [];\r\n        let bulk = true;\r\n\r\n        if (a instanceof Array === false) {\r\n            bulk = false;\r\n            a = [a];\r\n        }\r\n\r\n        for (let i = 0, l = a.length; i < l; i++) {\r\n            const index = (typeof a[i] === \"number\") ? a[i] : tab.indexOf(a[i]);\r\n            if (index !== -1) {\r\n                removes.push(tab.splice(index, 1));\r\n            }\r\n        }\r\n\r\n        return bulk ? removes : removes[0];\r\n    },\r\n\r\n    indexOf(a) {\r\n\r\n        const tab = this as Tab;\r\n\r\n        if (typeof a === \"string\") {\r\n            let index = -1;\r\n\r\n            for (let i = 0, l = tab._tabs.length; i < l; i++) {\r\n                if (tab._tabs[i].key === a) {\r\n                    index = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return index;\r\n        } else {\r\n            return tab._tabs.indexOf(a);\r\n        }\r\n    },\r\n\r\n    _create() {\r\n\r\n        const tab = this as Tab;\r\n\r\n        tab._head = new Element(\"div\", { \"class\": \"flagrate-tab-head\" }).insertTo(tab);\r\n\r\n        if (tab._bodyless === true) {\r\n            tab._body = new Element();\r\n        } else {\r\n            tab._body = new Element(\"div\", { \"class\": \"flagrate-tab-body\" }).insertTo(tab);\r\n        }\r\n\r\n        return tab;\r\n    },\r\n\r\n    _render() {\r\n\r\n        const tab = this as Tab;\r\n\r\n        tab._head.update();\r\n\r\n        tab._tabs.forEach(tabItem => {\r\n\r\n            if (!tabItem._button) {\r\n                tabItem._button = new Button({\r\n                    icon: tabItem.icon,\r\n                    label: tabItem.label,\r\n                    onSelect: tab._createOnSelectHandler(tabItem)\r\n                });\r\n            }\r\n\r\n            tabItem._button.insertTo(tab._head);\r\n        });\r\n\r\n        return tab;\r\n    },\r\n\r\n    _createOnSelectHandler(tabItem) {\r\n\r\n        const tab = this as Tab;\r\n\r\n        return (e) => {\r\n\r\n            if (/firefox/i.test(navigator.userAgent) === true) {\r\n                window.event = e;\r\n            }\r\n\r\n            tab.select(tabItem);\r\n        };\r\n    }\r\n};"]}