{"version":3,"sources":["flagrate/button.ts"],"names":[],"mappings":"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","file":"button.js","sourcesContent":["/*\r\n   Copyright 2016 Webnium\r\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\r\n   you may not use this file except in compliance with the License.\r\n   You may obtain a copy of the License at\r\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n   Unless required by applicable law or agreed to in writing, software\r\n   distributed under the License is distributed on an \"AS IS\" BASIS,\r\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n   See the License for the specific language governing permissions and\r\n   limitations under the License.\r\n*/\r\n\"use strict\";\r\n\r\nimport { extendObject, emptyFunction } from \"./util\";\r\nimport { Element, Attribute, Property, FHTMLSpanElement, FHTMLButtonElement } from \"./element\";\r\n\r\n/*?\r\n    class flagrate.Button\r\n\r\n    #### Example\r\n\r\n        var button = flagrate.createButton({\r\n            label   : \"foo\",\r\n            icon    : \"icon.png\",\r\n            onSelect: function () {\r\n                alert(\"hey\");\r\n            }\r\n        }).insertTo(x);\r\n\r\n    #### Structure\r\n\r\n        <button class=\"flagrate flagrate-button flagrate-icon\" style=\"background-image: url(icon.png);\">foo</button>\r\n\r\n    #### Events\r\n\r\n    * `select`:\r\n    * `remove`:\r\n\r\n    #### Inheritances\r\n\r\n    * flagrate.Element\r\n    * [HTMLButtonElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLButtonElement) (MDN)\r\n**/\r\nexport interface Button extends Instance, FHTMLButtonElement { }\r\n\r\nexport interface Class {\r\n    new (option?: Option): Button;\r\n    prototype: Instance;\r\n}\r\n\r\nexport interface Instance {\r\n    select(): this;\r\n    disable(): this;\r\n    enable(): this;\r\n    isEnabled(): boolean;\r\n    setLabel(label: string): this;\r\n    setLabelHTML(html: string): this;\r\n    setColor(color?: string): this;\r\n    getColor(): string;\r\n    setIcon(url?: string): this;\r\n    getIcon(): string;\r\n\r\n    onSelect?(event?: ButtonEvent, button?: this): void;\r\n    onRemove?(event?: ButtonEvent, button?: this): void;\r\n\r\n    readonly labelElement?: FHTMLSpanElement;\r\n\r\n    _removeButton?: FHTMLButtonElement;\r\n    _color?: string;\r\n    _iconIdentifier?: string;\r\n    _onSelectHandler(event: MouseEvent): void;\r\n    _onRemoveHandler(event: MouseEvent): void;\r\n}\r\n\r\nexport interface Option {\r\n    /** id attribute. */\r\n    id?: string;\r\n\r\n    /** class attribute. */\r\n    className?: string;\r\n\r\n    /** attribute/value pairs properties. */\r\n    attribute?: Attribute;\r\n\r\n    /** CSS style properties (uses flagrate.Element.setStyle). */\r\n    style?: Property;\r\n\r\n    /** Color (uses flagrate.Button#setColor). */\r\n    color?: string;\r\n\r\n    /** Label text. */\r\n    label?: string;\r\n\r\n    /** Label html. */\r\n    labelHTML?: string;\r\n\r\n    /** icon image URL. */\r\n    icon?: string;\r\n\r\n    /** default is false. */\r\n    isFocused?: boolean;\r\n\r\n    /** default is false. */\r\n    isDisabled?: boolean;\r\n\r\n    /** default is false. */\r\n    isRemovableByUser?: boolean;\r\n\r\n    onSelect?(event?: ButtonEvent, button?: Button): void;\r\n    onRemove?(event?: ButtonEvent, button?: Button): void;\r\n}\r\n\r\nexport interface ButtonEvent extends MouseEvent {\r\n    targetButton?: Button;\r\n}\r\n\r\n/*?\r\n    flagrate.createButton(option)\r\n    new flagrate.Button(option)\r\n    - option (Object) - options.\r\n\r\n    Button.\r\n\r\n    #### option\r\n\r\n    * `id`                       (String): `id` attribute of `button` element.\r\n    * `className`                (String):\r\n    * `attribute`                (Object):\r\n    * `style`                    (Object): (using flagrate.Element.setStyle)\r\n    * `color`                    (String): (using flagrate.Button#setColor)\r\n    * `label`                    (String; default `\"\"`):\r\n    * `icon`                     (String):\r\n    * `isFocused`                (Boolean; default `false`):\r\n    * `isDisabled`               (Boolean; default `false`):\r\n    * `isRemovableByUser`        (Boolean; default `false`):\r\n    * `onSelect`                 (Function):\r\n    * `onRemove`                 (Function):\r\n**/\r\nfunction FButton(option: Option = {}) {\r\n\r\n    option.isRemovableByUser = option.isRemovableByUser || false;\r\n\r\n    this.onSelect = option.onSelect || emptyFunction;\r\n    this.onRemove = option.onRemove || emptyFunction;\r\n\r\n    const attr = option.attribute || {};\r\n\r\n    if (option.id) {\r\n        attr[\"id\"] = option.id;\r\n    }\r\n    if (option.isFocused) {\r\n        attr[\"autofocus\"] = true;\r\n    }\r\n\r\n    if (!attr[\"type\"]) {\r\n        attr[\"type\"] = \"button\";\r\n    }\r\n\r\n    // create a button element\r\n    const button = new Element(\"button\", attr) as Button;\r\n    extendObject(button, this);\r\n\r\n    (<any>button).labelElement = new Element(\"span\").insertTo(button);\r\n\r\n    if (option.label) {\r\n        button.labelElement.insertText(option.label);\r\n    } else if (option.labelHTML) {\r\n        button.labelElement.insert(option.labelHTML);\r\n    }\r\n\r\n    button.addClassName(\"flagrate flagrate-button\");\r\n    if (option.className) {\r\n        button.addClassName(option.className);\r\n    }\r\n\r\n    button.addEventListener(\"click\", button._onSelectHandler.bind(button), true);\r\n\r\n    if (option.isRemovableByUser) {\r\n        button.addClassName(\"flagrate-button-removable\");\r\n\r\n        button._removeButton = new Element(\"button\", {\r\n            type: \"button\",\r\n            class: \"flagrate-button-remove\"\r\n        }).insertTo(button);\r\n        button._removeButton.addEventListener(\"click\", button._onRemoveHandler.bind(button), true);\r\n    }\r\n\r\n    if (option.style) {\r\n        button.setStyle(option.style);\r\n    }\r\n    if (option.color) {\r\n        button.setColor(option.color);\r\n    }\r\n    if (option.icon) {\r\n        button.setIcon(option.icon);\r\n    }\r\n\r\n    if (option.isDisabled) {\r\n        button.disable();\r\n    }\r\n\r\n    return button;\r\n}\r\n\r\nexport const Button = FButton as any as Class;\r\n\r\nexport function createButton(option?: Option): Button {\r\n    return new Button(option);\r\n}\r\n\r\nButton.prototype = {\r\n    select() {\r\n        return this._onSelectHandler(null);\r\n    },\r\n\r\n    disable() {\r\n\r\n        this.addClassName(\"flagrate-disabled\");\r\n        this.writeAttribute(\"disabled\", true);\r\n\r\n        return this;\r\n    },\r\n\r\n    enable() {\r\n\r\n        this.removeClassName(\"flagrate-disabled\");\r\n        this.writeAttribute(\"disabled\", false);\r\n\r\n        return this;\r\n    },\r\n\r\n    isEnabled() {\r\n        return !this.hasClassName(\"flagrate-disabled\");\r\n    },\r\n\r\n    setLabel(text) {\r\n\r\n        this.labelElement.updateText(text);\r\n\r\n        return this;\r\n    },\r\n\r\n    setLabelHTML(html) {\r\n\r\n        this.labelElement.update(html);\r\n\r\n        return this;\r\n    },\r\n\r\n    setColor(color) {\r\n\r\n        const button = this as Button;\r\n\r\n        if (color.charAt(0) === \"@\") {\r\n            button.style.backgroundColor = \"\";\r\n            button.style.color = \"\";\r\n            button.addClassName(\"flagrate-button-color-\" + color.slice(1));\r\n        } else {\r\n            button.style.backgroundColor = color;\r\n\r\n            if (/^#[0-9a-f]{6}$/i.test(color) === true) {\r\n                const c = parseInt(color.slice(1), 16);\r\n                if ((((c >> 16) + (c >> 8 & 0xff) + (c & 0xff)) / 3) > 150) {\r\n                    button.style.color = \"black\";\r\n                } else {\r\n                    button.style.color = \"white\";\r\n                }\r\n            } else {\r\n                button.style.color = \"\";\r\n            }\r\n        }\r\n\r\n        button._color = color;\r\n\r\n        return button;\r\n    },\r\n\r\n    getColor() {\r\n        return this._color || \"\";\r\n    },\r\n\r\n    setIcon(identifier) {\r\n\r\n        const button = this as Button;\r\n\r\n        button._iconIdentifier = identifier;\r\n\r\n        if (identifier) {\r\n            return button.addClassName(\"flagrate-icon\").setStyle({\r\n                backgroundImage: `url(${identifier})`\r\n            });\r\n        } else {\r\n            return button.removeClassName(\"flagrate-icon\").setStyle({\r\n                backgroundImage: \"none\"\r\n            });\r\n        }\r\n    },\r\n\r\n    getIcon() {\r\n        return this._iconIdentifier || \"\";\r\n    },\r\n\r\n    _onSelectHandler(e) {\r\n\r\n        const button = this as Button;\r\n\r\n        if (button.isEnabled() === false) {\r\n            return;\r\n        }\r\n\r\n        // for Firefox <- until when..?\r\n        if (button._removeButton && e && e.layerX) {\r\n            const bw = button.getWidth();\r\n            const bh = button.getHeight();\r\n            const bp = button._removeButton.getStyle(\"margin-right\") === null ? 0 : parseInt(button._removeButton.getStyle(\"margin-right\").replace(\"px\", \"\"), 10);\r\n            const rw = button._removeButton.getWidth();\r\n            const rh = button._removeButton.getHeight();\r\n            const lx = e.layerX;\r\n            const ly = e.layerY;\r\n\r\n            const isHitRemoveButton = (\r\n                lx > bw - bp - rw &&\r\n                lx < bw - bp &&\r\n                ly > bh - ((bh - rh) / 2) - rh &&\r\n                ly < bh - ((bh - rh) / 2)\r\n            );\r\n            if (isHitRemoveButton) {\r\n                button._onRemoveHandler(e);\r\n\r\n                return button;\r\n            }\r\n        }\r\n\r\n        const _e: ButtonEvent = e;\r\n        _e.targetButton = button;\r\n\r\n        button.onSelect(_e, button);\r\n        button.fire(\"select\", { targetButton: button });\r\n    },\r\n\r\n    _onRemoveHandler(e) {\r\n\r\n        const button = this as Button;\r\n\r\n        if (button.isEnabled() === true) {\r\n            button.remove();\r\n\r\n            const _e: ButtonEvent = e;\r\n            _e.targetButton = button;\r\n\r\n            button.onRemove(_e, button);\r\n            button.fire(\"remove\", { targetButton: button });\r\n        }\r\n    }\r\n};"]}